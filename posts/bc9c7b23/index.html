<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="In me the tiger sniffs the rose"><title>UniwebView Recompile | Lazybones Kill PLAN</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">UniwebView Recompile</h1><a id="logo" href="/.">Lazybones Kill PLAN</a><p class="description">In me the tiger sniffs the rose</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/history/"><i class="fa fa-book"> 历史</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">UniwebView Recompile</h1><div class="post-meta">Sep 6, 2017<span> | </span><span class="category"><a href="/categories/SDK/">SDK</a></span></div><div class="post-content"><blockquote>
<p>现在项目接入UniwebView同时需要接入其他SDk,所以这里记录一下UniwebView的重编译过程。仅供参考。有点东西想吐槽，这个插件是中国人写的但是文档并不友好。最后呼吁支持正版，花点钱支持一下这个项目。哈哈</p>
</blockquote>
<a id="more"></a>
<h2 id="解决方案如下"><a href="#解决方案如下" class="headerlink" title="解决方案如下"></a>解决方案如下</h2><ol>
<li>解压 Assets/UniWebView/Source.zip 下脚本，复制到新工程中</li>
</ol>
<p><img src="/uploads/QQ20170906-173407.png" alt="创建PluginLibrary"></p>
<p>因为采用AndroidStudio Labrary打包的方式所以可以直接导出 aar的包，省去了很多麻烦。最终的unity工程直接添加aar进行编译</p>
<ol>
<li><p>在Unity工程中的Build.Gradle脚本的<code>dependencies</code>下添加:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">compile</span>(<span class="attribute">name</span>: <span class="string">'uniwebview-release'</span>, <span class="attribute">ext</span>: <span class="string">'aar'</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>删除在unity工程的libs下与aar之中重复的jar包。</p>
</li>
</ol>
<h1 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h1><p><a href="http://uniwebview.onevcat.com/manual" target="_blank" rel="external">Document Link</a></p>
<ol>
<li>You need the SDK of Android installed. Please refer to the Android developer site for more information.</li>
<li>You need Apache Ant installed to compile java from command line. This tool is installed on Mac by default, you can run which ant in terminal to confirm if it is installed. If not, please refer to this post or the ant’s official site for more information to install it.</li>
<li>Download the UniWebView’s customize compile script package from here and unzip it to a folder (we will call it “compile folder” later). This package is for Unix based system (such as Mac), but you can adapt it for Windows if needed easily.</li>
<li>And of course, you need the source code of UniWebView Android, which is bundled with this package under the folder /Assets/UniWebView/Source/Android/ after you import it.</li>
</ol>
<h2 id="我并没有采用ant构建而是使用Gradle构建Labrary-下面是查看本机ant环境的小技巧"><a href="#我并没有采用ant构建而是使用Gradle构建Labrary-下面是查看本机ant环境的小技巧" class="headerlink" title="我并没有采用ant构建而是使用Gradle构建Labrary 下面是查看本机ant环境的小技巧"></a>我并没有采用ant构建而是使用Gradle构建Labrary 下面是查看本机ant环境的小技巧</h2><p>这里我检查了下本机Ant是否存在<code>which ant</code><br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">keyle</span>@<span class="keyword">keyles</span>-<span class="keyword">MacBook</span>-<span class="keyword">Pro</span>  ~/keylexiao/source/_posts  which ant</div><div class="line">ant not found</div></pre></td></tr></table></figure></p>
<p>如果像我一样没有ant就用 <a href="http://sdkman.io/" target="_blank" rel="external">SDKMan</a> 安装一下</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">keyle@keyles-MacBook-Pro  ~/keylexiao/source/_posts  sdk install ant</div><div class="line"></div><div class="line">Downloading: ant <span class="number">1.10</span><span class="number">.1</span></div><div class="line"></div><div class="line">In progress...</div><div class="line"></div><div class="line">######################################################################## <span class="number">100.0</span>%</div><div class="line"></div><div class="line">Installing: ant <span class="number">1.10</span><span class="number">.1</span></div><div class="line">Done installing!</div><div class="line"></div><div class="line">Setting ant <span class="number">1.10</span><span class="number">.1</span> <span class="keyword">as</span> default.</div></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/UniwebView/">UniwebView</a></div><div class="post-nav"><a class="pre" href="/posts/cec4451/">微信二维码支付接入流程</a><a class="next" href="/posts/831cd9e6/">AndroidStudio 堆内存爆炸导致无法打包</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'KeyleXiao',
  repo: 'keylexiao.github.io',
  oauth: {
    client_id: '848c90c8264323450559',
    client_secret: '4bb4f2730d20b2e39151a6ed21a7eb0467581baa',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://vrast.cn"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android-Profile/">Android Profile</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android-Studio/">Android Studio</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/AndroidStudio/">AndroidStudio</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/AppStore/">AppStore</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C#</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Document/">Document</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DotNetCore/">DotNetCore</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Editor/">Editor</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/FAQ/">FAQ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Framework/">Framework</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Host/">Host</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/INTENSE项目源码分析/">INTENSE项目源码分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MAC/">MAC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Markdown/">Markdown</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Math/">Math</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OpenSource/">OpenSource</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PROJECT/">PROJECT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Plugin/">Plugin</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SCRIPT/">SCRIPT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SDK/">SDK</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/">Script</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Site/">Site</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/StrangeIOC教程目录/">StrangeIOC教程目录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Terminal/">Terminal</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/UNITY/">UNITY</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/UNITY3D/">UNITY3D</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/UNITY3D-iOS/">UNITY3D&iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/UNITYAPI/">UNITYAPI</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/XCode/">XCode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ftp/">ftp</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/gantt-chart/">gantt chart</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/teranimal/">teranimal</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/图形学/">图形学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习手札/">学习手札</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/教程/">教程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/新书提纲/">新书提纲</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂记/">杂记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/源码分析/">源码分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/翻译/">翻译</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/阅读笔记/">阅读笔记</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/ScrollView/" style="font-size: 15px;">ScrollView</a> <a href="/tags/ADB/" style="font-size: 15px;">ADB</a> <a href="/tags/AI/" style="font-size: 15px;">AI</a> <a href="/tags/terminal/" style="font-size: 15px;">terminal</a> <a href="/tags/jar/" style="font-size: 15px;">jar</a> <a href="/tags/Gradle/" style="font-size: 15px;">Gradle</a> <a href="/tags/IAP/" style="font-size: 15px;">IAP</a> <a href="/tags/Navigation/" style="font-size: 15px;">Navigation</a> <a href="/tags/AVD/" style="font-size: 15px;">AVD</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/shader-图形学/" style="font-size: 15px;">shader 图形学</a> <a href="/tags/C/" style="font-size: 15px;">C#</a> <a href="/tags/INTENSE-GOAP文档/" style="font-size: 15px;">INTENSE GOAP文档</a> <a href="/tags/Grammar/" style="font-size: 15px;">Grammar</a> <a href="/tags/Extension/" style="font-size: 15px;">Extension</a> <a href="/tags/INTENSE文档/" style="font-size: 15px;">INTENSE文档</a> <a href="/tags/Exception/" style="font-size: 15px;">Exception</a> <a href="/tags/GCD/" style="font-size: 15px;">GCD</a> <a href="/tags/ExcFoundation-framework/" style="font-size: 15px;">ExcFoundation framework</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Shader/" style="font-size: 15px;">Shader</a> <a href="/tags/Optimize/" style="font-size: 15px;">Optimize</a> <a href="/tags/INTENSE总纲/" style="font-size: 15px;">INTENSE总纲</a> <a href="/tags/GPUSkinning/" style="font-size: 15px;">GPUSkinning</a> <a href="/tags/Lua/" style="font-size: 15px;">Lua</a> <a href="/tags/Objective-C/" style="font-size: 15px;">Objective-C</a> <a href="/tags/KVO/" style="font-size: 15px;">KVO</a> <a href="/tags/LipSync/" style="font-size: 15px;">LipSync</a> <a href="/tags/KVC/" style="font-size: 15px;">KVC</a> <a href="/tags/MD5withRSA/" style="font-size: 15px;">MD5withRSA</a> <a href="/tags/Math/" style="font-size: 15px;">Math</a> <a href="/tags/MAC/" style="font-size: 15px;">MAC</a> <a href="/tags/markdown-语法/" style="font-size: 15px;">markdown 语法</a> <a href="/tags/Protocal/" style="font-size: 15px;">Protocal</a> <a href="/tags/UNITY3D/" style="font-size: 15px;">UNITY3D</a> <a href="/tags/sharderforge/" style="font-size: 15px;">sharderforge</a> <a href="/tags/SNFramework/" style="font-size: 15px;">SNFramework</a> <a href="/tags/rendertexure/" style="font-size: 15px;">rendertexure</a> <a href="/tags/SmartDataViewer/" style="font-size: 15px;">SmartDataViewer</a> <a href="/tags/UI/" style="font-size: 15px;">UI</a> <a href="/tags/StrangeIOC/" style="font-size: 15px;">StrangeIOC</a> <a href="/tags/Interaction/" style="font-size: 15px;">Interaction</a> <a href="/tags/CODE/" style="font-size: 15px;">CODE</a> <a href="/tags/ANIMATION/" style="font-size: 15px;">ANIMATION</a> <a href="/tags/Define/" style="font-size: 15px;">Define</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/AssetBundle/" style="font-size: 15px;">AssetBundle</a> <a href="/tags/性能优化/" style="font-size: 15px;">性能优化</a> <a href="/tags/coroutines/" style="font-size: 15px;">coroutines</a> <a href="/tags/NewPrefabSystem/" style="font-size: 15px;">NewPrefabSystem</a> <a href="/tags/测试自动化/" style="font-size: 15px;">测试自动化</a> <a href="/tags/MOBILE/" style="font-size: 15px;">MOBILE</a> <a href="/tags/Cocopods/" style="font-size: 15px;">Cocopods</a> <a href="/tags/UNITY3D编辑器/" style="font-size: 15px;">UNITY3D编辑器</a> <a href="/tags/UniwebView/" style="font-size: 15px;">UniwebView</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/YouMi/" style="font-size: 15px;">YouMi</a> <a href="/tags/Plugins/" style="font-size: 15px;">Plugins</a> <a href="/tags/XLua/" style="font-size: 15px;">XLua</a> <a href="/tags/none/" style="font-size: 15px;">none</a> <a href="/tags/Graphic/" style="font-size: 15px;">Graphic</a> <a href="/tags/download/" style="font-size: 15px;">download</a> <a href="/tags/protobuf/" style="font-size: 15px;">protobuf</a> <a href="/tags/VIM/" style="font-size: 15px;">VIM</a> <a href="/tags/ZSH/" style="font-size: 15px;">ZSH</a> <a href="/tags/XCode/" style="font-size: 15px;">XCode</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/3DUI/" style="font-size: 15px;">3DUI</a> <a href="/tags/Plugin/" style="font-size: 15px;">Plugin</a> <a href="/tags/APK/" style="font-size: 15px;">APK</a> <a href="/tags/VSCode/" style="font-size: 15px;">VSCode</a> <a href="/tags/Physics/" style="font-size: 15px;">Physics</a> <a href="/tags/tools/" style="font-size: 15px;">tools</a> <a href="/tags/计划与时间管理/" style="font-size: 15px;">计划与时间管理</a> <a href="/tags/None/" style="font-size: 15px;">None</a> <a href="/tags/缺氧源码分析/" style="font-size: 15px;">缺氧源码分析</a> <a href="/tags/BuildTimes/" style="font-size: 15px;">BuildTimes</a> <a href="/tags/NavmeshAgent/" style="font-size: 15px;">NavmeshAgent</a> <a href="/tags/md5/" style="font-size: 15px;">md5</a> <a href="/tags/语法/" style="font-size: 15px;">语法</a> <a href="/tags/PROJECT/" style="font-size: 15px;">PROJECT</a> <a href="/tags/微软跨平台/" style="font-size: 15px;">微软跨平台</a> <a href="/tags/English/" style="font-size: 15px;">English</a> <a href="/tags/ANDROID/" style="font-size: 15px;">ANDROID</a> <a href="/tags/Tencent/" style="font-size: 15px;">Tencent</a> <a href="/tags/Observer/" style="font-size: 15px;">Observer</a> <a href="/tags/Terminal/" style="font-size: 15px;">Terminal</a> <a href="/tags/SSH/" style="font-size: 15px;">SSH</a> <a href="/tags/Chat/" style="font-size: 15px;">Chat</a> <a href="/tags/PerGUI/" style="font-size: 15px;">PerGUI</a> <a href="/tags/SublimeText3/" style="font-size: 15px;">SublimeText3</a> <a href="/tags/Git技巧/" style="font-size: 15px;">Git技巧</a> <a href="/tags/project/" style="font-size: 15px;">project</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/posts/d2e8872a/">http下载与ftp下载md5值不一致</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/2a8fe98b/">使用ternimal 或 powershell 计算文件md5</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/55eaddde/">AndroidStudio AVD FAQ</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/cd9ab0aa/">JIT && TOC</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/5b921b24/">none内容提纲</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/47642b6e/">使用VisualStudio Code 预览.md文件</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/d708212d/">Mac平台Debug lua提示缺少socket.http组件</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/80d969f4/">UNITY Unable to instantiate UnityPlayerActivity</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/b5ee8b26/">优化IL2CPP打包速度</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/434d7425/">安装Unity导出APK显示失败</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/KeyleXiao" title="My GitHub" target="_blank">My GitHub</a><ul></ul><a href="https://twitter.com/keyle_xiao" title="My Twitter" target="_blank">My Twitter</a><ul></ul><a href="http://weibo.com/xiaoxiaoxiaonian" title="My Weibo" target="_blank">My Weibo</a><ul></ul><a href="http://git.oschina.net/keyle" title="My OSChina" target="_blank">My OSChina</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer"> <p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold;">Coding Pages</a></p><br/> 本站由 <a href="https://vrast.cn/about">@keyle </a> 创建，采用 <a href="https://github.com/tufu9441/maupassant-hexo">Maupassant</a> 作为主题，您可以在 <a href="https://github.com/KeyleXiao/keylexiao.github.io">GitHub</a> 找到本站源码<br/> © <a href="/." rel="nofollow">Lazybones Kill PLAN . </a> 本站采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/2.5/cn/">署名-非商业性使用-相同方式共享 2.5 中国大陆</a>进行许可 <br/><a class="fa fa-envelope-o" href="mailto:keyle_xiao@hotmail.com"> keyle_xiao@hotmail.com  .</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>