<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Lazybones Kill PLAN</title>
  <subtitle>In me the tiger sniffs the rose</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://vrast.cn/"/>
  <updated>2017-03-06T07:42:13.000Z</updated>
  <id>http://vrast.cn/</id>
  
  <author>
    <name>keyle xiao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Extension in iOS</title>
    <link href="http://vrast.cn/posts/f84fd914/"/>
    <id>http://vrast.cn/posts/f84fd914/</id>
    <published>2017-03-06T06:43:32.000Z</published>
    <updated>2017-03-06T07:42:13.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>é€šè¿‡æ‰©å±•ç±»æ¥å¢å¼ºç±»çš„æ‰©å±•æ€§ã€‚éå¸¸å¥½ç”¨çš„ä¸€ä¸ªå¢å¼ºç±»åŠŸèƒ½çš„æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒC#çš„ <code>partial</code> éƒ¨åˆ†ç±»ã€‚<br><a id="more"></a></p>
</blockquote>
<p>ä¸‹é¢çš„ä¾‹å­ç›´æ¥ä½¿ç”¨æ‰©å±•ç±»ã€‚ä¸ä¿®æ”¹åŸç±»å‹ <code>Foo</code>çš„å‰æä¸‹ï¼Œç»™  <code>Foo</code> æ·»åŠ äº†ä¸€ä¸ª <code>GetDescription</code> å®ä¾‹æ–¹æ³•ã€‚å¹¶ä¸”è®¿é—®äº† <code>Foo</code> çš„ <code>stringOnFoo</code> å±æ€§ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Foo.h"</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Foo</span> (<span class="title">Print</span>)</span></div><div class="line">-(<span class="built_in">NSString</span>*)GetDescription;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Foo</span> (<span class="title">Print</span>)</span></div><div class="line">-(<span class="built_in">NSString</span>*)GetDescription</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>.stringOnFoo) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,<span class="keyword">self</span>.stringOnFoo);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.stringOnFoo;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="string">@""</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">@end</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</div><div class="line">    </div><div class="line">    Foo* fo = [[Foo alloc]init];</div><div class="line">    fo.stringOnFoo = <span class="string">@"helloworld"</span>;</div><div class="line">    [fo GetDescription];</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;é€šè¿‡æ‰©å±•ç±»æ¥å¢å¼ºç±»çš„æ‰©å±•æ€§ã€‚éå¸¸å¥½ç”¨çš„ä¸€ä¸ªå¢å¼ºç±»åŠŸèƒ½çš„æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒC#çš„ &lt;code&gt;partial&lt;/code&gt; éƒ¨åˆ†ç±»ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://vrast.cn/categories/iOS/"/>
    
    
      <category term="Extension" scheme="http://vrast.cn/tags/Extension/"/>
    
  </entry>
  
  <entry>
    <title>Protocal in iOS</title>
    <link href="http://vrast.cn/posts/cdd77a74/"/>
    <id>http://vrast.cn/posts/cdd77a74/</id>
    <published>2017-03-06T02:39:18.000Z</published>
    <updated>2017-03-06T06:39:27.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>è®°å½•å…³äºåè®®åœ¨objectivecä¸­çš„ç”¨æ³•ä»¥åŠç±»æ¯”ã€‚ä¹‹å‰æˆ‘è®¤ä¸º objectivec æ‰€è°“çš„åè®®å°±æ˜¯C#é‡Œçš„æ¥å£ã€‚océ‡Œçš„åè®®æ”¯æŒç»§æ‰¿ï¼Œæ”¯æŒå¯é€‰å®ç°ï¼Œæ”¯æŒåµŒå¥—çš„ç»“æ„(åœ¨Aåè®®ä½¿ç”¨Båè®®) çš„æ„æ€ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="åƒc-ä½¿ç”¨æ¥å£é‚£æ ·ä½¿ç”¨åè®®"><a href="#åƒc-ä½¿ç”¨æ¥å£é‚£æ ·ä½¿ç”¨åè®®" class="headerlink" title="åƒc#ä½¿ç”¨æ¥å£é‚£æ ·ä½¿ç”¨åè®®"></a>åƒc#ä½¿ç”¨æ¥å£é‚£æ ·ä½¿ç”¨åè®®</h1><p>æˆ‘åˆ›å»ºäº†ä¸€ä¸ªé»˜è®¤çš„åè®®ï¼Œç»§æ‰¿äº†NSObjectçš„åè®®ï¼Œè¿™ä¸ªåè®®å½“ç„¶æ˜¯å¯é€‰çš„ã€‚ä¸æ­£ç»çš„è¯´è¿™é‡Œå°±åƒæ˜¯C#çš„æ³›å‹çº¦æŸ(where class)ã€‚<br>æˆ‘åœ¨è¿™é‡Œæ ‡è®°äº† @required ,è¿™ä¹Ÿæ˜¯å¯é€‰çš„ï¼Œå› ä¸ºé»˜è®¤éƒ½æ˜¯ @requiredã€‚<br>@optional ä¹Ÿæ˜¯å¯é€‰çš„ï¼Œæ ‡è®°äº† @optional å°±å¯ä»¥ä¸å¿…åœ¨ç»§æ‰¿æ­¤åè®®çš„ç±»ä¸­ä½¿ç”¨ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">PrintLine</span></span></div><div class="line"></div><div class="line"><span class="keyword">@required</span></div><div class="line">-(<span class="keyword">void</span>)Log:(<span class="built_in">NSString</span>*) content;</div><div class="line"></div><div class="line"><span class="keyword">@optional</span></div><div class="line">-(<span class="keyword">void</span>)SayHello:(<span class="built_in">NSString</span>*) content;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>å¯ä»¥åœ¨å°–æ‹¬å·é‡Œæ·»åŠ å¤šä¸ªåè®®<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Bar.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"PrintLine.h"</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Foo</span> : <span class="title">NSObject</span>&lt;<span class="title">PrintLine</span>,<span class="title">NSObject</span>&gt;</span></div><div class="line">&#123;</div><div class="line">    Bar* bar;</div><div class="line">    <span class="built_in">NSString</span>* stringOnFoo;</div><div class="line">&#125;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) Bar* bar;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">NSString</span>* stringOnFoo;</div><div class="line"></div><div class="line">+(<span class="keyword">void</span>)sayHello:(<span class="built_in">NSString</span>*) name;</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)addObserver;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure></p>
<p>å¦‚æœæƒ³è¦çŸ¥é“ä¸€ä¸ªåè®®æ˜¯å¦è¢«æ­£åœ¨ä½¿ç”¨çš„ç±»å®ç°äº†ï¼Œå¯ä»¥ä½¿ç”¨ <code>confirmsToProtocal</code></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Foo.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"PrintLine.h"</span></span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</div><div class="line">     Foo* fo = [[Foo alloc]init];</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> ([fo conformsToProtocol:<span class="class"><span class="keyword">@protocol</span>(<span class="title">PrintLine</span>)]) </span>&#123;</div><div class="line">        [fo Log:<span class="string">@"protocal"</span>];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è®°å½•å…³äºåè®®åœ¨objectivecä¸­çš„ç”¨æ³•ä»¥åŠç±»æ¯”ã€‚ä¹‹å‰æˆ‘è®¤ä¸º objectivec æ‰€è°“çš„åè®®å°±æ˜¯C#é‡Œçš„æ¥å£ã€‚océ‡Œçš„åè®®æ”¯æŒç»§æ‰¿ï¼Œæ”¯æŒå¯é€‰å®ç°ï¼Œæ”¯æŒåµŒå¥—çš„ç»“æ„(åœ¨Aåè®®ä½¿ç”¨Båè®®) çš„æ„æ€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://vrast.cn/categories/iOS/"/>
    
    
      <category term="Protocal" scheme="http://vrast.cn/tags/Protocal/"/>
    
  </entry>
  
  <entry>
    <title>English Grammar 1</title>
    <link href="http://vrast.cn/posts/c511b8c1/"/>
    <id>http://vrast.cn/posts/c511b8c1/</id>
    <published>2017-03-04T12:59:48.000Z</published>
    <updated>2017-03-06T06:37:38.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>ä¸ºä»€ä¹ˆè¦å­¦å¤–è¯­ ï¼Ÿå¦‚æœä¸æ„Ÿå…´è¶£çš„ä½ å¯ä»¥ä¸ç”¨å­¦ï¼Œå˜¿å˜¿ã€‚ æœ¬æ–‡æ˜¯æˆ‘é˜…è¯»æ–‡æ³•ä¿±ä¹éƒ¨(æ—‹å…ƒä½‘è€å¸ˆè‘—ä½œ)çš„ç¬”è®°ï¼Œæ— ç¬”è®°ä¸è¯»ä¹¦ã€‚è®°å½•ä¸€äº›å…³é”®çš„ä¿¡æ¯ï¼Œä¸€å…±äºŒåäºŒä¸ªç« èŠ‚ï¼Œæˆ‘æ‰“ç®—åˆ†11ä¸ªç¬”è®°è®°å½•æˆ‘é˜…è¯»çš„è¿‡ç¨‹ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¼€å§‹äº† ğŸ˜</p>
</blockquote>
<a id="more"></a>
<h1 id="äº”ç§å¸¸è§åŸºæœ¬å¥å‹"><a href="#äº”ç§å¸¸è§åŸºæœ¬å¥å‹" class="headerlink" title="äº”ç§å¸¸è§åŸºæœ¬å¥å‹"></a>äº”ç§å¸¸è§åŸºæœ¬å¥å‹</h1><p>ä¸»            åŠ¨          å®¾           è¡¥<br>S : Subject   V : Verb   Oï¼šObject   C: Complement</p>
<ul>
<li>S + V </li>
<li>S + V + O</li>
<li>S + V + C</li>
<li>S + V + O + O</li>
<li>S + V + O + C</li>
</ul>
<p>ä¸€ä¸ªå®Œæ•´çš„å¥å­å°‘ä¸äº†åŠ¨è¯ã€‚</p>
<h1 id="è¡¥è¯­"><a href="#è¡¥è¯­" class="headerlink" title="è¡¥è¯­"></a>è¡¥è¯­</h1><p>è¦äº†è§£è¡¥è¯­ï¼Œåªéœ€è¦ç ”ç©¶é‚£äº›è§£é‡Šä¸ºâ€œæ˜¯â€çš„åŠ¨è¯ã€‚åŸºæœ¬å¥å‹åˆ†äº”ç§ï¼Œæ˜¯å› ä¸ºæœ‰äº”ç§ç‰¹æ€§ä¸åŒçš„åŠ¨è¯è€Œé€ æˆçš„ã€‚<br>åœ¨æ‰€æœ‰çš„è‹±è¯­åŠ¨è¯ä¸­ï¼Œåªæœ‰è§£é‡Šä¸ºâ€œæ˜¯â€çš„åŠ¨è¯æ˜¯ç©ºçš„,å®Œå…¨æ²¡æœ‰æ„ä¹‰ã€‚ä¹Ÿåªæœ‰è¿™ç§åŠ¨è¯æ‰éœ€è¦è¡¥è¯­æ¥è¡¥è¶³å¥å­çš„æ„æ€ã€‚</p>
<p>å¯ä»¥ç‹¬ç«‹å‘ç”Ÿï¼Œä¸ç‰µæ¶‰åˆ°åˆ«çš„äººæˆ–ç‰©ï¼Œè¿™ç§åŠ¨è¯å°±å«â€œä¸åŠç‰©â€åŠ¨è¯ã€‚ä¸åŠç‰©åŠ¨è¯åä¹‹ã€‚</p>
<p>ä¸€ä¸ªå®Œæ•´çš„å¥å­å¿…é¡»èƒ½å¤Ÿè¡¨è¾¾å®Œæ•´çš„æ„æ€ã€‚è¿™éœ€è¦ä¸¤ä¸ªä»¥ä¸Šéƒ¨åˆ†æ¥å®Œæˆï¼šä¸»è¯­å’ŒåŠ¨è¯ã€‚ä¸»è¯­ï¼Œæ˜¯è¿™ä¸ªå¥å­å™è¿°çš„å¯¹è±¡ã€‚åŠ¨è¯ï¼Œæ„æˆå™è¿°çš„ä¸»è¦å†…å®¹ã€‚</p>
<p>åœ¨ä¸­æ–‡ç¿»è¯‘ä¸­ï¼ŒåŠ¨è¯â€œæ˜¯â€å®Œå…¨ä¸è§äº†ï¼<br>The cat is lovely.        è¿™åªçŒ«å¾ˆå¯çˆ±ã€‚<br>The soup is too hot.      æ±¤å¤ªçƒ«äº†<br>Taroko Gorge is beautiful.xxå³¡è°·å¾ˆç¾ã€‚</p>
<p>æˆ‘ä»¬ç§°â€œæ˜¯â€ä¸ºè¿ç¼€åŠ¨è¯ã€‚è·Ÿåœ¨è¿™ç§åŠ¨è¯åé¢çš„éƒ¨åˆ†ï¼Œå› ä¸ºä»£æ›¿äº†åŠ¨è¯æ‰€æ‰®æ¼”çš„å™è¿°è§’è‰²ï¼Œè¡¥è¶³äº†å¥å­ä½¿å®ƒè·å¾—å®Œæ•´çš„æ„æ€ï¼Œç§°ä¹‹ä¸ºâ€œè¡¥è¯­â€ã€‚</p>
<p>éœ€è¦è¡¥è¯­çš„åŠ¨è¯æœ‰å“ªäº›ï¼š<br>look , seem , appear , sound , feel . taste , turn , prove , become , make<br>å› ä¸ºè¿™äº›åŠ¨è¯éƒ½æ˜¯ç©ºå­—çœ¼ï¼Œéƒ½è¿˜ä¸èƒ½æ„æˆä¸€ä¸ªæœ‰æ„ä¹‰çš„å®Œæ•´å¥å­ï¼Œæ‰€ä»¥éœ€è¦è¡¥è¯­æ¥è¡¥è¶³ã€‚<br>ä¸Šé¢è¿™äº›åŠ¨è¯æœ‰ä¸€ä¸ªç‰¹ç‚¹ å°±æ˜¯éƒ½å¯ä»¥ç”¨ is æ¥æ›¿ä»£ã€‚</p>
<blockquote>
<p>æ£€éªŒ <code>S + V + O + C </code>çš„æŠ€å·§ï¼ŒæŠŠå®¾è¯­ä¸è¡¥è¯­æ‹¿å‡ºæ¥ä¸­é—´åŠ ä¸€ä¸ªbeåŠ¨è¯ã€‚çœ‹çœ‹èƒ½ä¸èƒ½æ”¹æˆ <code>S + V + C</code></p>
</blockquote>
<p>è¡¥è¯­çš„è¯ç±»åº”è¯¥æ˜¯åè¯å’Œå½¢å®¹è¯æ¯”è¾ƒåˆç†ã€‚å› ä¸ºä¸»è¯­æˆ–å®¾è¯­éƒ½æ˜¯åè¯ï¼Œæ‰€ä»¥è¡¥è¯­ä¹Ÿå¯ä»¥æ˜¯åè¯ï¼Œç»ç”±â€œæ˜¯â€è¿æ¥è¡¨è¾¾åŒç­‰çš„å…³ç³»ã€‚</p>
<p>beåŠ¨è¯æ—¶æœ€çº¯ç²¹çš„linking verbï¼Œè§£é‡Šä¸ºâ€œæ˜¯â€ï¼Œåé¢åº”è¯¥æœ‰è¡¥è¯­æ‰ç®—å®Œæ•´ï¼Œå¦‚æœçœ‹åˆ°beåŠ¨è¯åé¢æ²¡æœ‰è¡¥è¯­ï¼Œè¡¨ç¤ºè¿™ä¸ªbeåŠ¨è¯å¹¶ä¸æ˜¯å½“ä½œè¿ç¼€åŠ¨è¯ä½¿ç”¨ã€‚å¦‚æœçœ‹åˆ°beåŠ¨è¯åé¢æ²¡æœ‰è¡¥è¯­ï¼Œè¡¨ç¤ºè¿™ä¸ªbeåŠ¨è¯å¹¶ä¸æ˜¯å½“ä½œè¿ç¼€åŠ¨è¯ä½¿ç”¨ï¼Œè¿™æ—¶å€™beåŠ¨è¯ä¸è§£é‡Šä¸ºâ€œæ˜¯â€ï¼Œè€Œæ˜¯è¦è§£é‡Šä¸ºâ€œå­˜åœ¨â€ï¼Œç”¨åœ¨æœ€å•çº¯çš„â€œä¸»è¯­+åŠ¨è¯(S+V)â€çš„å¥å‹ä¸­ã€‚<br>A is Bâ€™s father . è¿™é‡ŒbeåŠ¨è¯å¿…é¡»ç¿»è¯‘å‡ºæ¥ã€‚<br>To be or not to be .that is the question. â€“å“ˆå§†é›·ç‰¹</p>
<h1 id="åŒå®¾è¯­å¥å‹"><a href="#åŒå®¾è¯­å¥å‹" class="headerlink" title="åŒå®¾è¯­å¥å‹"></a>åŒå®¾è¯­å¥å‹</h1><p>dog å¹¶ä¸å¯¹ him è¿›è¡Œè¡¥å……,him ä¸ dogæ˜¯å¹¶åˆ—çš„ï¼Œæ‰€ä»¥éƒ½æ˜¯å®¾è¯­ã€‚å¯ä»¥æŠŠä¸¤ä¸ªå®¾è¯­æ‹¿å‡ºæ¥ä¸­é—´åŠ ä¸€ä¸ªbe å“ˆå“ˆã€‚him is a dog ã€‚éª‚äººå°±ä¸å¯¹äº†ã€‚<br>Aâ€™s father gave him a dog.</p>
<p>dogæ˜¯å¯¹himçš„è¡¥å……è¯´æ˜ã€‚æ‰€ä»¥æ»¡è¶³ SVOC<br>Aâ€™s father called him a dog. </p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦å­¦å¤–è¯­ ï¼Ÿå¦‚æœä¸æ„Ÿå…´è¶£çš„ä½ å¯ä»¥ä¸ç”¨å­¦ï¼Œå˜¿å˜¿ã€‚ æœ¬æ–‡æ˜¯æˆ‘é˜…è¯»æ–‡æ³•ä¿±ä¹éƒ¨(æ—‹å…ƒä½‘è€å¸ˆè‘—ä½œ)çš„ç¬”è®°ï¼Œæ— ç¬”è®°ä¸è¯»ä¹¦ã€‚è®°å½•ä¸€äº›å…³é”®çš„ä¿¡æ¯ï¼Œä¸€å…±äºŒåäºŒä¸ªç« èŠ‚ï¼Œæˆ‘æ‰“ç®—åˆ†11ä¸ªç¬”è®°è®°å½•æˆ‘é˜…è¯»çš„è¿‡ç¨‹ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¼€å§‹äº† ğŸ˜&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="English" scheme="http://vrast.cn/categories/English/"/>
    
    
      <category term="Grammar" scheme="http://vrast.cn/tags/Grammar/"/>
    
  </entry>
  
  <entry>
    <title>KVO in iOS</title>
    <link href="http://vrast.cn/posts/d0d6deab/"/>
    <id>http://vrast.cn/posts/d0d6deab/</id>
    <published>2017-03-02T11:20:52.000Z</published>
    <updated>2017-03-03T08:07:12.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>å¦‚æœæˆ‘æ›´æ”¹äº†ä¸€ä¸ªå±æ€§çš„å€¼ï¼ŒKVOä¼šå¸®åŠ©æˆ‘ä»¬æ£€æµ‹è¿™ä¸ªå€¼çš„å˜åŒ–ï¼Œä»è€Œé€šçŸ¥æˆ‘ä»¬è¿™ä¸ªå€¼æ”¹å˜äº†ã€‚å…¸å‹çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚å½“ç„¶æˆ‘æƒ³èµ·åœ¨UNITY3Dä¸­ï¼Œå¦‚æœæ£€è§†é¢æ¿çš„æ•°å€¼å‘ç”Ÿæ”¹å˜å¯¹åº”çš„GameObjectå‘ç”Ÿä½ç§»ä¹‹ç±»çš„ã€‚æˆ‘æ›¾ç»å®ç°äº†ä¸€ä¸ªinspectorçš„ç¼–è¾‘å™¨ç±»ï¼Œå€¼æ”¹å˜ç›´æ¥é€šçŸ¥(å…¶å®æ˜¯è°ƒç”¨)å¯¹åº”çš„å‡½æ•°ã€‚åœ¨iOSè¿™é‡Œ ä¸€åˆ‡å‘ç”Ÿçš„é‚£ä¹ˆè‡ªç„¶ã€‚ä¸éœ€è¦é¢å¤–å®ç° è¿™æ˜¯iOSçš„ç‰¹æ€§ä¹‹ä¸€ åæ›°ï¼šKVO ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h1><p>ä¸Šä¸€ç¯‡ KVC è®²åˆ°éœ€è¦éµå¾ªçš„å‡ æ¡å‡ æœ¬è§„åˆ™åœ¨ KVO ä¸­åŒæ ·é€‚ç”¨ã€‚</p>
<ul>
<li>éª†é©¼å‘½åæ³•,ä¸èƒ½æ•°å­—å¼€å¤´</li>
<li>ä¸èƒ½åŒ…å«ç©ºæ ¼</li>
<li>é”®å¿…é¡»æ˜¯ASCIIç¼–ç çš„</li>
<li>ä½¿ç”¨é»˜è®¤çš„get/set</li>
</ul>
<p>ä¸Šä¸€ç«  åªè¦æ˜¯é’ˆå¯¹ object çš„å…ƒç´ æŸ¥è¯¢ï¼Œè°ƒç”¨ï¼Œç­›é€‰ã€‚æœ¬æ–‡ä¸»è¦æ˜¯è®²è¿° KVO ç›‘å¬(è§‚å¯Ÿè€…æ¨¡å¼) å±æ€§å€¼çš„å˜æ›´ã€‚</p>
<h1 id="æ·»åŠ ï¼ç§»é™¤-ä¸€ä¸ªç›‘å¬"><a href="#æ·»åŠ ï¼ç§»é™¤-ä¸€ä¸ªç›‘å¬" class="headerlink" title="æ·»åŠ ï¼ç§»é™¤ ä¸€ä¸ªç›‘å¬"></a>æ·»åŠ ï¼ç§»é™¤ ä¸€ä¸ªç›‘å¬</h1><p>addObserver å‡½æ•°ç­¾åå¦‚ä¸‹</p>
<ul>
<li>addObserverï¼šç›‘å¬çš„æ¥å—è„šæœ¬çš„ç±»</li>
<li>contextï¼š    éšä¾¿ä¼ å…¥ä»»ä½•å€¼éƒ½å¯ä»¥ï¼Œæœ€åå–å‡ºæ¥çš„æ—¶å€™éœ€è¦å¼ºè½¬</li>
<li>forKeyPath:  é€‰æ‹©ä¸€ä¸ªéœ€è¦ç›‘å¬çš„å±æ€§</li>
<li>optionsï¼š    å¯é€‰é¡¹</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Foo.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Bar.h"</span></span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</div><div class="line">    Foo* foo = [[Foo alloc]init];</div><div class="line">    foo.bar = [[Bar alloc]init];</div><div class="line">    [foo.bar addObserver:foo forKeyPath:<span class="string">@"stringOnBar"</span> options:<span class="number">0</span> context: (<span class="keyword">void</span>*)s];</div><div class="line">    </div><div class="line">    foo.bar.stringOnBar = <span class="string">@"test"</span>;</div><div class="line"></div><div class="line">    [foo.bar removeObserver:foo forKeyPath:<span class="string">@"stringOnBar"</span>];</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-03</span> <span class="number">15</span>:<span class="number">17</span>:<span class="number">22.085142</span> oc[<span class="number">52721</span>:<span class="number">6279405</span>] helloworld</div><div class="line"><span class="number">2017</span><span class="number">-03</span><span class="number">-03</span> <span class="number">15</span>:<span class="number">17</span>:<span class="number">22.085371</span> oc[<span class="number">52721</span>:<span class="number">6279405</span>] Value Changed : stringOnBar</div><div class="line">Program ended with exit code: <span class="number">0</span></div></pre></td></tr></table></figure></p>
<h2 id="å…³äº-options-å¯é€‰é¡¹"><a href="#å…³äº-options-å¯é€‰é¡¹" class="headerlink" title="å…³äº options å¯é€‰é¡¹"></a>å…³äº options å¯é€‰é¡¹</h2><p>ä¸Šé¢çš„ä»£ç ä¸­ options æ˜¯ä¸ªå¯é€‰é¡¹ï¼Œè¿™é‡Œä¸éœ€è¦å¤„ç†æ‰€ä»¥å¡«å†™0ï¼Œè¯¦ç»†çš„é€‰é¡¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSKeyValueObservingOptionNew</span>     æŠŠæ›´æ”¹ä¹‹å‰çš„å€¼æä¾›ç»™å¤„ç†æ–¹æ³•</div><div class="line"><span class="built_in">NSKeyValueObservingOptionOld</span>     æŠŠæ›´æ”¹ä¹‹åçš„å€¼æä¾›ç»™å¤„ç†æ–¹æ³•</div><div class="line"><span class="built_in">NSKeyValueObservingOptionInitial</span> æŠŠåˆå§‹åŒ–çš„å€¼æä¾›ç»™å¤„ç†æ–¹æ³•ï¼Œä¸€æ—¦æ³¨å†Œï¼Œç«‹é©¬å°±ä¼šè°ƒç”¨ä¸€æ¬¡ã€‚é€šå¸¸å®ƒä¼šå¸¦æœ‰æ–°å€¼ï¼Œè€Œä¸ä¼šå¸¦æœ‰æ—§å€¼ã€‚</div><div class="line"><span class="built_in">NSKeyValueObservingOptionPrior</span>   åˆ†<span class="number">2</span>æ¬¡è°ƒç”¨ã€‚åœ¨å€¼æ”¹å˜ä¹‹å‰å’Œå€¼æ”¹å˜ä¹‹åã€‚</div><div class="line"><span class="number">0</span>                                ä¸å¸¦ä»»ä½•å‚æ•°è¿›å»</div></pre></td></tr></table></figure>
<p>ä¼ é€’ç»™ç›‘å¬çš„å€¼åœ¨æ¥å—å‡½æ•°<code> ofObject:(id)object </code>å¯ä»¥è·å–åˆ°ã€‚</p>
<h2 id="å…³äºç›‘å¬è„šæœ¬"><a href="#å…³äºç›‘å¬è„šæœ¬" class="headerlink" title="å…³äºç›‘å¬è„šæœ¬"></a>å…³äºç›‘å¬è„šæœ¬</h2><p>ä¸ç”¨æ‹…å¿ƒç›‘å¬è„šæœ¬è¿‡äºå¤æ‚ã€‚å…¶å®æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ é”®å…¥ observeValueForKeyPath åˆ™ä¼šç”Ÿæˆå¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)observeValueForKeyPath:(<span class="built_in">NSString</span> *)keyPath ofObject:(<span class="keyword">id</span>)object change:(<span class="built_in">NSDictionary</span> *)change context:(<span class="keyword">void</span> *)context</div><div class="line">&#123;</div><div class="line">    </div><div class="line">    <span class="built_in">NSString</span>* content = (__bridge <span class="built_in">NSString</span>*)context;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> (content) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,content);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">if</span> ([keyPath isEqualToString:<span class="string">@"stringOnBar"</span>]) &#123;</div><div class="line">         <span class="built_in">NSLog</span>(<span class="string">@"Value Changed : stringOnBar"</span>);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> ([keyPath isEqualToString:<span class="string">@"stringOnFoo"</span>]) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Value Changed : stringOnFoo"</span>);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    [<span class="keyword">super</span> observeValueForKeyPath:keyPath ofObject:object change:change context:context];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å½“ç„¶ç»“æ„ä½“é‡Œé¢çš„å†…å®¹æ˜¯æˆ‘è‡ªå·±äº›çš„ ğŸ˜„</p>
<p>å½“ç±» dealloc çš„æ—¶å€™éœ€è¦æ‰‹åŠ¨ç§»é™¤ç›‘å¬ï¼Œå¦åˆ™ä¼šæŠ¥é”™ â€¦ æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">2017-03-03 15:16:02.560251 oc[52593:6273946] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'An instance 0x1004065e0 of class Bar was deallocated while key value observers were still registered with it. Current observation info: &lt;NSKeyValueObservationInfo 0x100406b90&gt; (</div><div class="line">&lt;NSKeyValueObservance 0x100407e80: Observer: 0x1004045e0, Key path: stringOnBar, Options: &lt;New: NO, Old: NO, Prior: NO&gt; Context: 0x1000030c0, Property: 0x100406ac0&gt;</div><div class="line">)'</div><div class="line">*** First throw call stack:</div><div class="line">(</div><div class="line">	0   CoreFoundation                      0x00007fffa311fe7b __exceptionPreprocess + 171</div><div class="line">	1   libobjc.A.dylib                     0x00007fffb7d09cad objc_exception_throw + 48</div><div class="line">	2   CoreFoundation                      0x00007fffa319e99d +[NSException raise:format:] + 205</div><div class="line">	3   Foundation                          0x00007fffa4aff6e4 NSKVODeallocate + 293</div><div class="line">	4   oc                                  0x000000010000278e -[Foo .cxx_destruct] + 78</div><div class="line">	5   libobjc.A.dylib                     0x00007fffb7d05686 _ZL27object_cxxDestructFromClassP11objc_objectP10objc_class + 127</div><div class="line">	6   libobjc.A.dylib                     0x00007fffb7cfe0c6 objc_destructInstance + 92</div><div class="line">	7   libobjc.A.dylib                     0x00007fffb7cfe059 object_dispose + 22</div><div class="line">	8   oc                                  0x000000010000166e main + 398</div><div class="line">	9   libdyld.dylib                       0x00007fffb85ed255 start + 1</div><div class="line">)</div><div class="line">libc++abi.dylib: terminating with uncaught exception of type NSException</div><div class="line">(lldb)</div></pre></td></tr></table></figure>
<h1 id="æ‰‹åŠ¨KVO"><a href="#æ‰‹åŠ¨KVO" class="headerlink" title="æ‰‹åŠ¨KVO"></a>æ‰‹åŠ¨KVO</h1><p>KVOä¸æ˜¯ä¸‡èƒ½çš„ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬åœ¨æŸäº›æ¡ä»¶ä¸‹ä¸å¸Œæœ›æ¥å—åˆ°KVOçš„é€šçŸ¥ï¼Œéœ€è¦é‡å†™å¦‚ä¸‹æ–¹æ³•:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSInteger</span> HP = <span class="number">10</span>;</div><div class="line">+(<span class="built_in">BOOL</span>)automaticallyNotifiesObserversOfStringOnFoo</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(HP&gt;<span class="number">100</span>)</div><div class="line">      <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">    <span class="keyword">return</span> <span class="literal">NO</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>è¿™é‡Œæœ‰ä¸€ä¸ªæŠ€å·§è¾“å…¥ <code>+(BOOL)automatically</code> ä¹‹åè‡ªåŠ¨åˆ—å‡ºå¯ä»¥é‡å†™çš„å‡ ä¸ªå±æ€§çš„é€šçŸ¥ã€‚</code></p>
<p>æ‰‹åŠ¨è§¦å‘KVOä¹Ÿæ˜¯å…è®¸çš„,ä¸‹é¢ä¸»è¦ä½¿ç”¨åˆ°äº† <code>willChangeValueForKey ï¼ didChangeValueForKey</code> è¿™ä¸¤ä¸ªå‡½æ•°ã€‚å³ä½¿ç¦æ­¢äº†è‡ªåŠ¨é€šçŸ¥ä¹Ÿå¯ä»¥ç›´æ¥åœ¨getå‡½æ•°ä¸­è§¦å‘ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSInteger</span> HP = <span class="number">11</span>;</div><div class="line"></div><div class="line">+(<span class="built_in">BOOL</span>)automaticallyNotifiesObserversOfStringOnFoo</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(HP&gt;<span class="number">100</span>)</div><div class="line">      <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">    <span class="keyword">return</span> <span class="literal">NO</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)setStringOnFoo:(<span class="built_in">NSString</span> *) inValue</div><div class="line">&#123;</div><div class="line">    [<span class="keyword">self</span> willChangeValueForKey:<span class="string">@"stringOnFoo"</span>];</div><div class="line">    stringOnFoo = inValue;</div><div class="line">    [<span class="keyword">self</span> didChangeValueForKey:<span class="string">@"stringOnFoo"</span>];</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å¦‚æœæˆ‘æ›´æ”¹äº†ä¸€ä¸ªå±æ€§çš„å€¼ï¼ŒKVOä¼šå¸®åŠ©æˆ‘ä»¬æ£€æµ‹è¿™ä¸ªå€¼çš„å˜åŒ–ï¼Œä»è€Œé€šçŸ¥æˆ‘ä»¬è¿™ä¸ªå€¼æ”¹å˜äº†ã€‚å…¸å‹çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚å½“ç„¶æˆ‘æƒ³èµ·åœ¨UNITY3Dä¸­ï¼Œå¦‚æœæ£€è§†é¢æ¿çš„æ•°å€¼å‘ç”Ÿæ”¹å˜å¯¹åº”çš„GameObjectå‘ç”Ÿä½ç§»ä¹‹ç±»çš„ã€‚æˆ‘æ›¾ç»å®ç°äº†ä¸€ä¸ªinspectorçš„ç¼–è¾‘å™¨ç±»ï¼Œå€¼æ”¹å˜ç›´æ¥é€šçŸ¥(å…¶å®æ˜¯è°ƒç”¨)å¯¹åº”çš„å‡½æ•°ã€‚åœ¨iOSè¿™é‡Œ ä¸€åˆ‡å‘ç”Ÿçš„é‚£ä¹ˆè‡ªç„¶ã€‚ä¸éœ€è¦é¢å¤–å®ç° è¿™æ˜¯iOSçš„ç‰¹æ€§ä¹‹ä¸€ åæ›°ï¼šKVO ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://vrast.cn/categories/iOS/"/>
    
    
      <category term="KVO" scheme="http://vrast.cn/tags/KVO/"/>
    
  </entry>
  
  <entry>
    <title>KVC in iOS</title>
    <link href="http://vrast.cn/posts/8779cbe4/"/>
    <id>http://vrast.cn/posts/8779cbe4/</id>
    <published>2017-03-02T10:24:06.000Z</published>
    <updated>2017-03-02T12:24:26.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>åœ¨ C# é‡Œæˆ‘ä»¬å¸¸ç”¨ .net reflect ç±»åº“é…åˆtypeof/getTypeæ¥åå°„è®¾ç½®å‡½æ•°ä¸å­—æ®µç­‰ç­‰ã€‚åœ¨iOSé‡Œä¹Ÿæœ‰è¿™æ ·çš„åŠŸèƒ½ï¼Œæ¯”C#çš„é—¨æ§›ä½çš„å¤šã€‚åªè¦ä½ åˆä¹è§„èŒƒçš„å®šä¹‰å‡½æ•°ä¸å±æ€§å­—æ®µï¼Œå°±èƒ½æ–¹ä¾¿çš„ä½¿ç”¨ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="ä½¿ç”¨KVC"><a href="#ä½¿ç”¨KVC" class="headerlink" title="ä½¿ç”¨KVC"></a>ä½¿ç”¨KVC</h1><p>ä¸‹é¢çš„å‡½æ•° æˆ‘å°†æ¥é€šè¿‡KVCçš„æ¥å£ setValue forKey &amp;&amp; setValue forKeyPath ï¼Œæ¥è®¾ç½®å±æ€§ ä¸ è°ƒç”¨æ–¹æ³•ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Foo.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Bar.h"</span></span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</div><div class="line">    Foo* foo = [[Foo alloc]init];</div><div class="line">    foo.bar = [[Bar alloc]init];</div><div class="line"></div><div class="line">    </div><div class="line">    [foo setValue:<span class="string">@"blah blah"</span> forKey:<span class="string">@"stringOnFoo"</span>];</div><div class="line">    [foo setValue:<span class="string">@"testforkeyle"</span> forKeyPath:<span class="string">@"bar.stringOnBar"</span>];</div><div class="line">    [foo valueForKeyPath:<span class="string">@"Log"</span>];<span class="comment">//Just Test log ç›´æ¥è®¿é—®äº†å®ä¾‹æ–¹æ³•</span></div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,foo.bar.stringOnBar); <span class="comment">//testforkeyle</span></div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,foo.stringOnFoo); <span class="comment">//blah blah</span></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨KVCåœ¨ä¾¿åˆ©æ•°ç»„ä¸Šå°¤ä¸ºæ–¹ä¾¿ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨@sumå‡½æ•°ç›´æ¥ç»™æ•°ç»„çš„priceå±æ€§æ±‚å’Œã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[foo.bar.array valueForKeyPath:<span class="string">@"@sum.price"</span>];</div></pre></td></tr></table></figure>
<h1 id="KVCçš„å…¶ä»–å‡½æ•°"><a href="#KVCçš„å…¶ä»–å‡½æ•°" class="headerlink" title="KVCçš„å…¶ä»–å‡½æ•°"></a>KVCçš„å…¶ä»–å‡½æ•°</h1><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å¯¹äºKVCçš„ä¸€äº›å‘½ä»¤ ï¼Œå¦‚æœè¦æ“ä½œ NSArray ä¹‹ç±»çš„å­—å…¸å¯ä»¥æ–¹ä¾¿çš„è°ƒç”¨ã€‚ç±»ä¼¼C#çš„Linq for Object</span></div><div class="line">@avg</div><div class="line">@count</div><div class="line">@max</div><div class="line">@min</div><div class="line">@sum</div><div class="line">@unionOfArrays/@distinctUnionOfArrays   <span class="comment">//è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ•°ç»„çš„æ•°ç»„ / è¿”å›ä¸€ä¸ªä¸é‡å¤çš„é›†åˆå…ƒç´ </span></div><div class="line">@unionOfSets/@distinctUnionOfSets       <span class="comment">//è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰é›†åˆçš„é›†åˆ / è¿”å›ä¸€ä¸ªä¸é‡å¤çš„é›†åˆå…ƒç´ </span></div><div class="line">@unionOfObjects/@distinctUnionOfObjects <span class="comment">//è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ / è¿”å›ä¸€ä¸ªä¸é‡å¤å…ƒç´ çš„æ•°ç»„</span></div></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨è¦æ±‚"><a href="#ä½¿ç”¨è¦æ±‚" class="headerlink" title="ä½¿ç”¨è¦æ±‚"></a>ä½¿ç”¨è¦æ±‚</h1><ol>
<li>éª†é©¼å‘½åæ³•,ä¸èƒ½æ•°å­—å¼€å¤´</li>
<li>ä¸èƒ½åŒ…å«ç©ºæ ¼</li>
<li>é”®å¿…é¡»æ˜¯ASCIIç¼–ç çš„</li>
<li>ä½¿ç”¨é»˜è®¤çš„get/set</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åœ¨ C# é‡Œæˆ‘ä»¬å¸¸ç”¨ .net reflect ç±»åº“é…åˆtypeof/getTypeæ¥åå°„è®¾ç½®å‡½æ•°ä¸å­—æ®µç­‰ç­‰ã€‚åœ¨iOSé‡Œä¹Ÿæœ‰è¿™æ ·çš„åŠŸèƒ½ï¼Œæ¯”C#çš„é—¨æ§›ä½çš„å¤šã€‚åªè¦ä½ åˆä¹è§„èŒƒçš„å®šä¹‰å‡½æ•°ä¸å±æ€§å­—æ®µï¼Œå°±èƒ½æ–¹ä¾¿çš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://vrast.cn/categories/iOS/"/>
    
    
      <category term="KVC" scheme="http://vrast.cn/tags/KVC/"/>
    
  </entry>
  
  <entry>
    <title>AI Design 1</title>
    <link href="http://vrast.cn/posts/d1301104/"/>
    <id>http://vrast.cn/posts/d1301104/</id>
    <published>2017-03-01T14:35:29.000Z</published>
    <updated>2017-03-03T08:08:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸ªç³»åˆ—æ˜¯æˆ‘é˜…è¯» UNITY5.X AI PROGRAMMING COOKBOOK çš„ç¬”è®°ã€‚æœ‰å¥½åˆå è¯·é…Œæƒ…é˜…è¯»ï¼Œæœ‰ä¸å½“ä¹‹å¤„è¿˜è¯·æŒ‡å‡ºã€‚<br><a id="more"></a></p>
<p>æœ¬ç« ä¸»è¦æ¦‚è¿°è®© AI æ›´æ™ºèƒ½çš„ç§»åŠ¨ã€‚å¯¹åº”åˆ°åŸä¹¦ä¹Ÿå°±æ˜¯ç¬¬ä¸€ç« èŠ‚ã€‚</p>
<h1 id="ä½¿AIç§»åŠ¨"><a href="#ä½¿AIç§»åŠ¨" class="headerlink" title="ä½¿AIç§»åŠ¨"></a>ä½¿AIç§»åŠ¨</h1><p>è¿™ä¸‰ä¸ªç±»çš„å·¥ä½œå¦‚ä¸‹ã€‚</p>
<ol>
<li>Agentè´Ÿè´£ è®¡ç®—å½“å‰å¸§çš„ç§»åŠ¨ä¸ä¸‹ä¸€å¸§çš„ç§»åŠ¨ã€‚</li>
<li>AgentBehaviourè´Ÿè´£æŠ½è±¡Steeringçš„è®¡ç®—è¿‡ç¨‹ã€‚</li>
<li>SteeringåŒ…å«äº†Agentéœ€è¦è®¡ç®—çš„æ•°æ®ã€‚</li>
</ol>
<p>æ¯å½“éœ€è¦æ‰©å±•ä¸€ä¸ªæ–°çš„ç§»åŠ¨è¡Œä¸ºï¼Œåˆ™åªéœ€è¦å¢åŠ ä¸€ä¸ª AgentBehaviour ç±»å‹çš„æ´¾ç”Ÿå³å¯ã€‚</p>
<h2 id="è„šæœ¬æ—¶åº"><a href="#è„šæœ¬æ—¶åº" class="headerlink" title="è„šæœ¬æ—¶åº"></a>è„šæœ¬æ—¶åº</h2><p><img src="/uploads/QQ20170302-223554@2x.jpg" alt="è„šæœ¬è°ƒç”¨é¢‘ç‡"><br>æ‰€æœ‰çš„è„šæœ¬æŒ‰ç…§ä¼˜å…ˆçº§è°ƒç”¨ã€‚ä¾‹å¦‚ æ£€æµ‹ä¸æ‰§è¡ŒAIçš„ç§»åŠ¨çš„Agentè„šæœ¬è°ƒç”¨æœ€é¢‘ç¹ã€‚å…¶ä»–ç”± AgentBehaviour æ´¾ç”Ÿçš„è„šæœ¬æ¬¡ä¹‹ã€‚</p>
<h2 id="åŸºç¡€ç»“æ„"><a href="#åŸºç¡€ç»“æ„" class="headerlink" title="åŸºç¡€ç»“æ„"></a>åŸºç¡€ç»“æ„</h2><blockquote>
<p>è¿™é‡Œè¯¦ç»†ä»‹ç»äº†åˆ©ç”¨ Agent/AgentBehaviour/Steering ä¸‰ä¸ªç±»è¿›è¡ŒåŸºç¡€çš„ AI ç»“æ„æ­å»ºã€‚å½“ç„¶ä»£ç é‡Œæœ‰ä¸€äº› Bad Smell ,æ¯”å¦‚ Steering ç±»çš„ new ï¼Œæ¯ä¸ªè¡Œä¸ºè¿”å›ä¸€ä¸ªSteeringæ¯«æ— ä¾‹å¤–çš„éƒ½ä¼šnewä¸€æ¬¡ã€‚å½“ç„¶è¿™å®Œå…¨æ˜¯å¯ä»¥è§„é¿çš„ï¼Œè¿™é‡Œå¹¶ä¸ä½œä»£ç ä¼˜åŒ–çš„è®¨è®º æ‰€ä»¥åªæ˜¯æåˆ°ã€‚</p>
</blockquote>
<h3 id="Agent-ä»£ç†"><a href="#Agent-ä»£ç†" class="headerlink" title="Agent ä»£ç†"></a>Agent ä»£ç†</h3><p>Agent é€šè¿‡ Update ä¸ LateUpdate æ¥è®¡ç®—å½“å‰å¸§ä¸ä¸‹ä¸€å¸§çš„ç§»åŠ¨é€Ÿåº¦è§’åº¦ã€‚<br>å…¶ä¸­å®é™…ç»™ GameObject åšä½ç§»çš„ä»£ç å°±åªæœ‰ä¸¤å¥ Translateï¼Rotate ã€‚</p>
<ul>
<li>Update ï¼šæ‰§è¡Œå½“å‰å¸§çš„ç‰©ä½“çš„ç§»åŠ¨ä¸è§’åº¦</li>
<li>LateUpdate ï¼šè®¡ç®—ä¸‹ä¸€å¸§çš„ç‰©ä½“çš„ç§»åŠ¨ä¸è§’åº¦æ•°å€¼</li>
</ul>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Agent</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> maxSpeed;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> maxAccel;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> orientation;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> rotation;</div><div class="line">    <span class="keyword">public</span> Vector3 velocity;</div><div class="line">    <span class="keyword">protected</span> Steering steering;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        velocity = Vector3.zero;</div><div class="line">        steering = <span class="keyword">new</span> Steering();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetSteering</span> (<span class="params">Steering steering</span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">this</span>.steering = steering;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        Vector3 displacement = velocity * Time.deltaTime;</div><div class="line">        orientation += rotation * Time.deltaTime;</div><div class="line">        <span class="comment">// we need to limit the orientation values</span></div><div class="line">        <span class="comment">// to be in the range (0 â€“ 360)</span></div><div class="line">        <span class="keyword">if</span> (orientation &lt; <span class="number">0.0</span>f)</div><div class="line">            orientation += <span class="number">360.0</span>f;</div><div class="line">        <span class="function"><span class="keyword">else</span> <span class="title">if</span> (<span class="params">orientation &gt; <span class="number">360.0</span>f</span>)</span></div><div class="line">            orientation -= <span class="number">360.0</span>f;</div><div class="line">        transform.Translate(displacement, Space.World);</div><div class="line">        transform.rotation = <span class="keyword">new</span> Quaternion();</div><div class="line">        transform.Rotate(Vector3.up, orientation);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">LateUpdate</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        velocity += steering.linear * Time.deltaTime;</div><div class="line">        rotation += steering.angular * Time.deltaTime;</div><div class="line">        <span class="keyword">if</span> (velocity.magnitude &gt; maxSpeed)</div><div class="line">        &#123;</div><div class="line">            velocity.Normalize();</div><div class="line">            velocity = velocity * maxSpeed;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (steering.angular == <span class="number">0.0</span>f)</div><div class="line">        &#123;</div><div class="line">            rotation = <span class="number">0.0</span>f;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (steering.linear.sqrMagnitude == <span class="number">0.0</span>f)</div><div class="line">        &#123;</div><div class="line">            velocity = Vector3.zero;</div><div class="line">        &#125;</div><div class="line">        steering = <span class="keyword">new</span> Steering();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Steering-æ•°æ®è½½ä½“"><a href="#Steering-æ•°æ®è½½ä½“" class="headerlink" title="Steering æ•°æ®è½½ä½“"></a>Steering æ•°æ®è½½ä½“</h3><p>Steering æ‰¿è½½äº†ä»£ç†(Agent)éœ€è¦è®¡ç®—çš„åŸå§‹æ•°æ®ã€‚æ•°æ®çš„è¡¨ç°ç›´æ¥ä¼šå½±å“åˆ°è®¡ç®—çš„ AgentBehaviour / Agentçš„è®¡ç®—ç»“æœã€‚</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Steering</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> angular;</div><div class="line">    <span class="keyword">public</span> Vector3 linear;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Steering</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        angular = <span class="number">0.0</span>f;</div><div class="line">        linear = <span class="keyword">new</span> Vector3();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="AgentBehaviour-ä»£ç†è¡Œä¸º"><a href="#AgentBehaviour-ä»£ç†è¡Œä¸º" class="headerlink" title="AgentBehaviour ä»£ç†è¡Œä¸º"></a>AgentBehaviour ä»£ç†è¡Œä¸º</h3><p>ç”±äº gentBehaviour æ˜¯Agentçš„æ•°æ®æä¾›æ–¹ã€‚æ‰€ä»¥ä»–ä¸»è¦çš„èŒè´£å°±æ˜¯æ´¾ç”Ÿä¸æ‰©å±•ã€‚<br>æ–°çš„ç±»å‹å°†ä¼šç»§æ‰¿è‡ª AgentBehaviour å¹¶ä¸”ä¼šé‡å†™ GetSteering() å‡½æ•°æ¥ä¸°å¯Œè¡¨ç°ã€‚<br>æ¥ä¸‹æ¥éƒ½æ˜¯ä»‹ç» AgentBehaviour è„šæœ¬æ´¾ç”Ÿçš„è¡Œä¸ºã€‚</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AgentBehaviour</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> GameObject target;</div><div class="line">    <span class="keyword">protected</span> Agent agent;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Awake</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        agent = gameObject.GetComponent&lt;Agent&gt;();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        agent.SetSteering(GetSteering());</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> Steering <span class="title">GetSteering</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Steering();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="æ›´åŠ æ™ºèƒ½çš„ç§»åŠ¨"><a href="#æ›´åŠ æ™ºèƒ½çš„ç§»åŠ¨" class="headerlink" title="æ›´åŠ æ™ºèƒ½çš„ç§»åŠ¨"></a>æ›´åŠ æ™ºèƒ½çš„ç§»åŠ¨</h2><h3 id="Seek-æœç´¢"><a href="#Seek-æœç´¢" class="headerlink" title="Seek æœç´¢"></a>Seek æœç´¢</h3><p>ä¸Šé¢è¯´åˆ° AgentBehaviour ä»£ç†è¡Œä¸ºï¼Œæ˜¯å¯ä»¥æ´¾ç”Ÿçš„ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥é‡å†™å…¶ GetSteering å‡½æ•°ï¼Œæ¥å¢åŠ ä¸åŒçš„è¡¨ç°ã€‚<br>è¿™é‡Œå¹²äº†ä¸¤ä»¶äº‹</p>
<ol>
<li>è·å–æœå‘ç›®æ ‡çš„å‘é‡</li>
<li>ç›®æ ‡æœå‘ç›®æ ‡çš„å‘é‡å½’ä¸€åŒ–ï¼Œä¹˜ä»¥å½“å‰é€Ÿåº¦ã€‚ä¹Ÿå°±æ˜¯è·å¾—äº† æœå‘ç›®æ ‡çš„é€Ÿåº¦çš„å‘é‡ã€‚</li>
</ol>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Seek</span> : <span class="title">AgentBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> Steering <span class="title">GetSteering</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        Steering steering = <span class="keyword">new</span> Steering();</div><div class="line">        steering.linear = target.transform.position - transform.position;</div><div class="line"></div><div class="line">        steering.linear.Normalize();</div><div class="line">        steering.linear = steering.linear * agent.maxAccel;</div><div class="line">        <span class="keyword">return</span> steering;</div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Purse-è¿½é€"><a href="#Purse-è¿½é€" class="headerlink" title="Purse è¿½é€"></a>Purse è¿½é€</h3><p>åœ¨ GetSteering() å‡½æ•°ä¸­æœ‰è¿™æ ·çš„é€»è¾‘å­˜åœ¨ã€‚<br>è¿½é€çš„ç›®æ ‡ targetAux ï¼Œ æ‰€ä»¥éœ€è¦é¢„å…ˆè®¡ç®—(é¢„åˆ¤å•ä½æ—¶é—´å†…) targetAux å¯èƒ½åˆ°è¾¾çš„ä½ç½®(è¿™é‡Œç”¨targetè¡¨ç¤º)ã€‚maxPredictionå˜é‡åœ¨è¿™é‡Œç”¨æ¥æ§åˆ¶é¢„åˆ¤çš„æ—¶é—´ã€‚<br>æˆ‘ä»¬çŸ¥é“ ä»»ä½•æ•°å€¼éƒ½éœ€è¦è§„èŒƒåŒ–çš„ ä¾‹å¦‚å¸¸ç”¨çš„ Math.Clamp å‡½æ•°ã€‚æˆ‘ä»¬åº”è¯¥å°½é‡å°† maxPrediction å€¼æ§åˆ¶åœ¨æ­£å¸¸èŒƒå›´ä¹‹å†…ã€‚</p>
<p>é€šè¿‡ speed &lt;= distance / maxPrediction </p>
<ul>
<li>speed ï¼šä¸ºå½“å‰è¿½è¸ªçš„ç‰©ä½“çœŸå®é€Ÿåº¦ã€‚</li>
<li>distance ï¼šä¸ºå½“å‰è¿½è¸ªçš„ç‰©ä½“ä¸€å…±èµ°è¿‡çš„è·ç¦»ã€‚</li>
<li>maxPrediction ï¼šé¢„è®¾çš„é¢„æµ‹æ—¶é—´ã€‚</li>
</ul>
<blockquote>
<p>è¿™æ ·å¯ä»¥å¤§èƒ†çŒœæµ‹ ä¸ºå½“å‰è¿½è¸ªçš„ç‰©ä½“ æ­£å¤„äºåŒ€é€Ÿ æˆ–è€… åŠ é€Ÿä¸­</p>
</blockquote>
<p><code>distance / maxPrediction </code>æˆ‘ä»¬æœ€ç»ˆå¾—åˆ°çš„ é€Ÿåº¦ å°±æ˜¯ç‰©ä½“çš„ é¢„æµ‹é€Ÿåº¦ã€‚æˆ‘ä»¬æ‹¿ç€ é¢„æµ‹é€Ÿåº¦ ä¸ speed åšä¸€ä¸ªæ¯”è¾ƒã€‚å¦‚æœé¢„æµ‹çš„é€Ÿåº¦å°äºçœŸå®é€Ÿåº¦ï¼Œé‚£ä¹ˆè¿™ä¸ªé¢„æµ‹å€¼å‡ºä¹æ„æ–™çš„é”™è¯¯ã€‚æˆ‘ä»¬éœ€è¦é‡æ–°è®¡ç®—ä¸€ä¸ªæ›´çœŸå®åˆç†çš„é¢„æµ‹å€¼ã€‚<br><code>prediction = distance / speed; </code> è¿™é‡Œè®¡ç®—äº†ä¸€ä¸ªä¸­è§„ä¸­çŸ©çš„é¢„æµ‹å€¼ã€‚<br>æœ€ç»ˆé€šè¿‡ <code>targetAgent.velocity * prediction </code>è·å– é¢„æµ‹æ—¶é—´ å†…è¿åŠ¨çš„è·ç¦»ã€‚</p>
<blockquote>
<p>å¯¹äºåˆšæ‰çš„çŒœæµ‹ç»“æœï¼Œæœ‰ä¸€ç§æ¡ä»¶ä¸‹æ˜¯æœ‰é—®é¢˜çš„ï¼Œé‚£å°±æ˜¯å½“ å½“å‰è¿½è¸ªçš„ç‰©ä½“ çªç„¶é™æ­¢ï¼æˆ–è€…æœ¬èº«å°±æ˜¯é™æ­¢çš„ã€‚ç”±äºè„šæœ¬æ‰§è¡Œçš„æ—¶åºé—®é¢˜ï¼Œè¿½é€åˆ°ç‰©ä½“çš„æ—¶å€™ä¼šç›´æ¥ç©¿æ’è¿‡å»(è¿½è¿‡å¤´äº†)ï¼Œç„¶åæ¥ç€åå¤è¿åŠ¨ã€‚è¿™é‡Œå°±è¦ç”¨åˆ° Arraying è„šæœ¬äº†ï¼Œåæ–‡å°±ä¼šä»‹ç»åˆ°ã€‚</p>
</blockquote>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Pursue</span> : <span class="title">Seek</span> </div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> maxPrediction;</div><div class="line">    <span class="keyword">private</span> GameObject targetAux;</div><div class="line">    <span class="keyword">private</span> Agent targetAgent;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Awake</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">           <span class="keyword">base</span>.Awake();</div><div class="line">           targetAgent = target.GetComponent&lt;Agent&gt;();</div><div class="line">           targetAux = target;</div><div class="line">           target = <span class="keyword">new</span> GameObject();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnDestroy</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">           Destroy(targetAux);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> Steering <span class="title">GetSteering</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">           Vector3 direction = targetAux.transform.position - transform.position;</div><div class="line">           <span class="keyword">float</span> distance = direction.magnitude;</div><div class="line">           <span class="keyword">float</span> speed = agent.velocity.magnitude;</div><div class="line">           <span class="keyword">float</span> prediction;</div><div class="line"></div><div class="line">           <span class="keyword">if</span> (speed &lt;= distance / maxPrediction)</div><div class="line">               prediction = maxPrediction;</div><div class="line">           <span class="keyword">else</span></div><div class="line">               prediction = distance / speed;</div><div class="line">           target.transform.position = targetAux.transform.position;</div><div class="line">           target.transform.position += targetAgent.velocity * prediction;</div><div class="line">           <span class="keyword">return</span> <span class="keyword">base</span>.GetSteering();</div><div class="line">     &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Flee-é€ƒç¦»"><a href="#Flee-é€ƒç¦»" class="headerlink" title="Flee é€ƒç¦»"></a>Flee é€ƒç¦»</h3><p>é¡¾åæ€ä¹‰ Flee è‚¯å®šå’Œ Seek ç›¸åã€‚äº‹å®ä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œè·å–äº†ä¸ç›®æ ‡ç›¸åæ–¹å‘çš„é€Ÿåº¦çš„å‘é‡ã€‚</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Flee</span> : <span class="title">AgentBehaviour</span></div><div class="line">&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> Steering <span class="title">GetSteering</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        Steering steering = <span class="keyword">new</span> Steering();</div><div class="line">        steering.linear = transform.position - target.transform.position;</div><div class="line">        steering.linear.Normalize();</div><div class="line">        steering.linear = steering.linear * agent.maxAccel;</div><div class="line">        <span class="keyword">return</span> steering;</div><div class="line">    &#125; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Evade-è§„é¿"><a href="#Evade-è§„é¿" class="headerlink" title="Evade è§„é¿"></a>Evade è§„é¿</h3><p>è§„é¿(Evade) ä»£ç ä¸ Pursue ä»£ç ä¸€è‡´ã€‚åœ¨ Flee/Seek å±‚ï¼ŒäºŒè€…åšäº†åŒºåˆ†ã€‚</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Evade</span> : <span class="title">Flee</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">float</span> maxPrediction;</div><div class="line">    <span class="keyword">private</span> GameObject targetAux;</div><div class="line">    <span class="keyword">private</span> Agent targetAgent;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Awake</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">base</span>.Awake();</div><div class="line">        targetAgent = target.GetComponent&lt;Agent&gt;();</div><div class="line">        targetAux = target;</div><div class="line">        target = <span class="keyword">new</span> GameObject();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> Steering <span class="title">GetSteering</span>(<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        Vector3 direction = targetAux.transform.position - transform.position;</div><div class="line">        <span class="keyword">float</span> distance = direction.magnitude;</div><div class="line">        <span class="keyword">float</span> speed = agent.velocity.magnitude;</div><div class="line">        <span class="keyword">float</span> prediction;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (speed &lt;= distance / maxPrediction)</div><div class="line">            prediction = maxPrediction;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            prediction = distance / speed;</div><div class="line">        target.transform.position = targetAux.transform.position;</div><div class="line">        target.transform.position += targetAgent.velocity * prediction;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">base</span>.GetSteering();</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnDestroy</span> (<span class="params"></span>)</span></div><div class="line">    &#123;</div><div class="line">        Destroy(targetAux);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>æœ¬ç¯‡åˆ°æ­¤ç»“æŸï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»äº† AI è¡Œä¸ºçš„åŸºç¡€ç»“æ„ ä¸ å…¶ä½•å¦‚æ´¾ç”Ÿå‡ºæ¥è¡Œä¸ºã€‚ä¸‹ä¸€ç¯‡ä¼šç€é‡ä»‹ç»æ´¾ç”Ÿå‡ºçš„å…¶ä»–è¡Œä¸ºä¸è¯¦ç»†ç®—æ³•(å®ç°)ã€‚</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ä¸ªç³»åˆ—æ˜¯æˆ‘é˜…è¯» UNITY5.X AI PROGRAMMING COOKBOOK çš„ç¬”è®°ã€‚æœ‰å¥½åˆå è¯·é…Œæƒ…é˜…è¯»ï¼Œæœ‰ä¸å½“ä¹‹å¤„è¿˜è¯·æŒ‡å‡ºã€‚&lt;br&gt;
    
    </summary>
    
      <category term="UNITY3D" scheme="http://vrast.cn/categories/UNITY3D/"/>
    
    
      <category term="AI" scheme="http://vrast.cn/tags/AI/"/>
    
  </entry>
  
  <entry>
    <title>Properties in iOS</title>
    <link href="http://vrast.cn/posts/f9b2637/"/>
    <id>http://vrast.cn/posts/f9b2637/</id>
    <published>2017-02-28T07:40:00.000Z</published>
    <updated>2017-02-28T11:05:09.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>ç¿»è¯‘ä¸€ç¯‡iOSå¹³å°OCè¯­æ³•ä¸­çš„Propertiesç”¨æ³•åŠè¯´æ˜ <a href="http://rypress.com/tutorials/objective-c/properties" target="_blank" rel="external">åŸæ–‡åœ°å€</a></p>
</blockquote>
<a id="more"></a>
<h1 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h1><p>ä¸€ä¸ªObjectâ€™sçš„å±æ€§å¯ä»¥è®©å…¶ä»–çš„Objectsæ¥æ›´æ”¹å®ƒçš„çŠ¶æ€ã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªå¥½çš„é¢å‘å¯¹å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­ï¼Œä¸å¯ä»¥ç›´æ¥çš„è®¿é—®åˆ°è¿™ä¸ªobjectçš„çŠ¶æ€ã€‚ä½œä¸ºä»£æ›¿ã€‚è®¿é—®æ–¹æ³•(getter &amp; setters)ç”¨æ¥æŠ½è±¡ä¸åº•å±‚çš„æ•°æ®äº¤äº’ã€‚</p>
<p><img src="/uploads/accessor-methods.jpg" alt="é€šè¿‡å±æ€§æ“ä½œçš„æ–¹æ³•äº¤äº’"></p>
<p>@property å‘½ä»¤çš„ç›®æ ‡æ˜¯é€šè¿‡ç”Ÿæˆæ“ä½œå‡½æ•°æ¥æ›´ç®€å•çš„è®¿é—®ã€‚å®ƒå…è®¸ä½ åœ¨è¯­ä¹‰çº§åˆ«æŒ‡å®šå…¬å…±å±æ€§çš„è¡Œä¸ºï¼Œå¹¶ä¸”ä¼šä¸ºä½ å¤„ç†å®ç°ç»†èŠ‚ã€‚<br>è¯¥æ¨¡å—æ¦‚æ‹¬äº†å…è®¸æ‚¨æ›´æ”¹getterå’Œsetterè¡Œä¸ºçš„å„ç§å±æ€§ã€‚è¿™äº›å±æ€§ä¸­çš„ä¸€äº›ç¡®å®šå±æ€§å¦‚ä½•å¤„ç†å…¶åº•å±‚å†…å­˜ã€‚æ‰€ä»¥è¿™ä¸ªæ¨¡å—ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªä»‹ç»å†…å­˜ç®¡ç†çš„å®ä¾‹åœ¨Objective-Cã€‚ æœ‰å…³æ›´è¯¦ç»†çš„è®¨è®ºï¼Œ<a href="http://rypress.com/tutorials/objective-c/properties" target="_blank" rel="external">è¯·å‚é˜…å†…å­˜ç®¡ç†</a>ã€‚</p>
<h1 id="property-å‘½ä»¤"><a href="#property-å‘½ä»¤" class="headerlink" title="@property å‘½ä»¤"></a>@property å‘½ä»¤</h1><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å½“æˆ‘ä»¬ä½¿ç”¨@propertyæŒ‡ä»¤æ—¶å‘ç”Ÿäº†ä»€ä¹ˆã€‚æ€è€ƒæ¥ä¸‹æ¥çš„ car classçš„æ¥å£ä¸ç›¸å…³å®ç°ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Car.h</span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> <span class="built_in">BOOL</span> running;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Car.m</span></div><div class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></div><div class="line"></div><div class="line"><span class="keyword">@synthesize</span> running = _running;    <span class="comment">// Optional for Xcode 4.4+</span></div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>ç¼–è¯‘å™¨ä¼šç”Ÿæˆ running å±æ€§çš„ getter &amp; setter æ–¹æ³•ã€‚ä»–é»˜è®¤çš„å‘½åæƒ¯ä¾‹æ˜¯ä½¿ç”¨å±æ€§æœ¬èº«(åå­—)ä½œä¸ºgetterï¼Œsetterä½¿ç”¨setä½œä¸ºå‰ç¼€å¹¶ä¸”ä½¿ç”¨ä¸‹åˆ’çº¿åœ¨è¿™ä¸ªå®ä¾‹å˜é‡ä¸Šã€‚å°±åƒæ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)running &#123;</div><div class="line">    <span class="keyword">return</span> _running;</div><div class="line">&#125;</div><div class="line">- (<span class="keyword">void</span>)setRunning:(<span class="built_in">BOOL</span>)newValue &#123;</div><div class="line">    _running = newValue;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨ä½¿ç”¨ @property å‘½ä»¤å£°æ˜å±æ€§ä¹‹åï¼Œä½ å¯ä»¥è°ƒç”¨è¿™äº›æ–¹æ³•ï¼Œå°±åƒå®ƒå·²ç»åŒ…å«åœ¨ä½ çš„æ¥å£ä¸å®ç°ç±»ä¸­ä¸€æ ·ã€‚ä½ å¯ä»¥åœ¨ Car.m é‡å†™å®ƒä»¬ æ”¯æŒåˆ¶å®š getter/setters.ä½†æ˜¯ä»–å°†è¦å¼ºåˆ¶ä½¿ç”¨ @synthesize å‘½ä»¤ã€‚ç„¶è€Œï¼Œè‡ªä» @property å±æ€§ä½¿ä½ åœ¨æŠ½è±¡çº§åˆ«ä¸Šåšè¿™äº›ï¼Œä½ å¾ˆå°‘éœ€è¦å®šåˆ¶è®¿é—®æ¥å£ã€‚<br>é€šè¿‡ç‚¹è¡¨ç¤ºæ³•è®¿é—®çš„å±æ€§è¢«è½¬æ¢ä¸ºå¹•åçš„ä¸Šè¿°è®¿é—®å™¨æ–¹æ³•ï¼Œå› æ­¤ï¼Œå½“æ‚¨ä»å…¶ä¸­è¯»å–å€¼æ—¶ï¼Œä¸‹é¢çš„ honda.runningä»£ç å®é™…ä¸Šè°ƒç”¨setRunningï¼šå½“ä½ ä¸ºå®ƒèµ‹å€¼å’Œè¿è¡Œæ—¶ä»å®ƒè¯»å–ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.m</span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</div><div class="line">    <span class="keyword">@autoreleasepool</span> &#123;</div><div class="line">        Car *honda = [[Car alloc] init];</div><div class="line">        honda.running = <span class="literal">YES</span>;                <span class="comment">// [honda setRunning:YES]</span></div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%d"</span>, honda.running);        <span class="comment">// [honda running]</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¦æ›´æ”¹ç”Ÿæˆçš„è®¿é—®å™¨çš„è¡Œä¸ºï¼Œå¯ä»¥åœ¨@property æŒ‡ä»¤åé¢çš„æ‹¬å·ä¸­æŒ‡å®šå±æ€§ã€‚ æœ¬æ¨¡å—çš„å…¶ä½™éƒ¨åˆ†ä»‹ç»å¯ç”¨çš„å±æ€§ã€‚</p>
<h1 id="getter-ä¸-setter-å±æ€§"><a href="#getter-ä¸-setter-å±æ€§" class="headerlink" title="getter= ä¸ setter= å±æ€§"></a>getter= ä¸ setter= å±æ€§</h1><p>å¦‚æœä½ ä¸å–œæ¬¢ @property çš„å‘½åæƒ¯ä¾‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ getter= and setter= å±æ€§ï¼Œæ›´æ”¹ getter/setter çš„æ–¹æ³•åã€‚ä¸€ä¸ªå¸¸è§çš„ç”¨ä¾‹æ˜¯ Boolean å±æ€§ï¼Œå®ƒçš„getterå¸¸ç”¨å‰ç¼€æ˜¯ isã€‚å°è¯•åœ¨ä¸‹é¢çš„ Car.h ä¸­æ›´æ”¹å±æ€§çš„å£°æ˜ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">getter</span>=isRunning) <span class="built_in">BOOL</span> running;</div></pre></td></tr></table></figure>
<p>ç°åœ¨è¿™ä¸ªç”Ÿæˆçš„è®¿é—®å™¨å« isRunning ä¸ setRunning. æ³¨æ„è¿™ä¸ªè®¿é—®å™¨ ä»–çš„å…¬å¼€å±æ€§ä»æ—§å« running ã€‚è¿™æ˜¯ä½ ä¸ºä»€ä¹ˆæœ€å¥½è¦ä½¿ç”¨ç‚¹è¯­æ³•ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Car *honda = [[Car alloc] init];</div><div class="line">honda.running = <span class="literal">YES</span>;                <span class="comment">// [honda setRunning:YES]</span></div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"%d"</span>, honda.running);        <span class="comment">// [honda isRunning]</span></div><div class="line"><span class="built_in">NSLog</span>(<span class="string">@"%d"</span>, [honda running]);      <span class="comment">// Error: method no longer exists</span></div></pre></td></tr></table></figure>
<p>è¿™äº›éƒ½æ˜¯åªä½¿ç”¨ä¸€ä¸ªå‚æ•°çš„å±æ€§ï¼ˆå­˜å–å™¨æ–¹æ³•åç§°ï¼‰ - å…¶ä»–çš„éƒ½æ˜¯å¸ƒå°”æ ‡å¿—ã€‚</p>
<h1 id="The-readonly-Attribute"><a href="#The-readonly-Attribute" class="headerlink" title="The readonly Attribute"></a>The readonly Attribute</h1><p>readonlyå±æ€§æ˜¯æœ€ç®€å•å»è®¾ç½®ä¸€ä¸ªå±æ€§çš„åªè¯»ã€‚ä»–åˆ é™¤äº† setter æ–¹æ³•ï¼Œé˜»æ­¢ç‚¹è¯­æ³•è¿›è¡Œåˆ†é…ã€‚ä½†æ˜¯ getter æ–¹æ³•ä¸å—å½±å“ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ã€‚æˆ‘ä»¬åƒä¸‹é¢è¿™æ ·æ›´æ”¹ Car çš„æ¥å£ã€‚æ³¨æ„ ä½ å¯ä»¥ä½¿ç”¨å¤šä¸ªå±æ€§ ç”¨é€—å· åˆ†éš”ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">getter</span>=isRunning, <span class="keyword">readonly</span>) <span class="built_in">BOOL</span> running;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)startEngine;</div><div class="line">- (<span class="keyword">void</span>)stopEngine;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>è€Œä¸æ˜¯è®©å…¶ä»–å¯¹è±¡æ›´æ”¹runningå±æ€§ï¼Œæˆ‘ä»¬å°†é€šè¿‡startEngineå’ŒstopEngineæ–¹æ³•åœ¨å†…éƒ¨è¿›è¡Œè®¾ç½®ã€‚ ç›¸åº”çš„å®ç°å¯ä»¥åœ¨ä¸‹é¢æ‰¾åˆ°ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Car.m</span></div><div class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Car</span></span></div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)startEngine &#123;</div><div class="line">    _running = <span class="literal">YES</span>;</div><div class="line">&#125;</div><div class="line">- (<span class="keyword">void</span>)stopEngine &#123;</div><div class="line">    _running = <span class="literal">NO</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>ä¸Šé¢ç›´åˆ°è¿™ä¸€ç‚¹ï¼Œå±æ€§çœŸçš„åªæ˜¯æ–¹ä¾¿çš„å¿«æ·æ–¹å¼ï¼Œè®©æˆ‘ä»¬é¿å…ç¼–å†™æ ·æ¿getterå’Œsetteræ–¹æ³•ã€‚ å‰©ä½™çš„å±æ€§ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œè¿™ä¼šæ˜¾ç€æ”¹å˜å±æ€§çš„è¡Œä¸ºã€‚ å®ƒä»¬ä¹Ÿåªé€‚ç”¨äºå­˜å‚¨Objective-Cå¯¹è±¡ï¼ˆä¸åŸå§‹Cæ•°æ®ç±»å‹ç›¸åï¼‰çš„å±æ€§ã€‚</p>
<h1 id="The-nonatomic-Attribute"><a href="#The-nonatomic-Attribute" class="headerlink" title="The nonatomic Attribute"></a>The nonatomic Attribute</h1><p>åŸå­æ€§ä¸å±æ€§åœ¨çº¿ç¨‹ç¯å¢ƒä¸­çš„è¡Œä¸ºæœ‰å…³ã€‚å½“ä½ åœ¨å¤šäºä¸€ä¸ªçº¿ç¨‹çš„æƒ…å†µä¸‹å¯èƒ½å‡ºç°åŒæ—¶è¯»å†™ä¸€ä¸ªå±æ€§ã€‚è¿™æ„å‘³ç€è¯»å†™å¯èƒ½è¢«å¦å¤–ä¸€ä¸ªæ“ä½œæ‰“æ–­ã€‚å¯èƒ½æŸåæ•°æ®ã€‚<br>åŸå­å±æ€§é”å®šåº•å±‚å¯¹è±¡ä»¥é˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿ(googleç¿»è¯‘è¿™é‡Œ)ï¼Œä»¥é˜²æ­¢å‘ç”Ÿè¿™ç§æƒ…å†µï¼Œä¿è¯getæˆ–setæ“ä½œä½¿ç”¨å®Œæ•´çš„å€¼ã€‚ ç„¶è€Œï¼Œé‡è¦çš„æ˜¯è¦ç†è§£è¿™åªæ˜¯çº¿ç¨‹å®‰å…¨çš„ä¸€ä¸ªæ–¹é¢ - ä½¿ç”¨åŸå­å±æ€§å¹¶ä¸ä¸€å®šæ„å‘³ç€ä½ çš„ä»£ç æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<br>ä½¿ç”¨ @property å£°æ˜çš„å±æ€§åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯åŸå­çš„ï¼Œè¿™ä¼šäº§ç”Ÿä¸€äº›å¼€é”€ã€‚ æ‰€ä»¥ï¼Œå¦‚æœä½ ä¸æ˜¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒï¼ˆæˆ–è€…ä½ æ­£åœ¨å®ç°è‡ªå·±çš„çº¿ç¨‹å®‰å…¨ï¼‰ï¼Œä½ ä¼šæƒ³è¦è¦†ç›–è¿™ä¸ªè¡Œä¸ºä¸ nonatomic å±æ€§ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">NSString</span> *model;</div></pre></td></tr></table></figure>
<p>è¿˜æœ‰ä¸€ä¸ªå°çš„ï¼Œå®é™…çš„è­¦å‘Šä¸åŸå­å±æ€§ã€‚ åŸå­å±æ€§çš„è®¿é—®å™¨å¿…é¡»æ˜¯ç”Ÿæˆçš„æˆ–ç”¨æˆ·å®šä¹‰çš„ã€‚ åªæœ‰éåŸå­å±æ€§å…è®¸æ‚¨å°†åˆæˆå­˜å–å™¨ä¸è‡ªå®šä¹‰å­˜å–å™¨æ··åˆå’ŒåŒ¹é…ã€‚ ä½ å¯ä»¥é€šè¿‡ä»ä¸Šé¢çš„ä»£ç ä¸­åˆ é™¤éåŸå­å¹¶åœ¨Car.mä¸­æ·»åŠ è‡ªå®šä¹‰getteræ¥çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚</p>
<h1 id="Memory-Management"><a href="#Memory-Management" class="headerlink" title="Memory Management"></a>Memory Management</h1><p>åœ¨ä»»ä½•OOPè¯­è¨€ä¸­ï¼Œå¯¹è±¡é©»ç•™åœ¨è®¡ç®—æœºçš„å†…å­˜ä¸­ï¼Œå¹¶ä¸”å°¤å…¶æ˜¯åœ¨ç§»åŠ¨è®¾å¤‡ä¸Š - è¿™æ˜¯ä¸€ç§ç¨€ç¼ºçš„èµ„æºã€‚ å†…å­˜ç®¡ç†ç³»ç»Ÿçš„ç›®æ ‡æ˜¯é€šè¿‡ä»¥æœ‰æ•ˆçš„æ–¹å¼åˆ›å»ºå’Œé”€æ¯å¯¹è±¡æ¥ç¡®ä¿ç¨‹åºä¸å ç”¨ä»»ä½•æ›´å¤šçš„ç©ºé—´ã€‚</p>
<p>è®¸å¤šè¯­è¨€é€šè¿‡åƒåœ¾å›æ”¶å®ç°è¿™ä¸€ç‚¹ï¼Œä½†Objective-Cä½¿ç”¨ä¸€ç§æ›´æœ‰æ•ˆçš„æ›¿ä»£æ–¹æ³•ç§°ä¸ºå¯¹è±¡æ‰€æœ‰æƒã€‚ å½“ä½ å¼€å§‹ä¸ä¸€ä¸ªå¯¹è±¡è¿›è¡Œäº¤äº’æ—¶ï¼Œä½ ä¼šè¯´å®ƒæ‹¥æœ‰è¯¥å¯¹è±¡ï¼Œè¿™æ„å‘³ç€åªè¦ä½ ä½¿ç”¨å®ƒå°±ä¿è¯å­˜åœ¨ã€‚ å½“ä½ å®Œæˆå®ƒï¼Œä½ æ”¾å¼ƒæ‰€æœ‰æƒï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰å…¶ä»–æ‰€æœ‰è€…ï¼Œæ“ä½œç³»ç»Ÿé”€æ¯å¯¹è±¡å’Œé‡Šæ”¾åº•å±‚å†…å­˜ã€‚</p>
<p><img src="/uploads/object-ownership.jpg" alt="æ‰€æœ‰å…³ç³»"></p>
<p>éšç€ <a href="http://rypress.com/tutorials/objective-c/memory-management.html#automatic-reference-counting" target="_blank" rel="external">è‡ªåŠ¨å¼•ç”¨è®¡æ•°</a> çš„å‡ºç°ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨ç®¡ç†æ‰€æœ‰å¯¹è±¡æ‰€æœ‰æƒã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ„å‘³ç€ä½ æ°¸è¿œä¸ä¼šæ‹…å¿ƒå†…å­˜ç®¡ç†ç³»ç»Ÿå¦‚ä½•å·¥ä½œã€‚ ä½†æ˜¯ï¼Œä½ å¿…é¡»äº†è§£@propertyçš„strongï¼Œweekå’Œcopyå±æ€§ï¼Œå› ä¸ºä»–ä»¬å‘Šè¯‰ç¼–è¯‘å™¨åº”è¯¥æœ‰ä»€ä¹ˆæ ·çš„å…³ç³»å¯¹è±¡ã€‚</p>
<h1 id="The-strong-Attribute"><a href="#The-strong-Attribute" class="headerlink" title="The strong Attribute"></a>The strong Attribute</h1><p>strongå±æ€§ä¼šä¸ºåˆ†é…ç»™å±æ€§çš„ä»»ä½•å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰å…³ç³»ã€‚ è¿™æ˜¯æ‰€æœ‰å¯¹è±¡å±æ€§çš„éšå¼è¡Œä¸ºï¼Œè¿™æ˜¯ä¸€ä¸ªå®‰å…¨çš„é»˜è®¤å€¼ï¼Œå› ä¸ºå®ƒç¡®ä¿å€¼å­˜åœ¨ï¼Œåªè¦å®ƒè¢«åˆ†é…ç»™å±æ€§ã€‚<br>è®©æˆ‘ä»¬é€šè¿‡åˆ›å»ºå¦ä¸€ä¸ªåä¸ºPersonçš„ç±»æ¥çœ‹çœ‹è¿™æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ å®ƒçš„æ¥å£åªæ˜¯å£°æ˜ä¸€ä¸ªnameå±æ€§ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Person.h</span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">NSString</span> *name;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>å®ç°å¦‚ä¸‹æ‰€ç¤ºã€‚ å®ƒä½¿ç”¨ç”±@propertyç”Ÿæˆçš„é»˜è®¤è®¿é—®å™¨ã€‚ å®ƒè¿˜é‡å†™äº†NSObjectçš„descriptionæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Person.m</span></div><div class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Person</span></span></div><div class="line"></div><div class="line">- (<span class="built_in">NSString</span> *)description &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">self</span>.name;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªPersonå±æ€§åˆ°Carç±»ã€‚ ä¸ºCar.hæ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Car.h</span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Car</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">NSString</span> *model;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) Person *driver;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>ç„¶åï¼Œæ€è€ƒmain.mçš„ä»¥ä¸‹è¿­ä»£ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.m</span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Person.h"</span></span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</div><div class="line">    <span class="keyword">@autoreleasepool</span> &#123;</div><div class="line">        Person *john = [[Person alloc] init];</div><div class="line">        john.name = <span class="string">@"John"</span>;</div><div class="line">        </div><div class="line">        Car *honda = [[Car alloc] init];</div><div class="line">        honda.model = <span class="string">@"Honda Civic"</span>;</div><div class="line">        honda.driver = john;</div><div class="line">        </div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@ is driving the %@"</span>, honda.driver, honda.model);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç”±äº driver æ˜¯ä¸€ä¸ª strong å…³è”ï¼Œhondaå¯¹è±¡æ‹¥æœ‰johnçš„æ‰€æœ‰æƒã€‚ è¿™ç¡®ä¿å®ƒå°†æœ‰æ•ˆï¼Œåªè¦ honda éœ€è¦å®ƒã€‚</p>
<h1 id="The-weak-Attribute"><a href="#The-weak-Attribute" class="headerlink" title="The weak Attribute"></a>The weak Attribute</h1><p>å¤§å¤šæ•°æ—¶å€™ï¼Œstrongå±æ€§ç›´è§‚åœ°æ˜¯ä½ æƒ³è¦çš„å¯¹è±¡å±æ€§ã€‚ ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ä¸ªä» driver åˆ°ä»–é©¾é©¶çš„Carå¯¹è±¡çš„å¼•ç”¨ï¼Œå¼ºå¼•ç”¨ä¼šäº§ç”Ÿé—®é¢˜ã€‚ é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä¸ºPerson.hæ·»åŠ ä¸€ä¸ªcarå±æ€§ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Person.h</span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@class</span> <span class="title">Car</span>;</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Person</span> : <span class="title">NSObject</span></span></div><div class="line"></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>) <span class="built_in">NSString</span> *name;</div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) Car *car;</div><div class="line"></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure>
<p>@class Carè¡Œæ˜¯Carç±»çš„æå‰å£°æ˜ã€‚ è¿™å°±åƒå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œâ€œç›¸ä¿¡æˆ‘ï¼ŒCarç±»å­˜åœ¨ï¼Œæ‰€ä»¥ä¸è¦å°è¯•æ‰¾åˆ°å®ƒç°åœ¨ã€‚â€æˆ‘ä»¬å¿…é¡»è¿™æ ·åšï¼Œè€Œä¸æ˜¯æˆ‘ä»¬é€šå¸¸çš„#importè¯­å¥ï¼Œå› ä¸ºCarè¿˜å¯¼å…¥ Person.hï¼Œæˆ‘ä»¬å°† æœ‰æ— é™å¾ªç¯çš„å¯¼å…¥ã€‚ ï¼ˆç¼–è¯‘å™¨ä¸å–œæ¬¢æ— å°½å¾ªç¯ã€‚ï¼‰æ¥ä¸‹æ¥ï¼Œåœ¨honda.driveråˆ†é…ä¹‹åï¼Œå°†ä¸‹é¢çš„è¡Œæ·»åŠ åˆ°main.mï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">honda.driver = john;</div><div class="line">john.car = honda;       <span class="comment">// Add this line</span></div></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªhondaåˆ°johnçš„æ‰€å±å…³ç³»ä»¥åŠå¦å¤–ä¸€ä¸ªæ‰€æœ‰å…³ç³»å³johnåˆ°hondaã€‚æ‰€ä»¥å†…å­˜ç®¡ç†ç³»ç»Ÿä¸èƒ½é”€æ¯å®ƒä»¬ï¼Œå¦‚æœå®ƒä»¬é•¿ä¹…çš„äº’ç›¸éœ€è¦ã€‚</p>
<p><img src="/uploads/retain-cycle.jpg" alt="åœ¨Car ä¸ Personä¹‹é—´å¾ªç¯ä¾èµ–"></p>
<p>å®ƒç§°ä¹‹ä¸º å¾ªç¯ä¾èµ– ï¼Œè¿™å°±æ˜¯å†…å­˜æ³„æ¼çš„å‡ºå¤„ã€‚å†…å­˜æ³„æ¼æ˜¯ä¸å¥½çš„ã€‚å¹¸è¿çš„æ˜¯ï¼Œå¾ˆå®¹æ˜“ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦åœ¨å±æ€§ä¸­æ·»åŠ  weak reference ã€‚åœ¨ Person.h ï¼Œä¿®æ”¹ car çš„å£°æ˜å¦‚ä¸‹ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">weak</span>) Car *car;</div></pre></td></tr></table></figure>
<p>weak å±æ€§ç»™ car åˆ›å»ºäº†ä¸€ä¸ªæ— æ‰€æœ‰è€…çš„å…³ç³»ã€‚å®ƒå…è®¸ john æŒæœ‰ä¸€ä¸ª honda çš„å¼•ç”¨ åœ¨å¾ªç¯ä¾èµ–æœŸé—´ã€‚ä½†æ˜¯ï¼Œè¿™ä¹Ÿæ„å‘³ç€ johnè¿˜æŒæœ‰å¼•ç”¨çš„æ—¶å€™ honda å¯èƒ½è¢«é”€æ¯ã€‚å¦‚æœå‘ç”Ÿäº†ï¼Œweak å±æ€§å°†ä¼šæ–¹ä¾¿çš„å°† car è®¾ç½®ä¸º nil æ¥é¿å… danglingï¼ˆæ‚¬æŒ‚æŒ‡é’ˆï¼‰ æŒ‡é’ˆã€‚</p>
<p>è¿™é‡Œæˆ‘è¯´æ˜ä¸€ä¸‹æ‚¬æŒ‚æŒ‡é’ˆï¼Œæ–‡ä¸­æ²¡æœ‰è¯¦ç»†è¯´æ˜ï¼š<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">å¦‚æœæŒ‡é’ˆåœ¨è¢«é‡Šæ”¾åï¼Œä»ç„¶å¼•ç”¨åŸæ¥çš„å†…å­˜ï¼Œå°±å«åšæ‚¬æŒ‚æŒ‡é’ˆã€‚è¯¥æŒ‡é’ˆä¸æŒ‡å‘ä»»ä½•æœ‰æ•ˆçš„å¯¹è±¡ã€‚æœ‰æ—¶ç§°ä¸ºè¿‡æ—©é‡Šæ”¾ã€‚</div><div class="line"></div><div class="line">ä½¿ç”¨æ‚¬æŒ‚æŒ‡é’ˆèƒ½å¯¼è‡´å‡ ç§ä¸åŒçš„é—®é¢˜ï¼ŒåŒ…æ‹¬ï¼š</div><div class="line"></div><div class="line">ä¸å¯é¢„çŸ¥çš„è¡Œä¸ºï¼Œå¦‚æœè®¿é—®å†…å­˜</div><div class="line">åˆ†æ®µé”™è¯¯ï¼Œå½“å†…å­˜ä¸å†æ˜¯å¯è®¿é—®</div><div class="line">æ½œåœ¨çš„å®‰å…¨é£é™©</div><div class="line">å¦‚ä¸‹æƒ…å†µå°†äº§ç”Ÿè¿™äº›é”™è¯¯ï¼š</div><div class="line">é‡Šæ”¾åè®¿é—®å†…å­˜</div><div class="line">ä¸€ä¸ªæŒ‡é’ˆè¿”å›åˆ°å‰ä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„è‡ªåŠ¨å˜é‡</div></pre></td></tr></table></figure></p>
<p><img src="/uploads/weak-reference.jpg" alt="Personå¯¹caræŒæœ‰è‹¥å¼•ç”¨"></p>
<p>å¼±å±æ€§çš„å¸¸è§ç”¨ä¾‹æ˜¯çˆ¶å­æ•°æ®ç»“æ„ã€‚ æŒ‰ç…§æƒ¯ä¾‹ï¼Œçˆ¶å¯¹è±¡åº”è¯¥ä½¿ç”¨å®ƒçš„å­ä¿æŒä¸€ä¸ªå¼ºå¼•ç”¨ï¼Œå¹¶ä¸”å­åº”è¯¥å­˜å‚¨ä¸€ä¸ªå¼±å¼•ç”¨è¿”å›çˆ¶å¯¹è±¡ã€‚ å¼±å¼•ç”¨ä¹Ÿæ˜¯ä»£ç†è®¾è®¡æ¨¡å¼çš„å›ºæœ‰éƒ¨åˆ†ã€‚è¦å»é™¤çš„ä¸€ç‚¹æ˜¯ï¼Œä¸¤ä¸ªå¯¹è±¡åº”è¯¥æ°¸è¿œä¸ä¼šæœ‰å¼ºçƒˆçš„å¯¹æ–¹å¼•ç”¨ã€‚ å¼±å±æ€§ä½¿å¾—å¯ä»¥ç»´æŒå‘¨æœŸæ€§å…³ç³»è€Œä¸åˆ›å»ºä¿ç•™å‘¨æœŸã€‚</p>
<h1 id="The-copy-Attribute"><a href="#The-copy-Attribute" class="headerlink" title="The copy Attribute"></a>The copy Attribute</h1><p>copyå±æ€§æ˜¯strongçš„æ›¿ä»£ã€‚ å®ƒä¸æ˜¯è·å–ç°æœ‰å¯¹è±¡çš„æ‰€æœ‰æƒï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªåˆ†é…ç»™è¯¥å±æ€§çš„å‰¯æœ¬ï¼Œç„¶åæ‹¥æœ‰è¯¥å±æ€§çš„æ‰€æœ‰æƒã€‚ åªæœ‰ç¬¦åˆNSCopyingåè®®çš„å¯¹è±¡æ‰èƒ½ä½¿ç”¨æ­¤å±æ€§ã€‚</p>
<p>è¡¨ç¤ºå€¼ï¼ˆä¸è¿æ¥æˆ–å…³ç³»ç›¸åï¼‰çš„å±æ€§æ˜¯å¤åˆ¶çš„è‰¯å¥½å€™é€‰ã€‚ ä¾‹å¦‚ï¼Œå¼€å‘äººå‘˜é€šå¸¸å¤åˆ¶NSStringå±æ€§ï¼Œè€Œä¸æ˜¯å¼ºçƒˆå¼•ç”¨å®ƒä»¬ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Car.h</span></div><div class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *model;</div></pre></td></tr></table></figure>
<p>è¿™é‡Œè¿˜æ˜¯çœ‹åŸæ–‡å§ã€‚<br>Now, Car will store a brand new instance of whatever value we assign to model. If youâ€™re working with mutable values, this has the added perk of freezing the object at whatever value it had when it was assigned. This is demonstrated below:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// main.m</span></div><div class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"Car.h"</span></span></div><div class="line"></div><div class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</div><div class="line">    <span class="keyword">@autoreleasepool</span> &#123;</div><div class="line">        Car *honda = [[Car alloc] init];</div><div class="line">        <span class="built_in">NSMutableString</span> *model = [<span class="built_in">NSMutableString</span> stringWithString:<span class="string">@"Honda Civic"</span>];</div><div class="line">        honda.model = model;</div><div class="line">        </div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, honda.model);</div><div class="line">        [model setString:<span class="string">@"Nissa Versa"</span>];</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, honda.model);            <span class="comment">// Still "Honda Civic"</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>NSMutableStringæ˜¯NSStringçš„å­ç±»ï¼Œå¯ä»¥ç›´æ¥ç¼–è¾‘ã€‚ å¦‚æœmodelå±æ€§æ²¡æœ‰åˆ›å»ºåŸå§‹å®ä¾‹çš„å‰¯æœ¬ï¼Œæˆ‘ä»¬å°†èƒ½å¤Ÿåœ¨ç¬¬äºŒä¸ªNSLog()è¾“å‡ºä¸­çœ‹åˆ°æ›´æ”¹çš„å­—ç¬¦ä¸²ï¼ˆNissan Versaï¼‰ã€‚</p>
<h1 id="Other-Attributes"><a href="#Other-Attributes" class="headerlink" title="Other Attributes"></a>Other Attributes</h1><p>ä¸Šé¢çš„ @property å±æ€§æ˜¯ç°ä»£ Objective-Cåº”ç”¨ç¨‹åºï¼ˆiOS 5+ï¼‰æ‰€éœ€è¦çš„ï¼Œä½†æ˜¯ä½ å¯èƒ½ä¼šåœ¨æ—§çš„åº“æˆ–æ–‡æ¡£ä¸­é‡åˆ°å…¶ä»–ä¸€äº›å±æ€§ã€‚</p>
<h1 id="The-retain-Attribute"><a href="#The-retain-Attribute" class="headerlink" title="The retain Attribute"></a>The retain Attribute</h1><p>retainå±æ€§æ˜¯strongçš„æ‰‹åŠ¨ä¿ç•™ç‰ˆæœ¬ï¼Œå®ƒå…·æœ‰å®Œå…¨ç›¸åŒçš„æ•ˆæœï¼šå£°æ˜æ‰€åˆ†é…çš„å€¼çš„æ‰€æœ‰æƒã€‚ æ‚¨ä¸åº”åœ¨è‡ªåŠ¨å¼•ç”¨è®¡æ•°ç¯å¢ƒä¸­ä½¿ç”¨æ­¤å¼•ç”¨ã€‚</p>
<h1 id="The-unsafe-unretained-Attribute"><a href="#The-unsafe-unretained-Attribute" class="headerlink" title="The unsafe_unretained Attribute"></a>The unsafe_unretained Attribute</h1><p>å…·æœ‰unsafe_unretainedå±æ€§çš„å±æ€§çš„è¡Œä¸ºç±»ä¼¼äºweakå±æ€§ï¼Œä½†æ˜¯å¦‚æœå¼•ç”¨çš„å¯¹è±¡è¢«é”€æ¯ï¼Œå®ƒä»¬ä¸ä¼šè‡ªåŠ¨å°†å…¶å€¼è®¾ç½®ä¸ºnilã€‚ ä½ åº”è¯¥éœ€è¦ä½¿ç”¨unsafe_unretainedçš„å”¯ä¸€åŸå› æ˜¯ä½¿ä½ çš„ç±»ä¸ä¸æ”¯æŒweakå±æ€§çš„ä»£ç å…¼å®¹ã€‚</p>
<h1 id="The-assign-Attribute"><a href="#The-assign-Attribute" class="headerlink" title="The assign Attribute"></a>The assign Attribute</h1><p>å…·æœ‰unsafe_unretainedå±æ€§çš„å±æ€§çš„è¡Œä¸ºç±»ä¼¼äºweakå±æ€§ï¼Œä½†æ˜¯å¦‚æœå¼•ç”¨çš„å¯¹è±¡è¢«é”€æ¯ï¼Œå®ƒä»¬ä¸ä¼šè‡ªåŠ¨å°†å…¶å€¼è®¾ç½®ä¸ºnilã€‚ ä½ åº”è¯¥éœ€è¦ä½¿ç”¨unsafe_unretainedçš„å”¯ä¸€åŸå› æ˜¯ä½¿ä½ çš„ç±»ä¸ä¸æ”¯æŒweakå±æ€§çš„ä»£ç å…¼å®¹ã€‚</p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>æ­¤æ¨¡å—ä»‹ç»äº†æ‰€æœ‰çš„@propertyå±æ€§é€‰æ‹©ï¼Œæˆ‘ä»¬å¸Œæœ›ä½ æ„Ÿè§‰ç›¸å¯¹èˆ’æœçš„ä¿®æ”¹ç”Ÿæˆçš„è®¿é—®å™¨æ–¹æ³•çš„è¡Œä¸ºã€‚ è¯·è®°ä½ï¼Œæ‰€æœ‰è¿™äº›å±æ€§çš„ç›®æ ‡æ˜¯å¸®åŠ©æ‚¨é€šè¿‡è®©ç¼–è¯‘å™¨è‡ªåŠ¨ç¡®å®šå…¶è¡¨ç¤ºæ–¹å¼æ¥å…³æ³¨éœ€è¦è®°å½•çš„æ•°æ®ã€‚ å®ƒä»¬æ€»ç»“å¦‚ä¸‹ã€‚</p>
<p>Attribute   Description<br>getter= Use a custom name for the getter method.<br>setter= Use a custom name for the setter method.<br>readonly    Donâ€™t synthesize a setter method.<br>nonatomic   Donâ€™t guarantee the integrity of accessors in a multi-threaded environment. This is more efficient than the default atomic behavior.<br>strong  Create an owning relationship between the property and the assigned value. This is the default for object properties.<br>weak    Create a non-owning relationship between the property and the assigned value. Use this to prevent retain cycles.<br>copy    Create a copy of the assigned value instead of referencing the existing instance.<br>Now that weâ€™ve got properties out of the way, we can take an in-depth look at the other half of Objective-C classes: methods. Weâ€™ll explore everything from the quirks behind their naming conventions to dynamic method calls.</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ç¿»è¯‘ä¸€ç¯‡iOSå¹³å°OCè¯­æ³•ä¸­çš„Propertiesç”¨æ³•åŠè¯´æ˜ &lt;a href=&quot;http://rypress.com/tutorials/objective-c/properties&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="http://vrast.cn/categories/iOS/"/>
    
    
      <category term="Objective-C" scheme="http://vrast.cn/tags/Objective-C/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨MACå¹³å°ä½“éªŒDotnetCore</title>
    <link href="http://vrast.cn/posts/1f2cd62/"/>
    <id>http://vrast.cn/posts/1f2cd62/</id>
    <published>2017-01-15T03:37:45.000Z</published>
    <updated>2017-01-15T04:37:06.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>è¿™ä¸¤å¤©çœ‹åˆ°æœ‰æœ‹å‹è®¨è®º å¾®è½¯çš„ .netCore è¿™ä¸ªè·¨å¹³å°é¡¹ç›®ã€‚è§‰å¾—æœ‰ç‚¹æ„æ€ï¼Œç„¶åç®€å•çš„äº†è§£ä¸€ä¸‹ã€‚éšåä¾¿æœ‰äº†è¿™ä¸€ç¯‡åšæ–‡ã€‚æœ¬æ–‡ è®°å½•åœ¨MACOSä¸‹ä½¿ç”¨ .netCore å¼€å‘æ‰€éœ€å‡†å¤‡ä¸åŸºç¡€çŸ¥è¯†ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h1><h2 id="ä¸‹è½½æ‰€éœ€ç¯å¢ƒ"><a href="#ä¸‹è½½æ‰€éœ€ç¯å¢ƒ" class="headerlink" title="ä¸‹è½½æ‰€éœ€ç¯å¢ƒ"></a>ä¸‹è½½æ‰€éœ€ç¯å¢ƒ</h2><p><img src="/uploads/QQ20170115-0@2x.jpg" alt=""><br>è¿™é‡Œåˆ—å‡ºçš„æ‰€æœ‰å®‰è£…å‘½ä»¤å¯ä»¥åœ¨é¡¹ç›®ä¸»é¡µæ‰¾åˆ°ã€‚<a href="https://www.microsoft.com/net/core#macos" target="_blank" rel="external">&gt;&gt; dotnetCore ä¸»é¡µ &lt;&lt;</a> è¿™é‡Œå¯ä»¥æ‰¾åˆ°æœ€æ–°çš„ SDK å®‰è£…åŒ…ã€‚å¦‚æœæ˜¯ä½¿ç”¨çš„ MAC ç›´æ¥ä½¿ç”¨ homeBrew è¿›è¡Œä¸‹è½½ã€‚</p>
<h3 id="Macå®‰è£…å‰å‡†å¤‡"><a href="#Macå®‰è£…å‰å‡†å¤‡" class="headerlink" title="Macå®‰è£…å‰å‡†å¤‡"></a>Macå®‰è£…å‰å‡†å¤‡</h3><p>è¿™é‡Œéœ€è¦å®‰è£…å¹¶ä¸”é…ç½® openssl ã€‚å¦‚æœé…ç½®å®Œæ¯•è¯·çœ‹ä¸‹ä¸€æ­¥ã€‚</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">brew update</div><div class="line">brew install openssl</div><div class="line">mkdir -p /usr/local/<span class="class"><span class="keyword">lib</span></span></div><div class="line">ln -s /usr/local/opt/openssl/<span class="class"><span class="keyword">lib</span>/<span class="title">libcrypto</span>.1.0.0.<span class="title">dylib</span> /<span class="title">usr</span>/<span class="title">local</span>/<span class="title">lib</span>/</span></div><div class="line">ln -s /usr/local/opt/openssl/<span class="class"><span class="keyword">lib</span>/<span class="title">libssl</span>.1.0.0.<span class="title">dylib</span> /<span class="title">usr</span>/<span class="title">local</span>/<span class="title">lib</span>/</span></div></pre></td></tr></table></figure>
<h2 id="å®‰è£…SDK"><a href="#å®‰è£…SDK" class="headerlink" title="å®‰è£…SDK"></a>å®‰è£…SDK</h2><p><img src="/uploads/QQ20170115-1@2x.jpg" alt="å®‰è£…SDK"></p>
<h1 id="DotnetCore-Command"><a href="#DotnetCore-Command" class="headerlink" title="DotnetCore Command"></a>DotnetCore Command</h1><p>æ ¸å¿ƒçš„å‘½ä»¤å¦‚ä¸‹ã€‚ å…¶ä¸­ restore å‘½ä»¤å¿…é¡»è¦è¢«æ‰§è¡Œè‡³å°‘ä¸€æ¬¡ã€‚å¦‚æœè¢«ä½ æ›´æ”¹æˆ–ç¬¬ä¸€æ¬¡è¿è¡Œ ä¼šè‡ªåŠ¨ä¸‹è½½æˆ–æ·»åŠ æ‰€éœ€ä¾èµ–ã€‚è¿™é‡Œåšçš„ååˆ†çš„æ™ºèƒ½ã€‚å¦‚æœæ˜¯ VSCode ç¯å¢ƒåˆ™ä¼šä¸»åŠ¨æç¤ºéœ€è¦æ‰§è¡Œ restore å‘½ä»¤ã€‚</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Common Commands:</div><div class="line">  new           Initialize <span class="selector-tag">a</span> basic <span class="selector-class">.NET</span> project ï¼ åˆ›å»ºä¸€ä¸ªåŸºç¡€é¡¹ç›®</div><div class="line">  restore       Restore dependencies specified <span class="keyword">in</span> the <span class="selector-class">.NET</span> project ï¼ åˆå§‹åŒ–ä¾èµ–é¡¹ç›®ï¼Œä¼šé‡æ–°æ£€æŸ¥é…ç½®ä¸­çš„ä¾èµ–é¡¹ã€‚</div><div class="line">  build         Builds <span class="selector-tag">a</span> <span class="selector-class">.NET</span> project ï¼ ç¼–è¯‘é¡¹ç›®</div><div class="line">  publish       Publishes <span class="selector-tag">a</span> <span class="selector-class">.NET</span> project <span class="keyword">for</span> deployment (including the runtime) ï¼ å‘å¸ƒé¡¹ç›®</div><div class="line">  run           Compiles and immediately executes <span class="selector-tag">a</span> <span class="selector-class">.NET</span> project ï¼ åœ¨Launcheré…ç½®çš„è¾“å‡ºç¯å¢ƒä¸­è¿è¡Œé¡¹ç›®</div><div class="line">  test          Runs unit tests using the test runner specified <span class="keyword">in</span> the project ï¼ è¿è¡Œå•å…ƒæµ‹è¯•</div><div class="line">  pack          Creates <span class="selector-tag">a</span> NuGet package ï¼ åˆ›å»ºä¸€ä¸ªNuGetåŒ…</div></pre></td></tr></table></figure>
<h2 id="åœ¨-Terminal-ä¸­-è¿è¡Œ-HelloWorld"><a href="#åœ¨-Terminal-ä¸­-è¿è¡Œ-HelloWorld" class="headerlink" title="åœ¨ Terminal ä¸­ è¿è¡Œ HelloWorld"></a>åœ¨ Terminal ä¸­ è¿è¡Œ HelloWorld</h2><p>æˆ‘ä»¬åœ¨æ§åˆ¶å°ä¸­ä½¿ç”¨ DotnetCore çš„å‘½ä»¤ï¼Œåˆ›å»ºä¸€ä¸ª HelloWorld ç¨‹åºã€‚ç”¨æ¥æ£€æµ‹ç¯å¢ƒæ˜¯å¦ é…ç½®å®Œæ¯•ã€‚</p>
<p>æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>è¾“å…¥æ­¤å‘½ä»¤åˆ›å»ºæ¼”ç¤ºç”¨æ–‡ä»¶å¤¹ <code>mkdir hwapp &amp;&amp; cd hwapp </code></li>
<li>åˆ›å»ºåŸºç¡€é¡¹ç›®<br><img src="/uploads/QQ20170115-2@2x.jpg" alt=""></li>
<li>ä½¿ç”¨dotnet restoreå‘½ä»¤åˆå§‹åŒ–ä¾èµ–<br><img src="/uploads/QQ20170115-3@2x.jpg" alt=""></li>
<li>ä½¿ç”¨dotnet runå‘½ä»¤æ‰§è¡Œæ­¤é¡¹ç›®<br><img src="/uploads/QQ20170115-4@2x.jpg" alt=""></li>
</ol>
<h1 id="å…³äº-VSCode"><a href="#å…³äº-VSCode" class="headerlink" title="å…³äº VSCode"></a>å…³äº VSCode</h1><p>æœ¬æ¥è¿™ä¸€ç« æˆ‘æ˜¯æƒ³ä»‹ç»ä¸‹AST.NETé¡¹ç›®çš„ã€‚<br>ä½†æ˜¯è¿™ä¸ªä¸œè¥¿è¦ä½¿ç”¨VSCodeå¼€å‘çš„è¯è¿˜æ˜¯ä¸ç°å®ã€‚ä¸»è¦çš„åŸå› æ˜¯éœ€è¦å¤æ‚çš„é…ç½®ï¼Œä¸æ™ºèƒ½åŒ–ã€‚æ·»åŠ ä¸€ä¸ª Controller éƒ½å¾ˆéº»çƒ¦ã€‚<br>æ‰€æœ‰çš„ command éƒ½åªèƒ½é€šè¿‡é…ç½®æ–‡ä»¶è¿›è¡Œï¼Œè¿˜è¦æ‰‹åŠ¨æ ¡éªŒé‚£äº›é…ç½®æ˜¯å¯ç”¨çš„ å“ªäº›éœ€è¦æ›´æ”¹ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨vscodeè‚¯å®šè¦æ‡µåœˆã€‚<br>å¦‚æœåœ¨ visualstudio ä¸Šä½¿ç”¨ç›´æ¥å¯ä»¥æ”¯æŒå‘å¸ƒåˆ°æŸä¸ªç‰¹å®šçš„å¹³å°ã€‚ä¸€ä¸ªæŒ‰é’®ä¸ºä½ çœå»æ‰€æœ‰çƒ¦æ¼ã€‚</p>
<blockquote>
<p>å¦‚æœæœ‰æ—¶é—´èŠ±åœ¨é…ç½®æ‰€æœ‰çš„è¿è¡Œç¯å¢ƒï¼Œæˆ‘è¿˜æ˜¯å®æ„¿èŠ±æ—¶é—´æƒ³æƒ³ å¦‚ä½•ä¼˜åŒ–è‡ªå·±çš„ä»£ç  ã€‚</p>
</blockquote>
<h1 id="å…³äº-VisualStudio-for-Mac"><a href="#å…³äº-VisualStudio-for-Mac" class="headerlink" title="å…³äº VisualStudio for Mac"></a>å…³äº VisualStudio for Mac</h1><p>å‰ä¸€é˜µå¾®è½¯å¼„äº†ä¸ª visualstudio for mac .æœªæ¥æœ‰å¾ˆå¤§å¯èƒ½ä¼šå°† .netcoreé›†æˆåˆ°è¿™ä¸ª IDE ä¸Šã€‚<br>å½“ç„¶æˆ‘å·²ç»è¯•ç”¨è¿‡äº†è¿™ä¸ª IDE .è¿™ä¸ªå·¥å…·å…¶å®å°±æ˜¯ XamarinStudio æ‹¿æ¥æ”¹çš„ã€‚<br>æˆ‘ç”¨XamarinStudioå·²ç»ç”¨äº†å¿«3å¹´äº†ã€‚ä½†æ˜¯æ²¡æœ‰è§è¿‡å¦‚æ­¤ä¸å¥½ç”¨çš„ XamarinStudio FOR VisualStudio ã€‚<br>ä¸¾ä¸ªä¾‹å­ ï¼š æˆ‘ä½¿ç”¨ tab é”® è‡ªåŠ¨å®Œæˆä»£ç çš„æ—¶å€™ï¼Œå±…ç„¶ä¸èƒ½è¯†åˆ«æˆ‘æ­£åœ¨ç¼–è¾‘çš„å­—æ®µï¼Œä¸¢å¤±äº†æ™ºèƒ½æç¤ºã€‚<br>å¸Œæœ›æœªæ¥æœ‰æ”¹å–„çš„ä¸€å¤©å§ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™ä¸¤å¤©çœ‹åˆ°æœ‰æœ‹å‹è®¨è®º å¾®è½¯çš„ .netCore è¿™ä¸ªè·¨å¹³å°é¡¹ç›®ã€‚è§‰å¾—æœ‰ç‚¹æ„æ€ï¼Œç„¶åç®€å•çš„äº†è§£ä¸€ä¸‹ã€‚éšåä¾¿æœ‰äº†è¿™ä¸€ç¯‡åšæ–‡ã€‚æœ¬æ–‡ è®°å½•åœ¨MACOSä¸‹ä½¿ç”¨ .netCore å¼€å‘æ‰€éœ€å‡†å¤‡ä¸åŸºç¡€çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="DotNetCore" scheme="http://vrast.cn/categories/DotNetCore/"/>
    
    
      <category term="å¾®è½¯è·¨å¹³å°" scheme="http://vrast.cn/tags/%E5%BE%AE%E8%BD%AF%E8%B7%A8%E5%B9%B3%E5%8F%B0/"/>
    
  </entry>
  
  <entry>
    <title>MD5withRSA In C#</title>
    <link href="http://vrast.cn/posts/f773f5f3/"/>
    <id>http://vrast.cn/posts/f773f5f3/</id>
    <published>2017-01-12T03:44:52.000Z</published>
    <updated>2017-01-12T13:42:03.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>æœ¬ç« è®°å½•å…³äºJava MD5withRSAåŠ å¯†ç®—æ³•çš„C#å®ç°ã€‚ç”±äºC#ä¸æä¾›MD5withRSAçš„å†…ç½®å®ç°ï¼Œæ‰€ä»¥å¿…é¡»ä¾èµ–å…¶ä»–çš„ç¬¬ä¸‰æ–¹åº“ã€‚è¿™é‡Œæä¾›ä¸€ä¸ªç®€å•çš„sampleæ¥æ¼”ç»[bouncycastle]çš„åŠ å¯†åº“ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="MD5withRSAæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#MD5withRSAæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="MD5withRSAæ˜¯ä»€ä¹ˆï¼Ÿ"></a>MD5withRSAæ˜¯ä»€ä¹ˆï¼Ÿ</h1><ol>
<li>å…ˆä½¿ç”¨MD5åŠ å¯†(ä¸å¯é€†è½¬) ç”Ÿæˆå¯†æ–‡ã€‚</li>
<li>ä½¿ç”¨RSAç»§ç»­åŠ å¯† ä¸Šä¸€æ­¥çš„å¯†æ–‡ã€‚</li>
</ol>
<h2 id="MD5æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#MD5æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="MD5æ˜¯ä»€ä¹ˆï¼Ÿ"></a>MD5æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>Message Digest Algorithm MD5ï¼ˆä¸­æ–‡åä¸ºæ¶ˆæ¯æ‘˜è¦ç®—æ³•ç¬¬äº”ç‰ˆï¼‰ä¸ºè®¡ç®—æœºå®‰å…¨é¢†åŸŸå¹¿æ³›ä½¿ç”¨çš„ä¸€ç§æ•£åˆ—å‡½æ•°ï¼Œç”¨ä»¥æä¾›æ¶ˆæ¯çš„å®Œæ•´æ€§ä¿æŠ¤ã€‚è¯¥ç®—æ³•çš„æ–‡ä»¶å·ä¸ºRFC 1321ï¼ˆR.Rivest,MIT Laboratory for Computer Science and RSA Data Security Inc. April 1992ï¼‰ã€‚ â€“<a href="http://baike.baidu.com/link?url=hNIwfVhJGcU5tD8CAqbon1Tc9WsA5YYUcYRR0mYa6F8PgsHOwDmswbrhmszud3DmHllrmm0DfHAAevsbMLXKT_" target="_blank" rel="external">æ¥è‡ªç™¾åº¦ç™¾ç§‘</a></p>
<h2 id="RSAæ˜¯ä»€ä¹ˆ"><a href="#RSAæ˜¯ä»€ä¹ˆ" class="headerlink" title="RSAæ˜¯ä»€ä¹ˆ?"></a>RSAæ˜¯ä»€ä¹ˆ?</h2><p>RSAæ˜¯ç›®å‰æœ€æœ‰å½±å“åŠ›çš„å…¬é’¥åŠ å¯†ç®—æ³•ï¼Œå®ƒèƒ½å¤ŸæŠµæŠ—åˆ°ç›®å‰ä¸ºæ­¢å·²çŸ¥çš„ç»å¤§å¤šæ•°å¯†ç æ”»å‡»ï¼Œå·²è¢«ISOæ¨èä¸ºå…¬é’¥æ•°æ®åŠ å¯†æ ‡å‡†ã€‚ â€“<a href="http://baike.baidu.com/link?url=B_ViRIN0m4B7JUU_v4nrz1o78Al5N0KSRofAUZmKgWlR3pfQMr1K9_BDbP1vxlG3700dSk1gnjf7PqgPhJUbPH660i5vMi-Ysuv-RXPjhxnRan7OPzSlRJWXsWbOQT_oOgDGjDnFQ1l2qJJu2NPKZa" target="_blank" rel="external">æ¥è‡ªç™¾åº¦ç™¾ç§‘</a></p>
<h1 id="MD5withRSA-çš„ä½¿ç”¨åœºæ™¯"><a href="#MD5withRSA-çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="MD5withRSA çš„ä½¿ç”¨åœºæ™¯"></a>MD5withRSA çš„ä½¿ç”¨åœºæ™¯</h1><p>å¦‚æœä½ åœ¨ç™¾åº¦ä¸Šæœç´¢ MD5withRSA ææ€•æœåˆ°æœ€å¤šçš„å°±æ˜¯å…³äºå»ºè¡Œæ”¯ä»˜çš„ã€‚å¯¹çš„ï¼Œè¿™ä¸ªåŠ å¯†ç®—æ³•å¸¸ç”¨ä¸æ”¯ä»˜é˜¶æ®µã€‚ä¸»è¦ç”¨é€”æ˜¯é˜²ç¯¡æ”¹ã€‚ä¸€èˆ¬æ¥è¯´ä¼ é€’æ˜æ–‡ å¯èƒ½è¢«é»‘å®¢ä»ä¼ è¾“é˜¶æ®µæ‹¦æˆªï¼Œç¯¡æ”¹ï¼Œæ­¤æ—¶æˆ‘ä»¬ç”¨ç§é’¥å°†MD5åŠ å¯†åçš„å¯†æ–‡å†åŠ å¯†ä¸æ˜æ–‡ä¸€èµ·å‘é€ã€‚æœåŠ¡å™¨ç”¨å…¬åŒ™å°†å¯†æ–‡è§£å¯†æ­¤æ—¶å¾—åˆ°md5çš„å¯†æ–‡ï¼Œç„¶åå°†æ˜æ–‡ç”¨md5åŠ å¯†å¾—åˆ°å¯†æ–‡ï¼ŒåŒ¹é…è¿™ä¸¤ä¸ªå¯†æ–‡ã€‚å¦‚æœä¸€è‡´åˆ™æ¶ˆæ¯æ˜¯æœªè¢«ç¯¡æ”¹çš„ã€‚</p>
<h1 id="ä½¿ç”¨-BouncyCastle-Crypto-dll-æ¼”ç»ç­¾åä¸éªŒè¯ç­¾å"><a href="#ä½¿ç”¨-BouncyCastle-Crypto-dll-æ¼”ç»ç­¾åä¸éªŒè¯ç­¾å" class="headerlink" title="ä½¿ç”¨ BouncyCastle.Crypto.dll æ¼”ç»ç­¾åä¸éªŒè¯ç­¾å"></a>ä½¿ç”¨ BouncyCastle.Crypto.dll æ¼”ç»ç­¾åä¸éªŒè¯ç­¾å</h1><h2 id="åŠ å¯†æ”¯æŒåˆ—è¡¨"><a href="#åŠ å¯†æ”¯æŒåˆ—è¡¨" class="headerlink" title="åŠ å¯†æ”¯æŒåˆ—è¡¨"></a>åŠ å¯†æ”¯æŒåˆ—è¡¨</h2><p>Current feature list:</p>
<p>Generation and parsing of PKCS-12 files.<br>X.509: Generators and parsers for V1 and V3 certificates, V2 CRLs and attribute certificates.<br>PBE algorithms supported by PbeUtilities: PBEwithMD2andDES-CBC, PBEwithMD2andRC2-CBC, PBEwithMD5andDES-CBC, PBEwithMD5andRC2-CBC, PBEwithSHA1andDES-CBC, PBEwithSHA1andRC2-CBC, PBEwithSHA-1and128bitRC4, PBEwithSHA-1and40bitRC4, PBEwithSHA-1and3-keyDESEDE-CBC, PBEwithSHA-1and2-keyDESEDE-CBC, PBEwithSHA-1and128bitRC2-CBC, PBEwithSHA-1and40bitRC2-CBC, PBEwithHmacSHA-1, PBEwithHmacSHA-224, PBEwithHmacSHA-256, PBEwithHmacRIPEMD128, PBEwithHmacRIPEMD160, and PBEwithHmacRIPEMD256.<br>Signature algorithms supported by SignerUtilities: MD2withRSA, MD4withRSA, MD5withRSA, RIPEMD128withRSA, RIPEMD160withECDSA, RIPEMD160withRSA, RIPEMD256withRSA, SHA-1withRSA, SHA-224withRSA, SHA-256withRSAandMGF1, SHA-384withRSAandMGF1, SHA-512withRSAandMGF1, SHA-1withDSA, and SHA-1withECDSA.<br>Symmetric key algorithms: AES, Blowfish, Camellia, CAST5, CAST6, ChaCha, DES, DESede, GOST28147, HC-128, HC-256, IDEA, ISAAC, Noekeon, RC2, RC4, RC5-32, RC5-64, RC6, Rijndael, Salsa20, SEED, Serpent, Skipjack, TEA/XTEA, Threefish, Tnepres, Twofish, VMPC and XSalsa20.<br>Symmetric key modes: CBC, CFB, CTS, GOFB, OFB, OpenPGPCFB, and SIC (or CTR).<br>Symmetric key paddings: ISO10126d2, ISO7816d4, PKCS-5/7, TBC, X.923, and Zero Byte.<br>Asymmetric key algorithms: ElGamal, DSA, ECDSA, NaccacheStern and RSA (with blinding).<br>Asymmetric key paddings/encodings: ISO9796d1, OAEP, and PKCS-1.<br>AEAD block cipher modes: CCM, EAX, GCM and OCB.<br>Digests: GOST3411, Keccak, MD2, MD4, MD5, RIPEMD128, RIPEMD160, RIPEMD256, RIPEMD320, SHA-1, SHA-224, SHA-256, SHA-384, SHA-512, SHA3, Tiger, and Whirlpool.<br>XOFs: SHAKE.<br>Signer mechanisms: DSA, ECDSA, ECGOST3410, ECNR, GOST3410, ISO9796d2, PSS, RSA, X9.31-1998.<br>Key Agreement: Diffie-Hellman, EC-DH, EC-MQV, J-PAKE, SRP-6a.<br>Macs: CBCBlockCipher, CFBBlockCipher, CMAC, GMAC, GOST28147, HMac, ISO9797 Alg. 3, Poly1305, SipHash, SkeinMac, VMPCMAC.<br>PBE generators: PKCS-12, and PKCS-5 - schemes 1 and 2.<br>OpenPGP (RFC 4880)<br>Cryptographic Message Syntax (CMS, RFC 3852), including streaming API.<br>Online Certificate Status Protocol (OCSP, RFC 2560).<br>Time Stamp Protocol (TSP, RFC 3161).<br>TLS/DTLS client/server up to version 1.2, with support for the most common ciphersuites and extensions, and many less common ones. Non-blocking API available.<br>Elliptic Curve Cryptography: support for generic F2m and Fp curves, high-performance custom implementations for many standardized curves.<br>Reading/writing of PEM files, including RSA and DSA keys, with a variety of encryptions.<br>PKIX certificate path validation</p>
<h2 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h2><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></div><div class="line"><span class="comment"><span class="doctag">///</span> MD5withRSA Signing</span></div><div class="line"><span class="comment"><span class="doctag">///</span> https://www.vrast.cn</span></div><div class="line"><span class="comment"><span class="doctag">///</span> keyle_xiao 2017.1.12</span></div><div class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></div><div class="line"><span class="keyword">public</span>  <span class="keyword">class</span> <span class="title">MD5withRSASigning</span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">public</span> Encoding encoding = Encoding.UTF8;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">string</span> SignerSymbol = <span class="string">"MD5withRSA"</span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MD5withRSASigning</span>(<span class="params"></span>) </span>&#123; &#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MD5withRSASigning</span>(<span class="params">Encoding e, <span class="keyword">string</span> s</span>)</span></div><div class="line">	&#123;</div><div class="line">		encoding = e;</div><div class="line">		SignerSymbol = s;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">private</span> AsymmetricKeyParameter <span class="title">CreateKEY</span>(<span class="params"><span class="keyword">bool</span> isPrivate, <span class="keyword">string</span> key</span>)</span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">byte</span>[] keyInfoByte = Convert.FromBase64String(key);</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (isPrivate)</div><div class="line">			<span class="keyword">return</span> PrivateKeyFactory.CreateKey(keyInfoByte);</div><div class="line">		<span class="keyword">else</span></div><div class="line">			<span class="keyword">return</span> PublicKeyFactory.CreateKey(keyInfoByte);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">string</span> <span class="title">Sign</span>(<span class="params"><span class="keyword">string</span> content, <span class="keyword">string</span> privatekey</span>)</span></div><div class="line">	&#123;</div><div class="line">		ISigner sig = SignerUtilities.GetSigner(SignerSymbol);</div><div class="line"></div><div class="line">		sig.Init(<span class="literal">true</span>, CreateKEY(<span class="literal">true</span>, privatekey));</div><div class="line"></div><div class="line">		<span class="keyword">var</span> bytes = encoding.GetBytes(content);</div><div class="line"></div><div class="line">		sig.BlockUpdate(bytes, <span class="number">0</span>, bytes.Length);</div><div class="line">		<span class="keyword">byte</span>[] signature = sig.GenerateSignature();</div><div class="line"></div><div class="line"></div><div class="line">		<span class="comment">/* Base 64 encode the sig so its 8-bit clean */</span></div><div class="line">		<span class="keyword">var</span> signedString = Convert.ToBase64String(signature);</div><div class="line"></div><div class="line">		<span class="keyword">return</span> signedString;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">bool</span> <span class="title">Verify</span>(<span class="params"><span class="keyword">string</span> content, <span class="keyword">string</span> signData, <span class="keyword">string</span> publickey</span>)</span></div><div class="line">	&#123;</div><div class="line">		ISigner signer = SignerUtilities.GetSigner(SignerSymbol);</div><div class="line"></div><div class="line">		signer.Init(<span class="literal">false</span>, CreateKEY(<span class="literal">false</span>, publickey));</div><div class="line"></div><div class="line">		<span class="keyword">var</span> expectedSig = Convert.FromBase64String(signData);</div><div class="line"></div><div class="line">		<span class="comment">/* Get the bytes to be signed from the string */</span></div><div class="line">		<span class="keyword">var</span> msgBytes = encoding.GetBytes(content);</div><div class="line"></div><div class="line">		<span class="comment">/* Calculate the signature and see if it matches */</span></div><div class="line">		signer.BlockUpdate(msgBytes, <span class="number">0</span>, msgBytes.Length);</div><div class="line">		<span class="keyword">return</span> signer.VerifySignature(expectedSig);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h1><p><a href="http://www.bouncycastle.org/csharp/" target="_blank" rel="external">bouncycastleå®˜ç½‘</a><br><a href="http://www.cnblogs.com/dj258/p/6049786.html#3589515" target="_blank" rel="external">C# ä¸JAVA çš„RSA åŠ å¯†è§£å¯†äº¤äº’ï¼Œäº’é€šï¼ŒC#ä½¿ç”¨BouncyCastleæ¥å®ç°ç§é’¥åŠ å¯†ï¼Œå…¬é’¥è§£å¯†çš„æ–¹æ³•</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ¬ç« è®°å½•å…³äºJava MD5withRSAåŠ å¯†ç®—æ³•çš„C#å®ç°ã€‚ç”±äºC#ä¸æä¾›MD5withRSAçš„å†…ç½®å®ç°ï¼Œæ‰€ä»¥å¿…é¡»ä¾èµ–å…¶ä»–çš„ç¬¬ä¸‰æ–¹åº“ã€‚è¿™é‡Œæä¾›ä¸€ä¸ªç®€å•çš„sampleæ¥æ¼”ç»[bouncycastle]çš„åŠ å¯†åº“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="C#" scheme="http://vrast.cn/categories/C/"/>
    
    
      <category term="MD5withRSA" scheme="http://vrast.cn/tags/MD5withRSA/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€æ¬¡åŠ è½½æ‰€æœ‰Shader</title>
    <link href="http://vrast.cn/posts/8cb143d1/"/>
    <id>http://vrast.cn/posts/8cb143d1/</id>
    <published>2017-01-09T13:00:25.000Z</published>
    <updated>2017-01-12T09:28:18.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰çš„Shader.é¿å…æè´¨ä¸Šçš„Shaderä¸¢å¤±ï¼Œ5.Xéœ€è¦è°ƒç”¨<code>Shader.WarmupAllShaders</code></p>
</blockquote>
<a id="more"></a>
<h1 id="ShaderVariantCollection-Document"><a href="#ShaderVariantCollection-Document" class="headerlink" title="ShaderVariantCollection Document"></a>ShaderVariantCollection Document</h1><p>Description</p>
<p>ShaderVariantCollection records which shader variants are actually used in each shader.</p>
<p>This is used for shader preloading (â€œwarmupâ€), so that a game can make sure â€œactually requiredâ€ shader variants are loaded at startup (or level load time), to avoid shader compilation related hiccups later on in the game.</p>
<p>In Unity, many shaders internally have multiple â€œvariantsâ€, to account for different light modes, lightmaps, shadows and so on. These variants are indentified by a shader pass type, and a set of shader keywords. See ShaderVariant.</p>
<p>Typical use of ShaderVariantCollection is to record the shader variants used during a play session from the editor (under Graphics Settings), save them out as an asset, and add to the list of preloaded shaders (again in Graphics Settings). Additionally, you could call WarmUp on a ShaderVariantCollection object manually.</p>
<p>ShaderVariantCollection generally replaces the old Shader.WarmupAllShaders function.</p>
<h1 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h1><p>å¯¹äºUnity4.xç‰ˆæœ¬ï¼ŒShaderçš„AssetBundleåŠ è½½ååªéœ€LoadAllå³å¯å®Œæˆæ‰€æœ‰Shaderçš„åŠ è½½å’Œè§£æï¼Œä½†å¯¹äºUnity5.xç‰ˆæœ¬ï¼Œé™¤æ‰§è¡ŒLoadAllAssetsæ“ä½œå¤–ï¼Œè¿˜éœ€è¦è¿›è¡ŒShader.WarmupAllShadersæ“ä½œï¼Œå› ä¸ºåœ¨Unity5.xç‰ˆæœ¬ä¸­ï¼ŒShaderçš„è§£æå’ŒCreateGPUProgramæ“ä½œæ˜¯åˆ†ç¦»çš„ã€‚ â€“ <a href="http://blog.uwa4d.com/archives/LoadingPerformance_Shader.html?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="external">æ‘˜å½•è‡ªUWA UnityåŠ è½½æ¨¡å—æ·±åº¦è§£æï¼ˆShaderç¯‡)</a></p>
<h1 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h1><p><a href="http://blog.csdn.net/ynnmnm/article/details/44674211" target="_blank" rel="external">Unity3D - å›¾å½¢æ€§èƒ½ä¼˜åŒ–ï¼šä¼˜åŒ–ç€è‰²å™¨åŠ è½½æ—¶é—´</a><br><a href="http://blog.uwa4d.com/archives/LoadingPerformance_Shader.html" target="_blank" rel="external">UnityåŠ è½½æ¨¡å—æ·±åº¦è§£æï¼ˆShaderç¯‡)</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰çš„Shader.é¿å…æè´¨ä¸Šçš„Shaderä¸¢å¤±ï¼Œ5.Xéœ€è¦è°ƒç”¨&lt;code&gt;Shader.WarmupAllShaders&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="UNITY3D" scheme="http://vrast.cn/categories/UNITY3D/"/>
    
    
      <category term="Shader" scheme="http://vrast.cn/tags/Shader/"/>
    
  </entry>
  
  <entry>
    <title>MACOSå¼€å‘ç¯å¢ƒé…ç½®</title>
    <link href="http://vrast.cn/posts/35d56e26/"/>
    <id>http://vrast.cn/posts/35d56e26/</id>
    <published>2017-01-05T06:43:07.000Z</published>
    <updated>2017-01-12T09:37:09.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>è¿™é‡Œä»‹ç»äº†ä¸€äº›å¥½ç”¨çš„æ’ä»¶ ä¸ å¼€å‘ç¯å¢ƒçš„é…ç½®ã€‚å¦‚æœæˆ‘å‘ç°è¿˜æœ‰ä»€ä¹ˆå¥½ç©çš„ä¼šæ¥ç€æ›´æ–°.</p>
</blockquote>
<a id="more"></a>
<h1 id="Homebrew"><a href="#Homebrew" class="headerlink" title="Homebrew"></a>Homebrew</h1><p>å¥½ç”¨æ’ä»¶ç®¡ç†å·¥å…·ï¼ŒHomebrewçš„å¼€å‘è€…ç°åœ¨ä¸ºappleå·¥ä½œäº†ï¼ŒXcodeå†…å»ºçš„Package Managerå°±æ˜¯ä»–å†™çš„ã€‚<a href="http://brew.sh/index_zh-cn.html" target="_blank" rel="external">é“¾æ¥é™„ä¸ŠğŸ”— </a></p>
<h1 id="Oh-my-zsh"><a href="#Oh-my-zsh" class="headerlink" title="Oh-my-zsh"></a>Oh-my-zsh</h1><p><a href="http://ohmyz.sh" target="_blank" rel="external">è¶…çº§shell é«˜åº¦å®šåˆ¶ä½ çš„terminal</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œä»‹ç»äº†ä¸€äº›å¥½ç”¨çš„æ’ä»¶ ä¸ å¼€å‘ç¯å¢ƒçš„é…ç½®ã€‚å¦‚æœæˆ‘å‘ç°è¿˜æœ‰ä»€ä¹ˆå¥½ç©çš„ä¼šæ¥ç€æ›´æ–°.&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="MAC" scheme="http://vrast.cn/categories/MAC/"/>
    
    
      <category term="MAC" scheme="http://vrast.cn/tags/MAC/"/>
    
  </entry>
  
  <entry>
    <title>å‘Šåˆ«2016</title>
    <link href="http://vrast.cn/posts/fe76973f/"/>
    <id>http://vrast.cn/posts/fe76973f/</id>
    <published>2016-12-31T06:56:05.000Z</published>
    <updated>2016-12-31T08:03:26.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>2016å¹´çš„æœ€åä¸€å¤©ï¼Œæ€»æƒ³å†™ç‚¹ä»€ä¹ˆæ¥è®°å½•ä¸‹ã€‚ğŸ“  2016 æœ‰æœªæ¥å¾—åŠåšå®Œæˆçš„äº‹æƒ…ï¼Œä¹Ÿæœ‰é—æ†¾çš„äº‹ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="æˆ‘çš„2016"><a href="#æˆ‘çš„2016" class="headerlink" title="æˆ‘çš„2016"></a>æˆ‘çš„2016</h1><p>2015å¹´æ¥ç°åœ¨è¿™å®¶å…¬å¸,è½¬çœ¼ä¹Ÿä¸€å¹´è¿‡å»äº†ï¼Œæ•´æ•´åˆæ˜¯ä¸€å¹´ï¼Œåˆ°ç°åœ¨ç”šè‡³æœ‰ç§ç”Ÿæ´»æ­¥å…¥æ­£è½¨çš„é”™è§‰ï¼Œå…¶å®çœŸå®çš„æƒ…å†µæ˜¯è¯¥åƒåƒè¯¥å–å–ï¼Œè¯¥å¼€ç©ç¬‘çš„æ—¶å€™ç»å¯¹ä¸å‡æ­£ç»ã€‚è¿™æ ·ä¹Ÿå¥½ ä¹Ÿä¸å¥½ã€‚å¥½åœ¨æ²¡ä»€ä¹ˆäººäº‹ä¹‹é—´çš„çŸ›ç›¾ï¼Œä¸å¥½åœ¨ä¹…è€Œä¹…ä¹‹å°±åƒé‚£æ¸©æ°´é‡Œçš„é’è›™ã€‚åŸå› æ˜¯å¤–é¢çš„å½¢åŠ¿ä¹Ÿä¸å¥½ã€‚è°ä¹Ÿä¸çŸ¥é“æœªæ¥çš„æ‰‹æ¸¸åœˆè¿˜ä¸å¥½å¥½æ··ã€‚</p>
<p>2016.10æœˆ4æ—¥ï¼Œå®Œæˆäº†äººç”Ÿä¸­ç¬¬ä¸€ä»¶å¤§äº‹ï¼Œå¤äººäº‘ï¼šæˆå®¶ç«‹ä¸šã€‚é‚£æ„æ€å°±æ˜¯å…ˆè¦ç»“å©šæˆå®¶ç„¶åæ‰èƒ½æ˜ç™½è‡ªå·±è¦åŠªåŠ›å¹²å‡ºä¸€ç•ªäº‹ä¸šã€‚çˆ±äºº å®¶åº­ æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›ã€‚ç›®æ ‡æ˜¯è¦æœ‰çš„ï¼Œç„¶åå°±æ˜¯ä¸é¡¾ä¸€åˆ‡çš„å»å®ç°ä»–äº†ã€‚æˆ‘è€å©†å‰ä¸€æ®µè®¤çœŸçš„è¯´é“ï¼šâ€å¦‚æœ30å²ä¹‹å‰ä¹°ä¸èµ·ä¸Šæµ·çš„æˆ¿ï¼Œé‚£å°±è·Ÿæˆ‘å»é‡åº†!â€ã€‚æˆ‘æŠŠè¿™å¥è¯è®°åœ¨è¿™é‡Œï¼Œåœ¨æˆ‘30å²ä»¥å‰è‚¯å®šä¼šç»™ä½ ä¹°å¥—å¤§æˆ¿å­ğŸ˜„  </p>
<p>2016.11æœˆå‚åŠ äº†å›½å®¶æˆäººé«˜è€ƒï¼Œå¦‚æ„¿è¿›å…¥ä¸Šå¤–ã€‚The Limits Of Your Language Are The Limits Of Your World . </p>
<p>è¿˜æœ‰ä»€ä¹ˆäº‹å‘¢ï¼Œæˆ‘è¿˜çœŸæƒ³ä¸åˆ°äº†ã€‚åº”è¯¥éƒ½æ˜¯ä¸€äº›ä¸é‡è¦çš„äº‹å§ã€‚å€¼å¾—è®°å½•ä¸‹æ¥çš„ä¸œè¥¿è¿˜çœŸæ˜¯ä¸å¤šã€‚</p>
<h1 id="å­¦ä¼šäº†ä»€ä¹ˆ"><a href="#å­¦ä¼šäº†ä»€ä¹ˆ" class="headerlink" title="å­¦ä¼šäº†ä»€ä¹ˆ"></a>å­¦ä¼šäº†ä»€ä¹ˆ</h1><p>æˆ‘çœ‹åˆ°è¿‡ä¸€ä¸ªç¬‘è¯æ˜¯è¿™æ ·è®²çš„ï¼Œæˆ‘å®Œæˆäº†å»å¹´å®ç°çš„æ‰€æœ‰ç›®æ ‡ï¼Œå°±æ˜¯æœ€åçˆ±å¹ç‰›çš„æ¯›ç—…æ²¡æœ‰æ”¹æ‰ã€‚æˆ‘çš„2016æ²¡æœ‰ä»€ä¹ˆå¾ˆå…·ä½“çš„å­¦ä¹ åˆ°çš„ä¸œè¥¿ï¼Œè¿˜æ˜¯åœ¨ç§¯ç´¯ä¸­ã€‚è¿œæœªè¾¾åˆ°é‡å˜ä¿ƒæˆè´¨å˜çš„å¢ƒåœ°ã€‚æ¢å¥è¯è¯´ï¼šæˆ‘èµ°åœ¨æˆ‘çš„è·¯ä¸Šäº†ã€‚</p>
<h1 id="å¾—åˆ°äº†ä»€ä¹ˆ"><a href="#å¾—åˆ°äº†ä»€ä¹ˆ" class="headerlink" title="å¾—åˆ°äº†ä»€ä¹ˆ"></a>å¾—åˆ°äº†ä»€ä¹ˆ</h1><p>ç»å†è¿™ä¸€å¹´çš„æ—¶é—´ï¼Œæ˜ç¡®äº†æˆ‘åº”è¯¥è¾¾åˆ°çš„3å¹´ç›®æ ‡,8å¹´ç›®æ ‡ã€‚å¦å¤–åˆ«äººæ‹¥æœ‰çš„å¹¶éå°±æ˜¯è‡ªå·±è¿½æ±‚çš„ä¸œè¥¿ï¼Œæˆ‘äº¦ä¸ä¼šç¾¡æ…•ã€‚æ´»æˆè‡ªå·±æ˜¯æˆ‘å¯¹è‡ªå·±2017å¹´çš„è¦æ±‚ã€‚</p>
<h1 id="æœ‰ä»€ä¹ˆé—æ†¾"><a href="#æœ‰ä»€ä¹ˆé—æ†¾" class="headerlink" title="æœ‰ä»€ä¹ˆé—æ†¾"></a>æœ‰ä»€ä¹ˆé—æ†¾</h1><pre><code>æƒ«æ‡’çš„ä¹ æƒ¯æµªè´¹äº†2016å¹´çš„å¤§åŠç¾å¥½æ—¶å…‰ã€‚æ˜æ˜å¯ä»¥åšä¸€äº›æœ‰æ„ä¹‰çš„äº‹ã€‚æœ€åä¸€æ— æ‰€è·ã€‚
</code></pre><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ€»ä½“ä¸Šæ¥çœ‹ï¼Œ2013 - 2014 - 2015 - 2016 å››å¹´é‡Œï¼Œå…œå…œè½¬è½¬è¿˜æ˜¯æœ€åæ‰¾åˆ°è‡ªå·±ä»Šåè¦èµ°çš„è·¯ã€‚æ—¶é—´ä¸€å»ä¸å¤è¿”ï¼Œåœ¨è¿™é‡Œç«‹ä¸‹2017å¹´çš„ç›®æ ‡</p>
<ul>
<li>2017å¹´ æœ‰ä¸€ä¸ªå¥½ä½œæ¯ä¹ æƒ¯ æ™šä¸Š11:30 ä¹‹å‰ç¡è§‰ æ—©7:30ä¹‹å‰èµ·æ¥</li>
<li>2017å¹´ è¯æ±‡è¿‡2w</li>
<li>åšä¸ªç‹¬ç«‹å¼€å‘è€… </li>
<li>åšæŒå­¦ä¹ </li>
<li>åšæŒå†™åšå®¢</li>
<li>æ‹’ç»æ…µæ‡’</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;2016å¹´çš„æœ€åä¸€å¤©ï¼Œæ€»æƒ³å†™ç‚¹ä»€ä¹ˆæ¥è®°å½•ä¸‹ã€‚ğŸ“  2016 æœ‰æœªæ¥å¾—åŠåšå®Œæˆçš„äº‹æƒ…ï¼Œä¹Ÿæœ‰é—æ†¾çš„äº‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="ç”Ÿæ´»" scheme="http://vrast.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="None" scheme="http://vrast.cn/tags/None/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Terminalå†™Hexo</title>
    <link href="http://vrast.cn/posts/a02a67d7/"/>
    <id>http://vrast.cn/posts/a02a67d7/</id>
    <published>2016-12-31T02:39:52.000Z</published>
    <updated>2016-12-31T06:58:27.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>ä¹‹å‰å†™åšæ–‡éƒ½æ˜¯ç”¨Terminalå‘½ä»¤ç”Ÿæˆmd,æ–‡ä»¶ç„¶åé€šè¿‡sublimetextç¼–è¾‘æ–‡ç« ,æ˜¨å¤©å¶è§åŒäº‹ç”¨VIMç¼–è¾‘ä»£ç ååˆ†çš„6,æƒŠä¸ºå¤©äºº,éšåä¾¿æœ‰äº†è¿™ä¸€ç¯‡è®°å½•åšæ–‡ã€‚</p>
</blockquote>
<a id="more"></a>
<p><img src="/uploads/QQ20161231-0@2x.jpg" alt="iTerm2 + ZSH + solarized themes + vim"></p>
<blockquote>
<p>æœ¬æ–‡å†™çš„æ¯”è¾ƒå…¥é—¨ä»…ä»‹ç»å†™markdownæ‰€éœ€è¦çš„ä¸€äº›åŸºæœ¬å¿«æ·é”®,ç†Ÿç»ƒä¹‹ååŸºæœ¬ä¸Šå¯ä»¥ç”¨vimå…¨ç¨‹å†™æ–‡ã€‚</p>
</blockquote>
<h1 id="Terminalå¸¸ç”¨å¿«æ·é”®"><a href="#Terminalå¸¸ç”¨å¿«æ·é”®" class="headerlink" title="Terminalå¸¸ç”¨å¿«æ·é”®"></a>Terminalå¸¸ç”¨å¿«æ·é”®</h1><ul>
<li>Conrol + A/E åœ¨ConsoleçŠ¶æ€ä¸‹ç§»åˆ°è¡Œé¦–ä¸è¡Œæœ«</li>
<li>Ctrl + u æ¸…é™¤å½“å‰è¡Œ</li>
<li>Ctrl + k æ¸…é™¤å½“å‰è‡³è¡Œæœ«</li>
<li>Ctrl + l == Clear == æ¸…å±</li>
</ul>
<h1 id="Vimå¸¸ç”¨å¿«æ·é”®"><a href="#Vimå¸¸ç”¨å¿«æ·é”®" class="headerlink" title="Vimå¸¸ç”¨å¿«æ·é”®"></a>Vimå¸¸ç”¨å¿«æ·é”®</h1><h2 id="NormalçŠ¶æ€ä¸‹çš„æ–‡æœ¬ç¼–è¾‘"><a href="#NormalçŠ¶æ€ä¸‹çš„æ–‡æœ¬ç¼–è¾‘" class="headerlink" title="NormalçŠ¶æ€ä¸‹çš„æ–‡æœ¬ç¼–è¾‘"></a>NormalçŠ¶æ€ä¸‹çš„æ–‡æœ¬ç¼–è¾‘</h2><h3 id="å…‰æ ‡çš„è½¬è·³"><a href="#å…‰æ ‡çš„è½¬è·³" class="headerlink" title="å…‰æ ‡çš„è½¬è·³"></a>å…‰æ ‡çš„è½¬è·³</h3><ol>
<li>G è‡³æ–‡æœ«/gg åˆ°æ–‡é¦–</li>
<li>$/^ å…‰æ ‡ç§»åŠ¨åˆ°è¡Œå°¾/è¡Œé¦–</li>
<li>Shift + ä¸Šä¸‹/å·¦å³ ä¸Šä¸‹ç¿»é¡µ,å·¦å³ç§»åŠ¨å…‰æ ‡<br>3.1 w/b å‰/å ç§»åŠ¨å…‰æ ‡(åŒä¸Š)</li>
<li>h/j/k/l å·¦ï¼ä¸‹/ä¸Šï¼å³ç§»åŠ¨å…‰æ ‡</li>
</ol>
<h3 id="æ ¼å¼ç¼©è¿›"><a href="#æ ¼å¼ç¼©è¿›" class="headerlink" title="æ ¼å¼ç¼©è¿›"></a>æ ¼å¼ç¼©è¿›</h3><ol>
<li>Shift + &gt;/&lt; å³/å·¦ç¼©è¿›</li>
</ol>
<h3 id="å…³äºCopy-Paste-Undo-Delete"><a href="#å…³äºCopy-Paste-Undo-Delete" class="headerlink" title="å…³äºCopy/Paste/Undo/Delete"></a>å…³äºCopy/Paste/Undo/Delete</h3><ol>
<li>vè¡Œé€‰ä¸­/Ctrl+våˆ—é€‰ä¸­</li>
<li>y/yy å¤åˆ¶å½“å‰/å¤åˆ¶æ•´è¡Œ</li>
<li>p ç²˜è´´</li>
<li>u æ’¤é”€ /  Ctrl + r åæ’¤é”€ </li>
<li>d/dd åˆ é™¤å½“å‰/åˆ é™¤æ•´è¡Œ(å­˜å‰ªåˆ‡æ¿)</li>
</ol>
<h3 id="Search"><a href="#Search" class="headerlink" title="Search"></a>Search</h3><ol>
<li>åœ¨å½“å‰æ–‡æ¡£ä¸­æœç´¢å…‰æ ‡æ‰€åœ¨</li>
<li>ä½¿ç”¨/ + å…³é”®è¯æœç´¢ï¼Œä½¿ç”¨n/N å/å‰æœç´¢</li>
</ol>
<h3 id="å…¶ä»–æ“ä½œ"><a href="#å…¶ä»–æ“ä½œ" class="headerlink" title="å…¶ä»–æ“ä½œ"></a>å…¶ä»–æ“ä½œ</h3><ol>
<li>j/J ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œ/åˆå¹¶å½“å‰ä¸ä¸‹ä¸€è¡Œ(ç§»é™¤æ¢è¡Œç¬¦)</li>
</ol>
<h2 id="ä»NormalçŠ¶æ€-è¿›å…¥ç¼–è¾‘çŠ¶æ€"><a href="#ä»NormalçŠ¶æ€-è¿›å…¥ç¼–è¾‘çŠ¶æ€" class="headerlink" title="ä»NormalçŠ¶æ€ è¿›å…¥ç¼–è¾‘çŠ¶æ€"></a>ä»NormalçŠ¶æ€ è¿›å…¥ç¼–è¾‘çŠ¶æ€</h2><ol>
<li>sæ›¿æ¢å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦è¿›å…¥ç¼–è¾‘</li>
<li>iæ’å…¥åˆ°å…‰æ ‡æ‰€åœ¨å­—ç¬¦ä¹‹å‰è¿›å…¥ç¼–è¾‘</li>
</ol>
<h1 id="ç›¸å…³èµ„æ–™"><a href="#ç›¸å…³èµ„æ–™" class="headerlink" title="ç›¸å…³èµ„æ–™"></a>ç›¸å…³èµ„æ–™</h1><ol>
<li><a href="http://www.cnblogs.com/jiqingwu/archive/2012/06/14/vim_notes.html#commentform" target="_blank" rel="external">Vimä½¿ç”¨ç¬”è®° - åšå®¢å›­</a> </li>
<li><a href="http://python-web-guide.readthedocs.io/zh/latest/devtools/vim.html" target="_blank" rel="external">vim å¿«é€Ÿå…¥é—¨</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä¹‹å‰å†™åšæ–‡éƒ½æ˜¯ç”¨Terminalå‘½ä»¤ç”Ÿæˆmd,æ–‡ä»¶ç„¶åé€šè¿‡sublimetextç¼–è¾‘æ–‡ç« ,æ˜¨å¤©å¶è§åŒäº‹ç”¨VIMç¼–è¾‘ä»£ç ååˆ†çš„6,æƒŠä¸ºå¤©äºº,éšåä¾¿æœ‰äº†è¿™ä¸€ç¯‡è®°å½•åšæ–‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Terminal" scheme="http://vrast.cn/categories/Terminal/"/>
    
    
      <category term="VIM" scheme="http://vrast.cn/tags/VIM/"/>
    
  </entry>
  
  <entry>
    <title>ABçƒ­æ›´æ–°è„šæœ¬ä¿¡æ¯æ— æ³•è·å–(å‹˜è¯¯)</title>
    <link href="http://vrast.cn/posts/fec7c50a/"/>
    <id>http://vrast.cn/posts/fec7c50a/</id>
    <published>2016-12-21T03:19:24.000Z</published>
    <updated>2016-12-22T06:02:33.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>ä»Šå¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œçƒ­æ›´æ–° Unity3D Prefab ï¼Œprefabä¸Šçš„é™„åŠ è„šæœ¬ä¿¡æ¯ä¸¢å¤±(5.X API)ï¼Œç„¶åå¼•å‘å‡ºäº†æœ‰è¶£çš„å°æ•…äº‹ï½</p>
</blockquote>
<a id="more"></a>
<h1 id="BuildPipeline-BuildAssetBundles-BuildåŒ…ä¹‹å-åŠ è½½çš„prefabä¸Šè„šæœ¬ä¸¢å¤±ï¼Ÿ"><a href="#BuildPipeline-BuildAssetBundles-BuildåŒ…ä¹‹å-åŠ è½½çš„prefabä¸Šè„šæœ¬ä¸¢å¤±ï¼Ÿ" class="headerlink" title="BuildPipeline.BuildAssetBundles  BuildåŒ…ä¹‹å  åŠ è½½çš„prefabä¸Šè„šæœ¬ä¸¢å¤±ï¼Ÿ"></a>BuildPipeline.BuildAssetBundles  BuildåŒ…ä¹‹å  åŠ è½½çš„prefabä¸Šè„šæœ¬ä¸¢å¤±ï¼Ÿ</h1><p><img src="/uploads/QQ20161221-3@2x.jpg" alt="æ¡ˆä¾‹ Prefab"></p>
<p><img src="/uploads/BED55101-4E2C-472D-B09E-973776B3EB9D.jpg" alt="æ¡ˆä¾‹ æ‰“åŒ…è„šæœ¬"></p>
<blockquote>
<p>manifest æ–‡ä»¶ä¸Šæœ‰è„šæœ¬çš„å…³è”ä¿¡æ¯ï¼ŒçŒœæµ‹æ˜¯å› ä¸º æ”¹å˜äº†è„šæœ¬çš„çŠ¶æ€ å¯¼è‡´æ‰¾ä¸åˆ°è„šæœ¬ã€‚(ä¸€ä¸ªé”™è¯¯çš„çŒœæµ‹)</p>
</blockquote>
<h1 id="æµ‹è¯•-ä¸€ä¸ªé”™è¯¯çš„æµ‹è¯•"><a href="#æµ‹è¯•-ä¸€ä¸ªé”™è¯¯çš„æµ‹è¯•" class="headerlink" title="æµ‹è¯•(ä¸€ä¸ªé”™è¯¯çš„æµ‹è¯•)"></a>æµ‹è¯•(ä¸€ä¸ªé”™è¯¯çš„æµ‹è¯•)</h1><ul>
<li>å°±æ˜¯æ‰“åŒ…ä¸€ä¸ªä¸æš´éœ²å˜é‡çš„è„šæœ¬ä¸Šå»ï¼Œçœ‹çœ‹è·å–abåŒ…çš„æ—¶å€™èƒ½å¦è‡ªåŠ¨æ‰¾åˆ°æœ¬åœ°çš„è„šæœ¬<br><img src="/uploads/AF401BA4-BFE3-40AC-9A8C-CC007537AF75.jpg" alt="æ‰“åŒ…ç»“æœ"><br>manifest æ–‡ä»¶ä¸Š æ˜¯å¯ä»¥æ‰¾åˆ°ä¸¤ä¸ªè„šæœ¬å¯¹åº”çš„guidã€‚è¿™é‡Œæ˜¯å¯¹åº”çš„ä¸Šçš„ï¼Œä½†æ˜¯get abåŒ…çš„æ—¶å€™ä»ç„¶æ‰¾ä¸åˆ°è„šæœ¬ ï¼Ÿï¼Ÿ</li>
</ul>
<h1 id="å‹˜è¯¯"><a href="#å‹˜è¯¯" class="headerlink" title="å‹˜è¯¯"></a>å‹˜è¯¯</h1><p>ä»Šå¤©æ™šä¸Šé‡æ–°çœ‹äº†è¿™ä¸ªé—®é¢˜ï¼Œå‘ç°æ˜¯ç”±äºæ‰“åŒ…çš„æ—¶å€™<code>é‡åæ–‡ä»¶å¼•èµ·çš„ï¼</code>è¿™é‡Œç›´æ¥æ¨ç¿»äº†ä¹‹å‰æ‰€æœ‰çš„çŒœæµ‹ã€‚</p>
<h1 id="å‹˜è¯¯æµ‹è¯•"><a href="#å‹˜è¯¯æµ‹è¯•" class="headerlink" title="å‹˜è¯¯æµ‹è¯•"></a>å‹˜è¯¯æµ‹è¯•</h1><p><img src="/uploads/QQ20161221-1@2x.jpg" alt="æ–‡ä»¶ç»“æ„"></p>
<p>æ‰“åŒ…ä»£ç å¦‚ä¸‹</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> UnityEditor;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ABBuilder</span> : <span class="title">Editor</span></div><div class="line">&#123;</div><div class="line">	[MenuItem(<span class="string">"Editor/å¯¼å‡ºab"</span>)]</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">BudidCurrent</span>(<span class="params"></span>)</span></div><div class="line">	&#123;</div><div class="line">		BuildPipeline.BuildAssetBundles(<span class="string">"Assets"</span>, BuildAssetBundleOptions.None, BuildTarget.iOS);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é™„åŠ åœ¨prefabä¹‹ä¸Šçš„æµ‹è¯•è„šæœ¬ï¼Œæœ¬æµ‹è¯•ç›®çš„æ˜¯æµ‹è¯• testStr çš„debugè¾“å‡ºæ˜¯å¦æ­£å¸¸ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> showLog : MonoBehaviour</div><div class="line">&#123;</div><div class="line">	<span class="keyword">public</span> <span class="built_in">string</span> testStr = <span class="string">"xiaonian"</span>;</div><div class="line">	<span class="comment">// Use this for initialization</span></div><div class="line">	<span class="function">IEnumerator <span class="title">Start</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">while</span> (<span class="literal">true</span>)</div><div class="line">		&#123;</div><div class="line">			<span class="function">yield <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForSeconds</span><span class="params">(<span class="number">1f</span>)</span></span>;</div><div class="line">			Debug.Log(testStr);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// Update is called once per frame</span></div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">()</span></span></div><div class="line">	&#123;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>AssetBundleçš„åŠ è½½å¦‚ä¸‹</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"><span class="keyword">using</span> System.Collections;</div><div class="line"><span class="keyword">using</span> System.IO;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AB</span> : <span class="title">MonoBehaviour</span></div><div class="line">&#123;</div><div class="line">	<span class="function">IEnumerator <span class="title">Start</span>(<span class="params"></span>)</span></div><div class="line">	&#123;</div><div class="line">		<span class="function"><span class="keyword">yield</span> return new <span class="title">WaitForSeconds</span>(<span class="params"><span class="number">2</span></span>)</span>;</div><div class="line">		LoadAB();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">LoadAB</span>(<span class="params"></span>)</span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">var</span> bts = File.ReadAllBytes((Application.dataPath + <span class="string">"/testkeyle"</span>));</div><div class="line"></div><div class="line">		<span class="keyword">var</span> ab = AssetBundle.LoadFromMemory(bts);</div><div class="line">		<span class="keyword">var</span> obj = ab.LoadAsset&lt;GameObject&gt;(<span class="string">"Cube"</span>);</div><div class="line">		Instantiate(obj);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="/uploads/QQ20161221-2@2x.jpg" alt="æµ‹è¯•ç»“æœ æ­£å¸¸è¾“å‡º"></p>
<h1 id="ç”¨è¿™æ®µä»£ç æ¼”ç¤ºè¿™ä¸ªé”™è¯¯çš„åˆ¤æ–­"><a href="#ç”¨è¿™æ®µä»£ç æ¼”ç¤ºè¿™ä¸ªé”™è¯¯çš„åˆ¤æ–­" class="headerlink" title="ç”¨è¿™æ®µä»£ç æ¼”ç¤ºè¿™ä¸ªé”™è¯¯çš„åˆ¤æ–­"></a>ç”¨è¿™æ®µä»£ç æ¼”ç¤ºè¿™ä¸ªé”™è¯¯çš„åˆ¤æ–­</h1><p><img src="/uploads/QQ20161221-0@2x.jpg" alt="æ–‡ä»¶ç»“æ„"><br><img src="/uploads/QQ20161221-4@2x.jpg" alt="ç”Ÿæˆçš„manifestä¿¡æ¯"><br><img src="/uploads/QQ20161221-3@2x.jpg" alt="æµ‹è¯•ç»“æœ åŠ è½½äº†é‡åçš„ç©ºé¢„åˆ¶ä½“"></p>
<h2 id="è¿™é‡Œå¯ä»¥çŒœæƒ³-æ˜¯å¦Unity3dæ˜¯éå†ç”Ÿæˆçš„ä¿¡æ¯-æ‰¾åˆ°ä¸€ä¸ª-åŒåçš„ç„¶åå°±returnå‡ºå»äº†-ï¼Ÿ"><a href="#è¿™é‡Œå¯ä»¥çŒœæƒ³-æ˜¯å¦Unity3dæ˜¯éå†ç”Ÿæˆçš„ä¿¡æ¯-æ‰¾åˆ°ä¸€ä¸ª-åŒåçš„ç„¶åå°±returnå‡ºå»äº†-ï¼Ÿ" class="headerlink" title="è¿™é‡Œå¯ä»¥çŒœæƒ³ æ˜¯å¦Unity3dæ˜¯éå†ç”Ÿæˆçš„ä¿¡æ¯ æ‰¾åˆ°ä¸€ä¸ª åŒåçš„ç„¶åå°±returnå‡ºå»äº† ï¼Ÿ"></a>è¿™é‡Œå¯ä»¥çŒœæƒ³ æ˜¯å¦Unity3dæ˜¯éå†ç”Ÿæˆçš„ä¿¡æ¯ æ‰¾åˆ°ä¸€ä¸ª åŒåçš„ç„¶åå°±returnå‡ºå»äº† ï¼Ÿ</h2><p><img src="/uploads/QQ20161221-5@2x.jpg" alt="å°†Aæ–‡ä»¶å¤¹æ¢åˆ°æœ€å"><br>è¿™é‡Œéœ€è¦å°†åŸæ¥ç”Ÿæˆçš„ABåŒ…ç›¸å…³ä¿¡æ¯å…¨éƒ¨åˆ é™¤ï¼Œå¦åˆ™åªä¼šæ›´æ–° manifest æ–‡ä»¶ ï¼<br><img src="/uploads/QQ20161221-6@2x.jpg" alt="é‡æ–°ç”Ÿæˆçš„manifestä¿¡æ¯ä¸ABåŒ…"><br><img src="/uploads/QQ20161221-7@2x.jpg" alt="æµ‹è¯•ç»“æœ æ­£å¸¸çš„é¢„åˆ¶ä½“"></p>
<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>å¦‚æœABåŒ…ä¸­å­˜åœ¨é‡åçš„æ–‡ä»¶ AssetBundle åœ¨åŠ è½½çš„æ—¶å€™ä¼šé¡ºåºæŸ¥æ‰¾å½“å‰ABåŒ…ä¸­çš„æ–‡ä»¶ æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒåèµ„æºå°±ä¼šè¿”å›è¯¥èµ„æºï¼</p>
<h1 id="å°±è¿™æ ·ç»“æŸäº†å—-æ–°çš„é—®é¢˜ï¼ä¼´éšç€è§£å†³æ—§é—®é¢˜-åˆè¢«å‘ç°äº†-ï¼"><a href="#å°±è¿™æ ·ç»“æŸäº†å—-æ–°çš„é—®é¢˜ï¼ä¼´éšç€è§£å†³æ—§é—®é¢˜-åˆè¢«å‘ç°äº†-ï¼" class="headerlink" title="å°±è¿™æ ·ç»“æŸäº†å—  æ–°çš„é—®é¢˜ï¼ä¼´éšç€è§£å†³æ—§é—®é¢˜ åˆè¢«å‘ç°äº† ï¼"></a>å°±è¿™æ ·ç»“æŸäº†å—  æ–°çš„é—®é¢˜ï¼ä¼´éšç€è§£å†³æ—§é—®é¢˜ åˆè¢«å‘ç°äº† ï¼</h1><h2 id="too-young-too-native"><a href="#too-young-too-native" class="headerlink" title="too young too native"></a>too young too native</h2><h1 id="åˆæ˜¯ä¸€ä¸ªæ¼”ç¤º"><a href="#åˆæ˜¯ä¸€ä¸ªæ¼”ç¤º" class="headerlink" title="åˆæ˜¯ä¸€ä¸ªæ¼”ç¤º"></a>åˆæ˜¯ä¸€ä¸ªæ¼”ç¤º</h1><p>æˆ‘åœ¨ä¸»åœºæ™¯æ‰‹åŠ¨æ‹–æ”¾äº†ä¸€ä¸ªCubeï¼Œç„¶åé€šè¿‡ABåŠ è½½é™¤äº†ä¸€ä¸ªæ–°çš„ Cube(Clone)</p>
<p><img src="/uploads/5CCE21BA-FEF8-4333-8C76-1D9F89D395B1.jpg" alt="æ–°çš„é—®é¢˜~"></p>
<p>ä»–ä¿©çš„æè´¨åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼ä½†æ˜¯æ­¤å¤„æ˜¾ç¤ºå±…ç„¶ä¸ä¸€è‡´ã€‚é€šè¿‡ABåŠ è½½å‡ºæ¥çš„prefabæè´¨ æ‹–åŠ¨æ•°å€¼å±…ç„¶ä¸èƒ½æ”¹å˜æ˜¾ç¤ºæ•ˆæœã€‚</p>
<h2 id="è¿™ä¸ªé—®é¢˜æˆ‘è¿˜åœ¨æŸ¥"><a href="#è¿™ä¸ªé—®é¢˜æˆ‘è¿˜åœ¨æŸ¥" class="headerlink" title="è¿™ä¸ªé—®é¢˜æˆ‘è¿˜åœ¨æŸ¥"></a>è¿™ä¸ªé—®é¢˜æˆ‘è¿˜åœ¨æŸ¥</h2><p>ç°åœ¨æ‰“åŒ…åˆ°çœŸæœºçœ‹çœ‹ç»“æœ<br><img src="/uploads/QQ20161222-0@2x.jpg" alt="æ–°çš„é—®é¢˜~"></p>
<h2 id="æµ‹è¯•ç»“æœ"><a href="#æµ‹è¯•ç»“æœ" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h2><p>å‘å¸ƒåˆ°çœŸæœºå‘ç°ä¸€åˆ‡æ­£å¸¸ ï¼<br><img src="/uploads/702E9B339B6CEA87BB44ACA6FBABCD56.jpg" alt="æˆ‘åšäº†ä¸€äº›ä»£ç ä¸Šçš„ä¿®æ”¹ ç„¶åæ‰“åŒ…åˆ°çœŸæœºç¯å¢ƒ"></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;ä»Šå¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œçƒ­æ›´æ–° Unity3D Prefab ï¼Œprefabä¸Šçš„é™„åŠ è„šæœ¬ä¿¡æ¯ä¸¢å¤±(5.X API)ï¼Œç„¶åå¼•å‘å‡ºäº†æœ‰è¶£çš„å°æ•…äº‹ï½&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="UNITY3D" scheme="http://vrast.cn/categories/UNITY3D/"/>
    
    
      <category term="AssetBundle" scheme="http://vrast.cn/tags/AssetBundle/"/>
    
  </entry>
  
  <entry>
    <title>UNITY3Dä¸­çš„å®å®šä¹‰</title>
    <link href="http://vrast.cn/posts/e5d2512b/"/>
    <id>http://vrast.cn/posts/e5d2512b/</id>
    <published>2016-12-08T15:11:24.000Z</published>
    <updated>2016-12-08T15:44:56.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>æœ¬æ–‡ä»‹ç»UNITY3Då¸¸ç”¨çš„å®å‘½ä»¤ä»¥åŠå¦‚ä½•å®šä¹‰ä¸€ä¸ªå®ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="å¸¸ç”¨çš„å¹³å°"><a href="#å¸¸ç”¨çš„å¹³å°" class="headerlink" title="å¸¸ç”¨çš„å¹³å°"></a>å¸¸ç”¨çš„å¹³å°</h1><p><img src="/uploads/8E256D56-9F58-43AA-B6F4-C2598A06B243.jpg" alt="å¸¸ç”¨çš„å¹³å°"></p>
<h1 id="å®šä¹‰å®"><a href="#å®šä¹‰å®" class="headerlink" title="å®šä¹‰å®"></a>å®šä¹‰å®</h1><h2 id="æ·»åŠ é¢„ç¼–è¯‘æŒ‡ä»¤-å®"><a href="#æ·»åŠ é¢„ç¼–è¯‘æŒ‡ä»¤-å®" class="headerlink" title="æ·»åŠ é¢„ç¼–è¯‘æŒ‡ä»¤(å®)"></a>æ·»åŠ é¢„ç¼–è¯‘æŒ‡ä»¤(å®)</h2><p>æ·»åŠ ä¸€ä¸ªåä¸ºTestçš„å® æ­¤æ—¶è¿™æ®µä»£ç æ˜¯æ— æ³•æ‰§è¡Œçš„<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></div><div class="line">&#123;</div><div class="line">    <span class="meta">#<span class="meta-keyword">if</span> Test</span></div><div class="line">    <span class="comment">//.. you code here</span></div><div class="line">    <span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="ä½¿å®šä¹‰çš„å®å¯ç”¨"><a href="#ä½¿å®šä¹‰çš„å®å¯ç”¨" class="headerlink" title="ä½¿å®šä¹‰çš„å®å¯ç”¨"></a>ä½¿å®šä¹‰çš„å®å¯ç”¨</h2><p>æ‰¾åˆ° <code>Build Setting &gt; PlayerSetting &gt;å½“å‰å¹³å° &gt; Scripting Define Symbols </code> æ·»åŠ  Test å³å¯ã€‚</p>
<h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://docs.unity3d.com/Manual/PlatformDependentCompilation.html" target="_blank" rel="external">UNITY3D å®˜æ–¹æ–‡æ¡£</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ä»‹ç»UNITY3Då¸¸ç”¨çš„å®å‘½ä»¤ä»¥åŠå¦‚ä½•å®šä¹‰ä¸€ä¸ªå®ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="UNITY3D" scheme="http://vrast.cn/categories/UNITY3D/"/>
    
    
      <category term="Define" scheme="http://vrast.cn/tags/Define/"/>
    
  </entry>
  
  <entry>
    <title>AssetBundleç”Ÿæˆé…ç½®æ–‡ä»¶å…³ç³»åˆ†æ</title>
    <link href="http://vrast.cn/posts/c13fff2a/"/>
    <id>http://vrast.cn/posts/c13fff2a/</id>
    <published>2016-12-08T08:11:01.000Z</published>
    <updated>2016-12-08T15:48:51.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>UNITY3D VERSION 5 æ–°ç‰ˆæœ¬ABå·¥å…· åœ¨ç”Ÿäº§ AB åŒ…çš„æ—¶å€™ä¼šç”Ÿæˆ manifest æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶æœ‰ä»€ä¹ˆè”ç³»å‘¢ ï¼Ÿé€šè¿‡æµ‹è¯• æˆ‘ä»¬æ¥ä¸€æ¢ç©¶ç«Ÿï½</p>
</blockquote>
<a id="more"></a>
<h1 id="UNITY3D-ABæ–°åŠŸèƒ½"><a href="#UNITY3D-ABæ–°åŠŸèƒ½" class="headerlink" title="UNITY3D ABæ–°åŠŸèƒ½"></a>UNITY3D ABæ–°åŠŸèƒ½</h1><ol>
<li>ä½ å¯ä»¥åœ¨ UNITY3D ç”Ÿæˆ AB åŒ…çš„æŒ‡å®šç›®å½•ä¸‹ï¼Œæ‰¾åˆ°ä¸€ä¸ªä¸ AB åŒ…ç›¸åŒçš„æ–‡ä»¶ï¼Œç„¶åæˆ‘ä»¬åŠ è½½è¿™ä¸ª AB åŒ…ä¾¿å¯ä»¥è·å–å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„ä¾èµ–é¡¹ç›®ã€‚ä¸‹é¢çš„ä¸€ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä» iOS å½“å‰çš„ç›®å½• AB åŒ…ä¸­ç›´æ¥è·å–åˆ°äº†<code>mapbehaviourmonster_fire_2</code>æ–‡ä»¶çš„å“ˆå¸Œå€¼ å½“ç„¶ä¹Ÿå¯ä»¥è·å–æ‰€æœ‰æ–‡ä»¶çš„å“ˆå¸Œå€¼ã€‚è¿™ä¸ªå“ˆå¸Œå€¼æˆ‘æƒ³æˆ‘ä¼šç”¨æ¥æ ¡éªŒæ–‡ä»¶æ˜¯å¦è¢«ç¯¡æ”¹ã€‚</li>
<li>ä½ å¯ä»¥åœ¨ AB ç”Ÿæˆçš„ manifest æ–‡ä»¶ä¸­è½»æ¾çš„è·å–åˆ° CRC æ–‡ä»¶æ ¡éªŒç  ï¼Œå¦‚æœä½ å¹¶æ²¡æœ‰ä¿®æ”¹å½“å‰ AB åŒ…çš„æ–‡ä»¶ï¼Œå½“å‰ AB åŒ…å†æ¬¡æ‰“åŒ…å°±ä¼šè·³è¿‡å½“å‰æ–‡ä»¶ã€‚</li>
<li>ä½ åœ¨å½“å‰ AB çš„ manifest æ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°ä¾èµ–é¡¹çš„å®Œæ•´è·¯å¾„ä¿¡æ¯ï¼Œå½“ç„¶ä½ åœ¨ç›®å½•æ–‡ä»¶ AB ä¸­åŒæ ·å¯ä»¥æ‰¾åˆ° åªæ˜¯è¿™ä¸ªè·¯å¾„ä¸æ˜¯å®Œæ•´çš„ã€‚</li>
</ol>
<h1 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h1><p>mapbehaviourmonster_fire_2 æ–‡ä»¶çš„ manifest ä¿¡æ¯å¦‚ä¸‹ï¼š<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">ManifestFileVersion</span>: <span class="number">0</span></div><div class="line"><span class="attribute">CRC</span>: <span class="number">3977712109</span></div><div class="line"><span class="attribute">Hashes</span>:</div><div class="line">  <span class="attribute">AssetFileHash</span>:</div><div class="line">    <span class="attribute">serializedVersion</span>: <span class="number">2</span></div><div class="line">    <span class="attribute">Hash</span>: <span class="number">6</span>ecd135fec1799a7a296d2ec71e12356</div><div class="line">  <span class="attribute">TypeTreeHash</span>:</div><div class="line">    <span class="attribute">serializedVersion</span>: <span class="number">2</span></div><div class="line">    <span class="attribute">Hash</span>: <span class="number">1033</span>bf7ddfd4c6d43e7a6382c0a0a61a</div><div class="line"><span class="attribute">HashAppended</span>: <span class="number">0</span></div><div class="line"><span class="attribute">ClassTypes</span>:</div><div class="line">- <span class="attribute">Class</span>: <span class="number">49</span></div><div class="line">  <span class="attribute">Script</span>: &#123;<span class="attribute">instanceID</span>: <span class="number">0</span>&#125;</div><div class="line"><span class="attribute">Assets</span>:</div><div class="line">- Assets/Resources/Config/MapBehaviourMonster_Fire_2.txt</div><div class="line"><span class="attribute">Dependencies</span>: []</div></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬åœ¨æ­¤å¤„ åŠ è½½äº† iOS(ä¹Ÿå°±æ˜¯å½“å‰ç›®å½•è‡ªåŠ¨ç”Ÿæˆçš„ABåŒ…)<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">string</span> path = Path.Combine(Application.streamingAssetsPath, Utility.GetPlatformName());</div><div class="line"><span class="keyword">var</span> bt = File.ReadAllBytes(Path.Combine(path, <span class="string">"iOS"</span>));</div><div class="line"></div><div class="line">AssetBundle ab = AssetBundle.LoadFromMemory(bt);</div><div class="line">AssetBundleManifest mainfet = ab.LoadAsset&lt;AssetBundleManifest&gt;(<span class="string">"AssetBundleManifest"</span>);</div><div class="line"></div><div class="line">Debug.Log(mainfet.GetAssetBundleHash(<span class="string">"mapbehaviourmonster_fire_2"</span>));</div></pre></td></tr></table></figure></p>
<p>æµ‹è¯•è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">6</span>ecd135fec1799a7a296d2ec<span class="number">71e12356</span></div></pre></td></tr></table></figure></p>
<h1 id="æ›´å¤šçš„å†…å­˜æµ‹è¯•"><a href="#æ›´å¤šçš„å†…å­˜æµ‹è¯•" class="headerlink" title="æ›´å¤šçš„å†…å­˜æµ‹è¯•"></a>æ›´å¤šçš„å†…å­˜æµ‹è¯•</h1><p>æˆ‘ä¹Ÿæ˜¯åœ¨æ™šä¸Šæœåˆ°è¿™ç¯‡æ–‡ç« çš„ä»–åå¤åšäº†å‡ ä¸ªè¯»å–é‡Šæ”¾ä¸èµ„æºå†…å­˜æ–¹é¢çš„æµ‹è¯•æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹<br><a href="https://segmentfault.com/a/1190000004335280" target="_blank" rel="external">unity3d å…³äºAssetBundleçš„ä¸€äº›å¤„ç†ç»†èŠ‚</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;UNITY3D VERSION 5 æ–°ç‰ˆæœ¬ABå·¥å…· åœ¨ç”Ÿäº§ AB åŒ…çš„æ—¶å€™ä¼šç”Ÿæˆ manifest æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶æœ‰ä»€ä¹ˆè”ç³»å‘¢ ï¼Ÿé€šè¿‡æµ‹è¯• æˆ‘ä»¬æ¥ä¸€æ¢ç©¶ç«Ÿï½&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="UNITY3D" scheme="http://vrast.cn/categories/UNITY3D/"/>
    
    
      <category term="AssetBundle" scheme="http://vrast.cn/tags/AssetBundle/"/>
    
  </entry>
  
  <entry>
    <title>Unity3D coroutines in detail</title>
    <link href="http://vrast.cn/posts/937d6de4/"/>
    <id>http://vrast.cn/posts/937d6de4/</id>
    <published>2016-12-08T02:21:19.000Z</published>
    <updated>2016-12-08T15:57:31.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>coroutinesçš„æŠ€æœ¯ç»†èŠ‚ èŠ‚é€‰è‡ª <a href="http://stackoverflow.com/questions/12932306/how-does-startcoroutine-yield-return-pattern-really-work-in-unity" target="_blank" rel="external">How does StartCoroutine / yield return pattern really work in Unity? -stackoverflow</a></p>
</blockquote>
<a id="more"></a>
<p>Many processes in games take place over the course of multiple frames. Youâ€™ve got â€˜denseâ€™ processes, like pathfinding, which work hard each frame but get split across multiple frames so as not to impact the framerate too heavily. Youâ€™ve got â€˜sparseâ€™ processes, like gameplay triggers, that do nothing most frames, but occasionally are called upon to do critical work. And youâ€™ve got assorted processes between the two.</p>
<p>Whenever youâ€™re creating a process that will take place over multiple frames â€“ without multithreading â€“ you need to find some way of breaking the work up into chunks that can be run one-per-frame. For any algorithm with a central loop, itâ€™s fairly obvious: an A<em> pathfinder, for example, can be structured such that it maintains its node lists semi-permanently, processing only a handful of nodes from the open list each frame, instead of trying to do all the work in one go. Thereâ€™s some balancing to be done to manage latency â€“ after all, if youâ€™re locking your framerate at 60 or 30 frames per second, then your process will only take 60 or 30 steps per second, and that might cause the process to just take too long overall. A neat design might offer the smallest possible unit of work at one level â€“ e.g. process a single A</em> node â€“ and layer on top a way of grouping work together into larger chunks â€“ e.g. keep processing A* nodes for X milliseconds. (Some people call this â€˜timeslicingâ€™, though I donâ€™t).</p>
<p>Still, allowing the work to be broken up in this way means you have to transfer state from one frame to the next. If youâ€™re breaking an iterative algorithm up, then youâ€™ve got to preserve all the state shared across iterations, as well as a means of tracking which iteration is to be performed next. Thatâ€™s not usually too bad â€“ the design of an â€˜A* pathfinder classâ€™ is fairly obvious â€“ but there are other cases, too, that are less pleasant. Sometimes youâ€™ll be facing long computations that are doing different kinds of work from frame to frame; the object capturing their state can end up with a big mess of semi-useful â€˜locals,â€™ kept for passing data from one frame to the next. And if youâ€™re dealing with a sparse process, you often end up having to implement a small state machine just to track when work should be done at all.</p>
<p>Wouldnâ€™t it be neat if, instead of having to explicitly track all this state across multiple frames, and instead of having to multithread and manage synchronization and locking and so on, you could just write your function as a single chunk of code, and mark particular places where the function should â€˜pauseâ€™ and carry on at a later time?</p>
<p>Unity â€“ along with a number of other environments and languages â€“ provides this in the form of Coroutines.</p>
<p>How do they look? In â€œUnityscriptâ€ (Javascript):<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function">function <span class="title">LongComputation</span>(<span class="params"></span>)</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">while</span>(someCondition)</div><div class="line">    &#123;</div><div class="line">        <span class="comment">/* Do a chunk of work */</span></div><div class="line"></div><div class="line">        <span class="comment">// Pause here and carry on next frame</span></div><div class="line">        <span class="keyword">yield</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">In C<span class="meta">#:</span></div><div class="line"><span class="function">IEnumerator <span class="title">LongComputation</span>(<span class="params"></span>)</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">while</span>(someCondition)</div><div class="line">    &#123;</div><div class="line">        <span class="comment">/* Do a chunk of work */</span></div><div class="line"></div><div class="line">        <span class="comment">// Pause here and carry on next frame</span></div><div class="line">        <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>How do they work? Let me just say, quickly, that I donâ€™t work for Unity Technologies. Iâ€™ve not seen the Unity source code. Iâ€™ve never seen the guts of Unityâ€™s coroutine engine. However, if theyâ€™ve implemented it in a way that is radically different from what Iâ€™m about to describe, then Iâ€™ll be quite surprised. If anyone from UT wants to chime in and talk about how it actually works, then thatâ€™d be great.</p>
<p>The big clues are in the C# version. Firstly, note that the return type for the function is IEnumerator. And secondly, note that one of the statements is yield return. This means that yield must be a keyword, and as Unityâ€™s C# support is vanilla C# 3.5, it must be a vanilla C# 3.5 keyword. Indeed, here it is in MSDN â€“ talking about something called â€˜iterator blocks.â€™ So whatâ€™s going on?</p>
<p>Firstly, thereâ€™s this IEnumerator type. The IEnumerator type acts like a cursor over a sequence, providing two significant members: Current, which is a property giving you the element the cursor is presently over, and MoveNext(), a function that moves to the next element in the sequence. Because IEnumerator is an interface, it doesnâ€™t specify exactly how these members are implemented; MoveNext() could just add one toCurrent, or it could load the new value from a file, or it could download an image from the Internet and hash it and store the new hash in Currentâ€¦ or it could even do one thing for the first element in the sequence, and something entirely different for the second. You could even use it to generate an infinite sequence if you so desired. MoveNext() calculates the next value in the sequence (returning false if there are no more values), and Current retrieves the value it calculated.</p>
<p>Ordinarily, if you wanted to implement an interface, youâ€™d have to write a class, implement the members, and so on. Iterator blocks are a convenient way of implementing IEnumerator without all that hassle â€“ you just follow a few rules, and the IEnumerator implementation is generated automatically by the compiler.</p>
<p>An iterator block is a regular function that (a) returns IEnumerator, and (b) uses the yield keyword. So what does the yield keyword actually do? It declares what the next value in the sequence is â€“ or that there are no more values. The point at which the code encounters a yield return X or yield break is the point at which IEnumerator.MoveNext() should stop; a yield return X causes MoveNext() to return true andCurrent to be assigned the value X, while a yield break causes MoveNext() to return false.</p>
<p>Now, hereâ€™s the trick. It doesnâ€™t have to matter what the actual values returned by the sequence are. You can call MoveNext() repeatly, and ignore Current; the computations will still be performed. Each time MoveNext() is called, your iterator block runs to the next â€˜yieldâ€™ statement, regardless of what expression it actually yields. So you can write something like:<br>IEnumerator TellMeASecret()<br>{<br>  PlayAnimation(â€œLeanInConspiratoriallyâ€);<br>  while(playingAnimation)<br>    yield return null;</p>
<p>  Say(â€œI stole the cookie from the cookie jar!â€);<br>  while(speaking)<br>    yield return null;</p>
<p>  PlayAnimation(â€œLeanOutRelievedâ€);<br>  while(playingAnimation)<br>    yield return null;<br>}<br>and what youâ€™ve actually written is an iterator block that generates a long sequence of null values, but whatâ€™s significant is the side-effects of the work it does to calculate them. You could run this coroutine using a simple loop like this:<br>IEnumerator e = TellMeASecret();<br>while(e.MoveNext()) { }<br>Or, more usefully, you could mix it in with other work:<br>IEnumerator e = TellMeASecret();<br>while(e.MoveNext())<br>{<br>  // If they press â€˜Escapeâ€™, skip the cutscene<br>  if(Input.GetKeyDown(KeyCode.Escape)) { break; }<br>}<br>Itâ€™s all in the timing As youâ€™ve seen, each yield return statement must provide an expression (like null) so that the iterator block has something to actually assign to IEnumerator.Current. A long sequence of nulls isnâ€™t exactly useful, but weâ€™re more interested in the side-effects. Arenâ€™t we?</p>
<p>Thereâ€™s something handy we can do with that expression, actually. What if, instead of just yielding null and ignoring it, we yielded something that indicated when we expect to need to do more work? Often weâ€™ll need to carry straight on the next frame, sure, but not always: there will be plenty of times where we want to carry on after an animation or sound has finished playing, or after a particular amount of time has passed. Those while(playingAnimation) yield return null; constructs are bit tedious, donâ€™t you think?</p>
<p>Unity declares the YieldInstruction base type, and provides a few concrete derived types that indicate particular kinds of wait. Youâ€™ve got WaitForSeconds, which resumes the coroutine after the designated amount of time has passed. Youâ€™ve got WaitForEndOfFrame, which resumes the coroutine at a particular point later in the same frame. Youâ€™ve got the Coroutine type itself, which, when coroutine A yields coroutine B, pauses coroutine A until after coroutine B has finished.</p>
<p>What does this look like from a runtime point of view? As I said, I donâ€™t work for Unity, so Iâ€™ve never seen their code; but Iâ€™d imagine it might look a little bit like this:<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">List&lt;IEnumerator&gt; unblockedCoroutines;</div><div class="line">List&lt;IEnumerator&gt; shouldRunNextFrame;</div><div class="line">List&lt;IEnumerator&gt; shouldRunAtEndOfFrame;</div><div class="line">SortedList&lt;<span class="keyword">float</span>, IEnumerator&gt; shouldRunAfterTimes;</div><div class="line"></div><div class="line"><span class="keyword">foreach</span>(IEnumerator coroutine <span class="keyword">in</span> unblockedCoroutines)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(!coroutine.MoveNext())</div><div class="line">        <span class="comment">// This coroutine has finished</span></div><div class="line">        <span class="keyword">continue</span>;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(!coroutine.Current <span class="keyword">is</span> YieldInstruction)</div><div class="line">    &#123;</div><div class="line">        <span class="comment">// This coroutine yielded null, or some other value we don't understand; run it next frame.</span></div><div class="line">        shouldRunNextFrame.Add(coroutine);</div><div class="line">        <span class="keyword">continue</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(coroutine.Current <span class="keyword">is</span> WaitForSeconds)</div><div class="line">    &#123;</div><div class="line">        WaitForSeconds wait = (WaitForSeconds)coroutine.Current;</div><div class="line">        shouldRunAfterTimes.Add(Time.time + wait.duration, coroutine);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">else</span> <span class="title">if</span>(<span class="params">coroutine.Current <span class="keyword">is</span> WaitForEndOfFrame</span>)</span></div><div class="line">    &#123;</div><div class="line">        shouldRunAtEndOfFrame.Add(coroutine);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="comment">/* similar stuff for other YieldInstruction subtypes */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">unblockedCoroutines = shouldRunNextFrame;</div></pre></td></tr></table></figure></p>
<p>Itâ€™s not difficult to imagine how more YieldInstruction subtypes could be added to handle other cases â€“ engine-level support for signals, for example, could be added, with a WaitForSignal(â€œSignalNameâ€)YieldInstruction supporting it. By adding more YieldInstructions, the coroutines themselves can become more expressive â€“ yield return new WaitForSignal(â€œGameOverâ€) is nicer to read thanwhile(!Signals.HasFired(â€œGameOverâ€)) yield return null, if you ask me, quite apart from the fact that doing it in the engine could be faster than doing it in script.</p>
<p>A couple of non-obvious ramifications Thereâ€™s a couple of useful things about all this that people sometimes miss that I thought I should point out.</p>
<p>Firstly, yield return is just yielding an expression â€“ any expression â€“ and YieldInstruction is a regular type. This means you can do things like:<br>YieldInstruction y;<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(something)</div><div class="line"> y = <span class="literal">null</span>;</div><div class="line"><span class="function"><span class="keyword">else</span> <span class="title">if</span>(<span class="params">somethingElse</span>)</span></div><div class="line"> y = <span class="keyword">new</span> WaitForEndOfFrame();</div><div class="line"><span class="keyword">else</span></div><div class="line"> y = <span class="keyword">new</span> WaitForSeconds(<span class="number">1.0</span>f);</div><div class="line"></div><div class="line"><span class="keyword">yield</span> <span class="keyword">return</span> y;</div></pre></td></tr></table></figure></p>
<p>The specific lines yield return new WaitForSeconds(), yield return new WaitForEndOfFrame(), etc, are common, but theyâ€™re not actually special forms in their own right.</p>
<p>Secondly, because these coroutines are just iterator blocks, you can iterate over them yourself if you want â€“ you donâ€™t have to have the engine do it for you. Iâ€™ve used this for adding interrupt conditions to a coroutine before:<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function">IEnumerator <span class="title">DoSomething</span>(<span class="params"></span>)</span></div><div class="line">&#123;</div><div class="line">  <span class="comment">/* ... */</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">IEnumerator <span class="title">DoSomethingUnlessInterrupted</span>(<span class="params"></span>)</span></div><div class="line">&#123;</div><div class="line">  IEnumerator e = DoSomething();</div><div class="line">  <span class="keyword">bool</span> interrupted = <span class="literal">false</span>;</div><div class="line">  <span class="keyword">while</span>(!interrupted)</div><div class="line">  &#123;</div><div class="line">    e.MoveNext();</div><div class="line">    <span class="keyword">yield</span> <span class="keyword">return</span> e.Current;</div><div class="line">    interrupted = HasBeenInterrupted();</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">Thirdly, the fact that you can <span class="keyword">yield</span> <span class="keyword">on</span> other coroutines can sort of allow you to implement your own YieldInstructions, albeit not <span class="keyword">as</span> performantly <span class="keyword">as</span> <span class="keyword">if</span> they were implemented <span class="keyword">by</span> the engine. For example:</div><div class="line"><span class="function">IEnumerator <span class="title">UntilTrueCoroutine</span>(<span class="params">Func fn</span>)</span></div><div class="line">&#123;</div><div class="line">   <span class="keyword">while</span>(!fn()) <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">Coroutine <span class="title">UntilTrue</span>(<span class="params">Func fn</span>)</span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">return</span> StartCoroutine(UntilTrueCoroutine(fn));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">IEnumerator <span class="title">SomeTask</span>(<span class="params"></span>)</span></div><div class="line">&#123;</div><div class="line">  <span class="comment">/* ... */</span></div><div class="line">  <span class="function"><span class="keyword">yield</span> return <span class="title">UntilTrue</span>(<span class="params">(</span>) </span>=&gt; _lives &lt; <span class="number">3</span>);</div><div class="line">  <span class="comment">/* ... */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>however, I wouldnâ€™t really recommend this â€“ the cost of starting a Coroutine is a little heavy for my liking.</p>
<p>Conclusion I hope this clarifies a little some of whatâ€™s really happening when you use a Coroutine in Unity. C#â€™s iterator blocks are a groovy little construct, and even if youâ€™re not using Unity, maybe youâ€™ll find it useful to take advantage of them in the same way.</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;coroutinesçš„æŠ€æœ¯ç»†èŠ‚ èŠ‚é€‰è‡ª &lt;a href=&quot;http://stackoverflow.com/questions/12932306/how-does-startcoroutine-yield-return-pattern-really-work-in-unity&quot;&gt;How does StartCoroutine / yield return pattern really work in Unity? -stackoverflow&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="UNITY3D" scheme="http://vrast.cn/categories/UNITY3D/"/>
    
    
      <category term="coroutines" scheme="http://vrast.cn/tags/coroutines/"/>
    
  </entry>
  
  <entry>
    <title>AIæ¥å£æ¢³ç†</title>
    <link href="http://vrast.cn/posts/6aa8a811/"/>
    <id>http://vrast.cn/posts/6aa8a811/</id>
    <published>2016-12-06T15:02:53.000Z</published>
    <updated>2017-01-05T07:39:24.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>å…³äºGOAPç›®æ ‡å¯¼å‘å‹AIä»¥å‰æ²¡æœ‰è‡ªå·±å†™è¿‡ æ‰€ä»¥æœ¬ç¯‡æ›´æ–°çš„ä¼šæ¯”è¾ƒæ…¢ï¼Œç°åœ¨æ­£æ…¢æ…¢ç†æ¸…æ€è·¯å¾€ä¸‹å†™ï¼Œæœ¬ç¯‡æ˜¯ä¸ªäººä»£ç é˜…è¯»ç¬”è®° æ›´æ–°ä¸­â€¦<br>2016.12.6 æ›´æ–°StateDictionaryï¼State éƒ¨åˆ†åˆ†æ</p>
</blockquote>
<a id="more"></a>
<h1 id="é˜…è¯»ç»éªŒ-ğŸ’¡"><a href="#é˜…è¯»ç»éªŒ-ğŸ’¡" class="headerlink" title="é˜…è¯»ç»éªŒ ğŸ’¡"></a>é˜…è¯»ç»éªŒ ğŸ’¡</h1><p>é˜…è¯»æ¯ä¸ªæ–‡ä»¶å¤¹çš„æ—¶å€™ï¼Œé—®è‡ªå·±å‡ ä¸ªé—®é¢˜</p>
<ul>
<li>ä¸AIActionçš„å…³ç³» ?</li>
<li>ä¸AIGoalsçš„å…³ç³» ?</li>
<li>ä¸AIMemoryçš„å…³ç³» ?</li>
<li>ä¸AISensorsçš„å…³ç³» ?</li>
<li>ä¸AISystemçš„å…³ç³» ?</li>
</ul>
<blockquote>
<p>ç¬”è®°éƒ¨åˆ†</p>
</blockquote>
<h1 id="Goal-Oriented-Action-Planning-GOAP"><a href="#Goal-Oriented-Action-Planning-GOAP" class="headerlink" title="Goal-Oriented Action Planning (GOAP)"></a>Goal-Oriented Action Planning (GOAP)</h1><p>é¢å‘ç›®æ ‡çš„è¡ŒåŠ¨è§„åˆ’</p>
<h1 id="AIBrain"><a href="#AIBrain" class="headerlink" title="AIBrain"></a>AIBrain</h1><p>AIBrain.cs AIçš„å¤§è„‘ï¼Œå¤§è„‘ä¼šçŸ¥é“å½“å‰AIçš„ä¸€åˆ‡çŠ¶æ€;</p>
<h2 id="AIBrain-lt-AIStateSystem-Interface"><a href="#AIBrain-lt-AIStateSystem-Interface" class="headerlink" title="AIBrain &lt;- AIStateSystem Interface"></a>AIBrain &lt;- AIStateSystem Interface</h2><p>å½“å‰ AI Agent æ‰€å¤„çš„çŠ¶æ€ã€‚åŠ¨ç”»çš„å¼€å§‹ç»“æŸï¼Œæ›´æ–°å‡½æ•°è¢« AIBrain é«˜å±‚é¢ç»Ÿä¸€è°ƒç”¨ã€‚</p>
<h2 id="AIBrain-lt-AISensor-Interface"><a href="#AIBrain-lt-AISensor-Interface" class="headerlink" title="AIBrain &lt;- AISensor Interface"></a>AIBrain &lt;- AISensor Interface</h2><p>çº¦å®šAI Sensoræ¨¡ç‰ˆæ˜¯å¯ä»¥è¢«åºåˆ—åŒ–çš„æ”¯æŒåœ¨Unity3dä¸­ä½¿ç”¨ScriptableToolæ“ä½œã€‚ä¸ºäº†æ–¹ä¾¿æ¨¡ç‰ˆçš„æ‰¹é‡å®šåˆ¶</p>
<h1 id="StateDictionary"><a href="#StateDictionary" class="headerlink" title="StateDictionary"></a>StateDictionary</h1><p>å°è£…ä¸€ä¸ª key-value ,é‡Œé¢æ— æ„ä¹‰ä»£ç ä¹Ÿæ¯”è¾ƒå¤šã€‚æ ¹æœ¬ä¸Šå°±æ˜¯å¤„ç†key-valueçš„å¯¹æ¯”ï¼Œåˆå¹¶é‡å†™ï¼Œåˆå§‹åŒ–çš„å¿«æ·æ“ä½œ<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> Dictionary&lt;<span class="keyword">string</span>, <span class="keyword">object</span>&gt; conditions;</div></pre></td></tr></table></figure></p>
<h1 id="State"><a href="#State" class="headerlink" title="State"></a>State</h1><p>ç»Ÿä¸€è°ƒç”¨æ‰€æœ‰çš„ AIStateSystem ï¼Œå…ˆæ˜¯StateåŸºç±» ä½œä¸ºç»Ÿä¸€è°ƒç”¨çš„å…¥å£è€Œå­˜åœ¨ï¼Œå›¾äºŒé€šè¿‡æ–¹æ³•ä¾µå…¥ï¼Œè®¾ç½®å½“å‰çŠ¶æ€ã€‚è¿˜æ˜¯å¿ä¸ä½æˆªäº†å¼ å›¾ï¼Œè¿™è®¾è®¡å¤ªç»å…¸äº†ã€‚æ‰“å‡ºä¸€å¥—comboè¿æ‹›ï½<br><img src="/uploads/QQ20161206-0@2x.jpg" alt="å›¾ä¸€ StateåŸºç±»"><br><img src="/uploads/QQ20161206-1@2x.jpg" alt="å›¾äºŒ åˆ†åˆ«è¡¨ç¤ºä¸‰ç§åŸºç¡€çŠ¶æ€"><br>å¿ä¸ä½è¦è¯´è¯´è¿™ç§è®¾è®¡çš„å¥½å¤„ï¼Œéšè—äº†å…·ä½“å®ç°ç»†èŠ‚ï¼Œè€Œä¸”åªéœ€è¦é‡å†™ç›¸åº”çš„ä»£ç å³å¯ä¿®æ”¹ä»£ç æ‰§è¡Œä¹‹å‰çš„åˆ¤æ–­ã€‚</p>
<h1 id="Checkers"><a href="#Checkers" class="headerlink" title="Checkers"></a>Checkers</h1><p>ä¼˜åŒ–åŸºç¡€ä»£ç <br><img src="/uploads/QQ20161206-2@2x.jpg" alt="å›¾ä¸€ Checkersç±»"></p>
<h1 id="AIAction-Interface"><a href="#AIAction-Interface" class="headerlink" title="AIAction Interface"></a>AIAction Interface</h1><ol>
<li>å…·ä½“è¡Œä¸ºçš„æ‰§è¡Œè€… </li>
<li>è®¡ç®—å½“å‰èŠ‚ç‚¹æ¶ˆè€— [CalculateCost]</li>
<li>AIActionå¯ä»¥å¾—åˆ°ä¸€åˆ‡è®¡ç®—æ‰€éœ€è¦çš„æ•°æ®ï¼Œæœ‰æœ€å…·ä½“çš„æ•°æ®å¤„ç†é€»è¾‘</li>
<li>preConditions AIèƒ½è¢«æ‰§è¡Œçš„å‰ææ¡ä»¶ï¼Œåªæœ‰è¿™ä¸ªæ¡ä»¶åˆ—è¡¨éƒ½è¢«æ»¡è¶³æ‰èƒ½æ‰§è¡Œè¿™ä¸ªAIè¡Œä¸º</li>
<li>postEffects å½“å‰è¡Œä¸ºç»“æŸ[IsCompleted(AIBrain)]ä¹‹å å°†è¦æŠ›å‡ºè¿™ä¸ªå˜æ›´è¿‡çš„æ¡ä»¶åˆ—è¡¨ï¼Œç»™AIBrain</li>
<li>æä¾›å‡½æ•°ç»™Planneræ ¡éªŒæ˜¯å¦å½“å‰è¡Œä¸ºå¯ä»¥è¢«æ·»åŠ åˆ°è®¡åˆ’ä¸­[CanBeAddedToPlan]</li>
<li>[JustBeforePlan] ä¸€ä¸ªé’©å­å‡½æ•°ï¼Œå¦‚æœæœ‰ä»€ä¹ˆéœ€è¦é¢„å¤„ç†çš„å¯ä»¥æå‰å¤„ç†ã€‚</li>
<li>[GetRelated] ä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªå‡½æ•°ï¼Œè·å–å…³è”çš„å‡½æ•°</li>
</ol>
<h1 id="Planner"><a href="#Planner" class="headerlink" title="Planner"></a>Planner</h1><ol>
<li>è®¡åˆ’æ‰€æœ‰ç›®æ ‡çš„å¯è¡Œæ€§</li>
<li>ç»™å½“å‰è„‘ä¸­çš„æ‰€æœ‰goalæ’åº </li>
<li></li>
</ol>
<p><a href="http://alumni.media.mit.edu/~jorkin/goap.html" target="_blank" rel="external">GOAPå‚è€ƒæ–‡æ¡£</a><br><a href="https://gamedevelopment.tutsplus.com/tutorials/goal-oriented-action-planning-for-a-smarter-ai--cms-20793" target="_blank" rel="external">GOAP Demo</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å…³äºGOAPç›®æ ‡å¯¼å‘å‹AIä»¥å‰æ²¡æœ‰è‡ªå·±å†™è¿‡ æ‰€ä»¥æœ¬ç¯‡æ›´æ–°çš„ä¼šæ¯”è¾ƒæ…¢ï¼Œç°åœ¨æ­£æ…¢æ…¢ç†æ¸…æ€è·¯å¾€ä¸‹å†™ï¼Œæœ¬ç¯‡æ˜¯ä¸ªäººä»£ç é˜…è¯»ç¬”è®° æ›´æ–°ä¸­â€¦&lt;br&gt;2016.12.6 æ›´æ–°StateDictionaryï¼State éƒ¨åˆ†åˆ†æ&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="INTENSEé¡¹ç›®æºç åˆ†æ" scheme="http://vrast.cn/categories/INTENSE%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
    
      <category term="AI" scheme="http://vrast.cn/tags/AI/"/>
    
  </entry>
  
  <entry>
    <title>U3Dä»£ç ç‰‡æ®µèµæ</title>
    <link href="http://vrast.cn/posts/a5028a57/"/>
    <id>http://vrast.cn/posts/a5028a57/</id>
    <published>2016-12-03T15:22:09.000Z</published>
    <updated>2017-01-05T07:11:57.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>æœ¬ç¯‡åˆ†äº«ä¸€äº›æœ‰æ„æ€çš„ä»£ç ç‰‡æ®µ ~</p>
</blockquote>
<a id="more"></a>
<h1 id="Designing-a-Jump-in-Unity"><a href="#Designing-a-Jump-in-Unity" class="headerlink" title="Designing a Jump in Unity"></a><a href="http://www.gamasutra.com/blogs/DanielFineberg/20150825/244650/Designing_a_Jump_in_Unity.php" target="_blank" rel="external">Designing a Jump in Unity</a></h1><p>éšç€ jumpTime æ—¶é—´å»¶é•¿ proportionCompleted å€¼å˜å°ï¼ŒthisFrameJumpVector æ’å€¼å‘é‡è¶Šå¤§ã€‚<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function">IEnumerator <span class="title">JumpRoutine</span>(<span class="params"></span>)</span></div><div class="line">&#123;</div><div class="line">    rigidbody.velocity = Vector2.zero;</div><div class="line">    <span class="keyword">float</span> timer = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">while</span>(jumpButtonPressed &amp;&amp; timer &lt; jumpTime)</div><div class="line">    &#123;</div><div class="line">        <span class="comment">//Calculate how far through the jump we are as a percentage</span></div><div class="line">        <span class="comment">//apply the full jump force on the first frame, then apply less force</span></div><div class="line">        <span class="comment">//each consecutive frame</span></div><div class="line">        </div><div class="line">        <span class="keyword">float</span> proportionCompleted = timer / jumpTime;</div><div class="line">        Vector2 thisFrameJumpVector = Vector2.Lerp(jumpVector, Vector2.zero, proportionCompleted);</div><div class="line">        rigidbody.AddForce(thisFrameJumpVector);</div><div class="line">        timer += Time.deltaTime;</div><div class="line">        <span class="keyword">yield</span> <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    jumping = <span class="literal">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="TimeClass"><a href="#TimeClass" class="headerlink" title="TimeClass"></a>TimeClass</h1><ul>
<li>Time.time:[åªè¯»]è¡¨ç¤ºä»æ¸¸æˆå¼€å‘åˆ°ç°åœ¨çš„æ—¶é—´ï¼Œä¼šéšç€æ¸¸æˆçš„æš‚åœè€Œåœæ­¢è®¡ç®—ã€‚</li>
<li>Time.timeSinceLevelLoad:[åªè¯»]è¡¨ç¤ºä»å½“å‰Sceneå¼€å§‹åˆ°ç›®å‰ä¸ºæ­¢çš„æ—¶é—´ï¼Œä¹Ÿä¼šéšç€æš‚åœæ“ä½œè€Œåœæ­¢ã€‚</li>
<li>Time.fixedTime:[åªè¯»]è¡¨ç¤ºä»¥ç§’è®¡æ¸¸æˆå¼€å§‹çš„æ—¶é—´ï¼Œå›ºå®šæ—¶é—´ä»¥å®šæœŸé—´éš”æ›´æ–°[ç›¸å½“äºfixedDeltaTime] ç›´åˆ°è¾¾åˆ°timeå±æ€§ã€‚</li>
<li>Time.fixedDeltaTime:è¡¨ç¤ºä»¥ç§’è®¡é—´éš”ï¼Œåœ¨ç‰©ç†å’Œå…¶ä»–å›ºå®šå¸§ç‡è¿›è¡Œæ›´æ–°ï¼Œåœ¨Edit/ProjectSettings/Timeçš„Fixed Timestepå¯ä»¥è‡ªè¡Œè®¾ç½®ã€‚</li>
<li>Time.maximumDeltaTime:ä¸€å¸§èƒ½è·å¾—çš„æœ€é•¿æ—¶é—´ã€‚ç‰©ç†å’Œå…¶ä»–å›ºå®šå¸§é€Ÿç‡æ›´æ–°(ç±»ä¼¼MonoBehaviour FixedUpdate)ã€‚</li>
<li>Time.SmoothDeltaTime:[åªè¯»]è¡¨ç¤ºä¸€ä¸ªå¹³ç¨³çš„deltaTimeï¼Œæ ¹æ®å‰ Nå¸§çš„æ—¶é—´åŠ æƒå¹³å‡çš„å€¼ã€‚</li>
<li>Time.timeScale:æ—¶é—´ç¼©æ”¾ï¼Œé»˜è®¤å€¼ä¸º1ã€‚è‹¥è®¾ç½®å°äº1è¡¨ç¤ºæ—¶é—´å‡æ…¢ã€‚è‹¥è®¾ç½®å¤§äº1,è¡¨ç¤ºæ—¶é—´åŠ å¿«ã€‚è‹¥è®¾ç½®ä¸º0 åˆ™æš‚åœã€‚å¯ä»¥ç”¨æ¥åŠ é€Ÿ/å‡é€Ÿ/æš‚åœæ¸¸æˆï¼Œéå¸¸æœ‰ç”¨ã€‚</li>
<li>Time.frameCount:[åªè¯»]æ€»å¸§æ•°</li>
<li>Time.realtimeSinceStartup:[åªè¯»]è¡¨ç¤ºè‡ªæ¸¸æˆå¼€å§‹åçš„æ€»æ—¶é—´ï¼Œå³ä½¿æš‚åœä¹Ÿä¼šä¸æ–­çš„å¢åŠ ã€‚</li>
<li>Time.captureFramerate:è¡¨ç¤ºè®¾ç½®æ¯ç§’çš„å¸§ç‡ï¼Œç„¶åä¸è€ƒè™‘çœŸå®æ—¶é—´ã€‚</li>
<li>Time.unscaledDeltaTime:[åªè¯»]ä¸è€ƒè™‘timescaleæ—¶å€™ä¸deltaTimeç›¸åŒï¼Œè‹¥timescaleè¢«è®¾ç½®ï¼Œåˆ™æ— æ•ˆã€‚</li>
<li>Time.unscaledTime:[åªè¯»]ä¸è€ƒè™‘timescaleæ—¶å€™ä¸timeç›¸åŒï¼Œè‹¥timescaleè¢«è®¾ç½®ï¼Œåˆ™æ— æ•ˆã€‚</li>
</ul>
<h1 id="æœªå®Œå¾…ç»­"><a href="#æœªå®Œå¾…ç»­" class="headerlink" title="æœªå®Œå¾…ç»­"></a>æœªå®Œå¾…ç»­</h1>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ¬ç¯‡åˆ†äº«ä¸€äº›æœ‰æ„æ€çš„ä»£ç ç‰‡æ®µ ~&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="UNITY3D" scheme="http://vrast.cn/categories/UNITY3D/"/>
    
    
      <category term="CODE" scheme="http://vrast.cn/tags/CODE/"/>
    
  </entry>
  
  <entry>
    <title>Android Studioç”ŸæˆjaråŒ…</title>
    <link href="http://vrast.cn/posts/bfe68343/"/>
    <id>http://vrast.cn/posts/bfe68343/</id>
    <published>2016-12-03T13:14:09.000Z</published>
    <updated>2017-01-12T15:06:13.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>å½“ä½ åœ¨Unity3Då¼€å‘çš„æ—¶å€™éœ€è¦ä¸€ä¸ªAndroid Pluginçš„æ—¶å€™å›æ¥çœ‹çœ‹è¿™ä¸ªæ–‡ç« å§ï¼Œæœ¬ç¯‡ä»‹ç»å¦‚ä½•ä½¿ç”¨Android Studioç”ŸæˆjaråŒ…(MacOS)ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h1><ol>
<li>è¯·ç¡®ä¿æœ¬åœ°æœ‰ Android SDK,å¦‚æ—  <a href="http://vrast.cn/posts/9d8752cb/">è¯·å‚è§ Gradleç¯å¢ƒé…ç½®ä¸€æ–‡</a></li>
<li>ç¡®ä¿gradleç¯å¢ƒé…ç½®å®Œæ¯• <a href="http://vrast.cn/posts/9d8752cb/">è¯·å‚è§ Gradleç¯å¢ƒé…ç½®ä¸€æ–‡</a></li>
</ol>
<h1 id="ä»€ä¹ˆæ˜¯jaråŒ…"><a href="#ä»€ä¹ˆæ˜¯jaråŒ…" class="headerlink" title="ä»€ä¹ˆæ˜¯jaråŒ… ?"></a>ä»€ä¹ˆæ˜¯jaråŒ… ?</h1><p>JARï¼ˆJava ARchiveï¼ŒJava å½’æ¡£ï¼‰æ˜¯ä¸€ç§ä¸å¹³å°æ— å…³çš„æ–‡ä»¶æ ¼å¼ï¼Œå¯å°†å¤šä¸ªæ–‡ä»¶åˆæˆä¸€ä¸ªæ–‡ä»¶ã€‚å¯ä»¥ç®€å•çš„çœ‹ä½œç±»ä¼¼zipçš„å‹ç¼©åŒ…ï¼Œé‡Œé¢å­˜æ”¾çš„æ˜¯ä»£ç ä¸é¡¹ç›®èµ„æºã€‚<br>æ›´è¯¦ç»†çš„ä»‹ç»åœ¨è¿™é‡Œ <a href="http://www.ibm.com/developerworks/cn/java/j-jar/" target="_blank" rel="external">JAR æ–‡ä»¶æ­å¯† -æ¥è‡ªIBMå…¬å¸å®˜ç½‘</a> ä¸‹é¢åšä¸€äº›jarçš„ç‰¹æ€§æ‘˜è¦ï¼š</p>
<p>JAR æ–‡ä»¶æ ¼å¼æä¾›äº†è®¸å¤šä¼˜åŠ¿å’ŒåŠŸèƒ½ï¼Œå…¶ä¸­å¾ˆå¤šæ˜¯ä¼ ç»Ÿçš„å‹ç¼©æ ¼å¼å¦‚ ZIP æˆ–è€… TAR æ‰€æ²¡æœ‰æä¾›çš„ã€‚å®ƒä»¬åŒ…æ‹¬ï¼š</p>
<ul>
<li>å®‰å…¨æ€§ã€‚å¯ä»¥å¯¹ JAR æ–‡ä»¶å†…å®¹åŠ ä¸Šæ•°å­—åŒ–ç­¾åã€‚è¿™æ ·ï¼Œèƒ½å¤Ÿè¯†åˆ«ç­¾åçš„å·¥å…·å°±å¯ä»¥æœ‰é€‰æ‹©åœ°ä¸ºæ‚¨æˆäºˆè½¯ä»¶å®‰å…¨ç‰¹æƒï¼Œè¿™æ˜¯å…¶ä»–æ–‡ä»¶åšä¸åˆ°çš„ï¼Œå®ƒè¿˜å¯ä»¥æ£€æµ‹ä»£ç æ˜¯å¦è¢«ç¯¡æ”¹è¿‡ã€‚</li>
<li>å‡å°‘ä¸‹è½½æ—¶é—´ã€‚å¦‚æœä¸€ä¸ª applet æ†ç»‘åˆ°ä¸€ä¸ª JAR æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±å¯ä»¥åœ¨ä¸€ä¸ª HTTP äº‹åŠ¡ä¸­ä¸‹è½½è¿™ä¸ª applet çš„ç±»æ–‡ä»¶å’Œç›¸å…³çš„èµ„æºï¼Œè€Œä¸æ˜¯å¯¹æ¯ä¸€ä¸ªæ–‡ä»¶æ‰“å¼€ä¸€ä¸ªæ–°è¿æ¥ã€‚</li>
<li>å‹ç¼©ã€‚JAR æ ¼å¼å…è®¸æ‚¨å‹ç¼©æ–‡ä»¶ä»¥æé«˜å­˜å‚¨æ•ˆç‡ã€‚</li>
<li>ä¼ è¾“å¹³å°æ‰©å±•ã€‚Java æ‰©å±•æ¡†æ¶ (Java Extensions Framework) æä¾›äº†å‘ Java æ ¸å¿ƒå¹³å°æ·»åŠ åŠŸèƒ½çš„æ–¹æ³•ï¼Œè¿™äº›æ‰©å±•æ˜¯ç”¨ JAR æ–‡ä»¶æ‰“åŒ…çš„ (Java 3D å’Œ JavaMail å°±æ˜¯ç”± Sun å¼€å‘çš„æ‰©å±•ä¾‹å­ )ã€‚</li>
<li>åŒ…å¯†å°ã€‚å­˜å‚¨åœ¨ JAR æ–‡ä»¶ä¸­çš„åŒ…å¯ä»¥é€‰æ‹©è¿›è¡Œ å¯†å°ï¼Œä»¥å¢å¼ºç‰ˆæœ¬ä¸€è‡´æ€§å’Œå®‰å…¨æ€§ã€‚å¯†å°ä¸€ä¸ªåŒ…æ„å‘³ç€åŒ…ä¸­çš„æ‰€æœ‰ç±»éƒ½å¿…é¡»åœ¨åŒä¸€ JAR æ–‡ä»¶ä¸­æ‰¾åˆ°ã€‚</li>
<li>åŒ…ç‰ˆæœ¬æ§åˆ¶ã€‚ä¸€ä¸ª JAR æ–‡ä»¶å¯ä»¥åŒ…å«æœ‰å…³å®ƒæ‰€åŒ…å«çš„æ–‡ä»¶çš„æ•°æ®ï¼Œå¦‚å‚å•†å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚</li>
<li>å¯ç§»æ¤æ€§ã€‚å¤„ç† JAR æ–‡ä»¶çš„æœºåˆ¶æ˜¯ Java å¹³å°æ ¸å¿ƒ API çš„æ ‡å‡†éƒ¨åˆ†ã€‚</li>
</ul>
<h1 id="Eclipseå¹³å°æ‰“åŒ…-jar-çš„æ–¹å¼"><a href="#Eclipseå¹³å°æ‰“åŒ…-jar-çš„æ–¹å¼" class="headerlink" title="Eclipseå¹³å°æ‰“åŒ… jar çš„æ–¹å¼"></a>Eclipseå¹³å°æ‰“åŒ… jar çš„æ–¹å¼</h1><ol>
<li><p>è‡ªåŠ¨åŒ–æ‰“jaråŒ…æ–¹æ³•<br><a href="http://stackoverflow.com/questions/1062941/build-project-into-a-jar-automatically-in-eclipse" target="_blank" rel="external">Build project into a JAR automatically in Eclipse -æ¥è‡ªstackoverflow</a></p>
</li>
<li><p>æ‰‹åŠ¨å¯¼å‡º</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="bullet">1. </span>Choose Export &gt; Java &gt; JAR file </div><div class="line"><span class="bullet">2. </span>é€‰ä¸­éœ€è¦å¯¼å‡ºçš„æ–‡ä»¶å³å¯</div></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="ä½¿ç”¨Android-Studioå¯¼å‡ºjaråŒ…"><a href="#ä½¿ç”¨Android-Studioå¯¼å‡ºjaråŒ…" class="headerlink" title="ä½¿ç”¨Android Studioå¯¼å‡ºjaråŒ…"></a>ä½¿ç”¨Android Studioå¯¼å‡ºjaråŒ…</h1><p>Android Studioåªèƒ½é—´æ¥å¯¼å‡ºjaråŒ…ï¼Œå¯¹æ­¤æˆ‘æ·±è¡¨é—æ†¾ï¼Œå®ƒéœ€è¦æ–°å»ºä¸€ä¸ªandroid studioçš„ç©ºé¡¹ç›®ï¼Œç„¶å æ·»åŠ ä¸€ä¸ªåä¸º Android Library çš„åº“ã€‚æœ€åå°†è¿™ä¸ªåº“å¯¼å‡ºä¸ºjaræ–‡ä»¶ã€‚è¿™é‡Œç€é‡è¯´æ˜å‡ ä¸ªæˆ‘é‡åˆ°çš„é—®é¢˜ï¼Œ</p>
<ul>
<li>éœ€è¦åˆ é™¤test projectä¹Ÿå°±æ˜¯æµ‹è¯•å·¥ç¨‹ï¼Œå¹¶ä¸”åœ¨Gradleä¸­åˆ é™¤æµ‹è¯•é¡¹ç›®çš„ç¼–è¯‘å‘½ä»¤ </li>
<li>å¯¼å‡ºçš„ä»£ç æ˜¯æ•´ä¸ª Library çš„ä»£ç </li>
</ul>
<h2 id="æ“ä½œæ­¥éª¤ï¼š"><a href="#æ“ä½œæ­¥éª¤ï¼š" class="headerlink" title="æ“ä½œæ­¥éª¤ï¼š"></a>æ“ä½œæ­¥éª¤ï¼š</h2><ol>
<li><p>ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥é»˜è®¤å³å¯ï¼Œæ³¨æ„æ­¤å¤„ ä½ çš„Application Nameéœ€è¦å¤§å†™å¼€å¤´<br><img src="/uploads/QQ20161203-0@2x.jpg" alt="åˆ›å»ºå·¥ç¨‹"></p>
</li>
<li><p>æ­¤å¤„æˆ‘ä½¿ç”¨çš„ MyPlugunJar ä½œä¸º Andorid Library(ç±»åº“)å<br><img src="/uploads/QQ20161203-1@2x.jpg" alt="åˆ›å»ºAndroid Library"></p>
</li>
</ol>
<p><img src="/uploads/QQ20161203-5@2x.jpg" alt="æ·»åŠ ä¸€ä¸ªæµ‹è¯•ç”¨çš„ MainActivity.java"></p>
<ol>
<li>åˆ é™¤æµ‹è¯•å·¥ç¨‹<br><img src="/uploads/AFF4FDDB-BA8D-47B8-978A-04A84C1F9D39.jpg" alt="æ‰“å¼€Moudle è®¾ç½®"></li>
</ol>
<p><img src="/uploads/QQ20161203-2@2x.jpg" alt="ä¾æ¬¡åˆ é™¤ app/MyPlugunJarçš„ä¾èµ–é¡¹"></p>
<p><img src="/uploads/70EAC071-2BCC-444F-BD37-A43DB14E4745.jpg" alt="ä¾æ¬¡åˆ é™¤ æµ‹è¯•é¡¹ç›®"></p>
<p>è¿™ä¸€æ­¥éœ€è¦æ³¨æ„ä¸€ä¸‹ å¦‚æœæ˜¯ Build Unity3D ä½¿ç”¨çš„jaråŒ… æ˜¯ä¸éœ€è¦å¼•ç”¨ <code>com.android.support:appcompat-v7:22.2.0</code> è¿™ä¸ªé¡¹ç›®çš„ï¼Œå¯ä»¥é€‚å½“çš„äºˆä»¥åˆ é™¤ã€‚</p>
<ol>
<li>æ·»åŠ è‡ªåŠ¨æ„å»ºä»£ç <br>é€‰ä¸­appçš„Gradle,æ·»åŠ å¦‚ä¸‹ä»£ç </li>
</ol>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">dependencies</span> &#123;</div><div class="line">    <span class="keyword">compile</span> <span class="keyword">fileTree</span>(<span class="keyword">include</span>: [<span class="string">'*.jar'</span>], dir: <span class="string">'libs'</span>)</div><div class="line">    <span class="keyword">compile</span> <span class="string">'com.android.support:appcompat-v7:22.2.0'</span></div><div class="line"></div><div class="line">    <span class="comment">//æ·»åŠ ç¼–è¯‘çš„ç±»åº“</span></div><div class="line">    <span class="keyword">compile</span> <span class="keyword">project</span>(<span class="string">':myplugunjar'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é€‰ä¸­myplugunjarçš„Gradle,æ·»åŠ å¦‚ä¸‹ä»£ç </p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">task</span> makeJar(type: <span class="keyword">Copy</span>) &#123;</div><div class="line">    <span class="comment">//åˆ é™¤å­˜åœ¨çš„</span></div><div class="line">    <span class="keyword">delete</span> <span class="string">'build/libs/mysdk.jar'</span></div><div class="line">    <span class="comment">//æ‰“åŒ…è¿™ä¸ªé‡Œé¢çš„æ–‡ä»¶</span></div><div class="line">    <span class="keyword">from</span>(<span class="string">'build/intermediates/bundles/release/'</span>)</div><div class="line">    <span class="comment">//æ”¾åˆ°è¿™ä¸ªç›®å½•</span></div><div class="line">    <span class="keyword">into</span>(<span class="string">'build/libs/'</span>)</div><div class="line">    <span class="comment">//å°†classes.jaræ”¾å…¥build/libs/ç›®å½•ä¸‹</span></div><div class="line">    <span class="comment">//include ,excludeå‚æ•°æ¥è®¾ç½®è¿‡æ»¤</span></div><div class="line">    <span class="comment">//è¿™é‡Œåªéœ€è¦åŒ…å«classes.jarè¿™ä¸ªæ–‡ä»¶</span></div><div class="line">    <span class="keyword">include</span>(<span class="string">'classes.jar'</span>)</div><div class="line">    <span class="comment">//é‡å‘½å</span></div><div class="line">    rename (<span class="string">'classes.jar'</span>, <span class="string">'mysdk.jar'</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line">makeJar.dependsOn(build)</div></pre></td></tr></table></figure>
<p><img src="/uploads/QQ20161203-3@2x.jpg" alt="æ·»åŠ è‡ªåŠ¨æ„å»ºä»£ç "></p>
<ol>
<li>ç¼–è¯‘ï¼Œå¹¶ä¸”è·å–jaråŒ…</li>
</ol>
<p><img src="/uploads/QQ20161203-4@2x.jpg" alt="åˆ‡æ¢åˆ°appé¡¹ç›®ç›®å½•"></p>
<p>ç¼–è¯‘æŒ‡ä»¤å¦‚ä¸‹<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">gradle makeJar</span></div></pre></td></tr></table></figure></p>
<p><img src="/uploads/QQ20161203-6@2x.jpg" alt="æœ€ç»ˆç”Ÿæˆçš„æ–‡ä»¶"></p>
<p><img src="/uploads/QQ20161203-8@2x.jpg" alt="è§£å‹è¿™ä¸ªæ–‡ä»¶,æŸ¥çœ‹æ˜¯å¦æ­£ç¡®"></p>
<h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="http://blog.csdn.net/ta893115871/article/details/46955791/" target="_blank" rel="external">è¯¥æ–‡ç« è¿˜ä»‹ç»äº†æ‰“åŒ…èµ„æºæ–‡ä»¶åˆ°jar</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å½“ä½ åœ¨Unity3Då¼€å‘çš„æ—¶å€™éœ€è¦ä¸€ä¸ªAndroid Pluginçš„æ—¶å€™å›æ¥çœ‹çœ‹è¿™ä¸ªæ–‡ç« å§ï¼Œæœ¬ç¯‡ä»‹ç»å¦‚ä½•ä½¿ç”¨Android Studioç”ŸæˆjaråŒ…(MacOS)ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Android Studio" scheme="http://vrast.cn/categories/Android-Studio/"/>
    
    
      <category term="jar" scheme="http://vrast.cn/tags/jar/"/>
    
  </entry>
  
</feed>
